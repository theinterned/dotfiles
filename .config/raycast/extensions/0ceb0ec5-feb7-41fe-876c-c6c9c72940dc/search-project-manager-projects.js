var Le=Object.create;var x=Object.defineProperty,$e=Object.defineProperties,Me=Object.getOwnPropertyDescriptor,De=Object.getOwnPropertyDescriptors,We=Object.getOwnPropertyNames,U=Object.getOwnPropertySymbols,Be=Object.getPrototypeOf,Y=Object.prototype.hasOwnProperty,Re=Object.prototype.propertyIsEnumerable;var Q=(e,t,r)=>t in e?x(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,h=(e,t)=>{for(var r in t||(t={}))Y.call(t,r)&&Q(e,r,t[r]);if(U)for(var r of U(t))Re.call(t,r)&&Q(e,r,t[r]);return e},A=(e,t)=>$e(e,De(t)),H=e=>x(e,"__esModule",{value:!0});var g=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),Ge=(e,t)=>{for(var r in t)x(e,r,{get:t[r],enumerable:!0})},Z=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of We(t))!Y.call(e,o)&&(r||o!=="default")&&x(e,o,{get:()=>t[o],enumerable:!(n=Me(t,o))||n.enumerable});return e},O=(e,t)=>Z(H(x(e!=null?Le(Be(e)):{},"default",!t&&e&&e.__esModule?{get:()=>e.default,enumerable:!0}:{value:e,enumerable:!0})),e),Ne=(e=>(t,r)=>e&&e.get(t)||(r=Z(H({}),t,1),e&&e.set(t,r),r))(typeof WeakMap!="undefined"?new WeakMap:0);var k=g((yt,te)=>{"use strict";var ee=require("fs"),q;function Ke(){try{return ee.statSync("/.dockerenv"),!0}catch{return!1}}function Ve(){try{return ee.readFileSync("/proc/self/cgroup","utf8").includes("docker")}catch{return!1}}te.exports=()=>(q===void 0&&(q=Ke()||Ve()),q)});var oe=g((Pt,L)=>{"use strict";var ze=require("os"),Je=require("fs"),re=k(),ne=()=>{if(process.platform!=="linux")return!1;if(ze.release().toLowerCase().includes("microsoft"))return!re();try{return Je.readFileSync("/proc/version","utf8").toLowerCase().includes("microsoft")?!re():!1}catch{return!1}};process.env.__IS_WSL_TEST__?L.exports=ne:L.exports=ne()});var se=g((wt,ie)=>{"use strict";ie.exports=(e,t,r)=>{let n=o=>Object.defineProperty(e,t,{value:o,enumerable:!0,writable:!0});return Object.defineProperty(e,t,{configurable:!0,enumerable:!0,get(){let o=r();return n(o),o},set(o){n(o)}}),e}});var de=g((Et,pe)=>{var Xe=require("path"),Ue=require("child_process"),{promises:$,constants:fe}=require("fs"),v=oe(),Qe=k(),M=se(),ce=Xe.join(__dirname,"xdg-open"),{platform:P,arch:ae}=process,Ye=(()=>{let e="/mnt/",t;return async function(){if(t)return t;let r="/etc/wsl.conf",n=!1;try{await $.access(r,fe.F_OK),n=!0}catch{}if(!n)return e;let o=await $.readFile(r,{encoding:"utf8"}),i=/(?<!#.*)root\s*=\s*(?<mountPoint>.*)/g.exec(o);return i?(t=i.groups.mountPoint.trim(),t=t.endsWith("/")?t:`${t}/`,t):e}})(),le=async(e,t)=>{let r;for(let n of e)try{return await t(n)}catch(o){r=o}throw r},b=async e=>{if(e=h({wait:!1,background:!1,newInstance:!1,allowNonzeroExitCode:!1},e),Array.isArray(e.app))return le(e.app,u=>b(A(h({},e),{app:u})));let{name:t,arguments:r=[]}=e.app||{};if(r=[...r],Array.isArray(t))return le(t,u=>b(A(h({},e),{app:{name:u,arguments:r}})));let n,o=[],i={};if(P==="darwin")n="open",e.wait&&o.push("--wait-apps"),e.background&&o.push("--background"),e.newInstance&&o.push("--new"),t&&o.push("-a",t);else if(P==="win32"||v&&!Qe()){let u=await Ye();n=v?`${u}c/Windows/System32/WindowsPowerShell/v1.0/powershell.exe`:`${process.env.SYSTEMROOT}\\System32\\WindowsPowerShell\\v1.0\\powershell`,o.push("-NoProfile","-NonInteractive","\u2013ExecutionPolicy","Bypass","-EncodedCommand"),v||(i.windowsVerbatimArguments=!0);let l=["Start"];e.wait&&l.push("-Wait"),t?(l.push(`"\`"${t}\`""`,"-ArgumentList"),e.target&&r.unshift(e.target)):e.target&&l.push(`"${e.target}"`),r.length>0&&(r=r.map(f=>`"\`"${f}\`""`),l.push(r.join(","))),e.target=Buffer.from(l.join(" "),"utf16le").toString("base64")}else{if(t)n=t;else{let u=!__dirname||__dirname==="/",l=!1;try{await $.access(ce,fe.X_OK),l=!0}catch{}n=process.versions.electron||P==="android"||u||!l?"xdg-open":ce}r.length>0&&o.push(...r),e.wait||(i.stdio="ignore",i.detached=!0)}e.target&&o.push(e.target),P==="darwin"&&r.length>0&&o.push("--args",...r);let s=Ue.spawn(n,o,i);return e.wait?new Promise((u,l)=>{s.once("error",l),s.once("close",f=>{if(e.allowNonzeroExitCode&&f>0){l(new Error(`Exited with code ${f}`));return}u(s)})}):(s.unref(),s)},D=(e,t)=>{if(typeof e!="string")throw new TypeError("Expected a `target`");return b(A(h({},t),{target:e}))},He=(e,t)=>{if(typeof e!="string")throw new TypeError("Expected a `name`");let{arguments:r=[]}=t||{};if(r!=null&&!Array.isArray(r))throw new TypeError("Expected `appArguments` as Array type");return b(A(h({},t),{app:{name:e,arguments:r}}))};function ue(e){if(typeof e=="string"||Array.isArray(e))return e;let{[ae]:t}=e;if(!t)throw new Error(`${ae} is not supported`);return t}function W({[P]:e},{wsl:t}){if(t&&v)return ue(t);if(!e)throw new Error(`${P} is not supported`);return ue(e)}var F={};M(F,"chrome",()=>W({darwin:"google chrome",win32:"chrome",linux:["google-chrome","google-chrome-stable","chromium"]},{wsl:{ia32:"/mnt/c/Program Files (x86)/Google/Chrome/Application/chrome.exe",x64:["/mnt/c/Program Files/Google/Chrome/Application/chrome.exe","/mnt/c/Program Files (x86)/Google/Chrome/Application/chrome.exe"]}}));M(F,"firefox",()=>W({darwin:"firefox",win32:"C:\\Program Files\\Mozilla Firefox\\firefox.exe",linux:"firefox"},{wsl:"/mnt/c/Program Files/Mozilla Firefox/firefox.exe"}));M(F,"edge",()=>W({darwin:"microsoft edge",win32:"msedge",linux:["microsoft-edge","microsoft-edge-dev"]},{wsl:"/mnt/c/Program Files (x86)/Microsoft/Edge/Application/msedge.exe"}));D.apps=F;D.openApp=He;pe.exports=D});var ye=g(y=>{y.parse=y.decode=Ze;y.stringify=y.encode=he;y.safe=w;y.unsafe=T;var B=typeof process<"u"&&process.platform==="win32"?`\r
`:`
`;function he(e,t){var r=[],n="";typeof t=="string"?t={section:t,whitespace:!1}:(t=t||{},t.whitespace=t.whitespace===!0);var o=t.whitespace?" = ":"=";return Object.keys(e).forEach(function(i,s,u){var l=e[i];l&&Array.isArray(l)?l.forEach(function(f){n+=w(i+"[]")+o+w(f)+`
`}):l&&typeof l=="object"?r.push(i):n+=w(i)+o+w(l)+B}),t.section&&n.length&&(n="["+w(t.section)+"]"+B+n),r.forEach(function(i,s,u){var l=me(i).join("\\."),f=(t.section?t.section+".":"")+l,a=he(e[i],{section:f,whitespace:t.whitespace});n.length&&a.length&&(n+=B),n+=a}),n}function me(e){return e.replace(/\1/g,"LITERAL\\1LITERAL").replace(/\\\./g,"").split(/\./).map(function(t){return t.replace(/\1/g,"\\.").replace(/\2LITERAL\\1LITERAL\2/g,"")})}function Ze(e){var t={},r=t,n=null,o=/^\[([^\]]*)\]$|^([^=]+)(=(.*))?$/i,i=e.split(/[\r\n]+/g);return i.forEach(function(s,u,l){if(!(!s||s.match(/^\s*[;#]/))){var f=s.match(o);if(!!f){if(f[1]!==void 0){if(n=T(f[1]),n==="__proto__"){r={};return}r=t[n]=t[n]||{};return}var a=T(f[2]);if(a!=="__proto__"){var m=f[3]?T(f[4]):!0;switch(m){case"true":case"false":case"null":m=JSON.parse(m)}if(a.length>2&&a.slice(-2)==="[]"){if(a=a.substring(0,a.length-2),a==="__proto__")return;r[a]?Array.isArray(r[a])||(r[a]=[r[a]]):r[a]=[]}Array.isArray(r[a])?r[a].push(m):r[a]=m}}}}),Object.keys(t).filter(function(s,u,l){if(!t[s]||typeof t[s]!="object"||Array.isArray(t[s]))return!1;var f=me(s),a=t,m=f.pop(),X=m.replace(/\\\./g,".");return f.forEach(function(S,ht,mt){S!=="__proto__"&&((!a[S]||typeof a[S]!="object")&&(a[S]={}),a=a[S])}),a===t&&X===m?!1:(a[X]=t[s],!0)}).forEach(function(s,u,l){delete t[s]}),t}function ge(e){return e.charAt(0)==='"'&&e.slice(-1)==='"'||e.charAt(0)==="'"&&e.slice(-1)==="'"}function w(e){return typeof e!="string"||e.match(/[=\r\n]/)||e.match(/^\[/)||e.length>1&&ge(e)||e!==e.trim()?JSON.stringify(e):e.replace(/;/g,"\\;").replace(/#/g,"\\#")}function T(e,t){if(e=(e||"").trim(),ge(e)){e.charAt(0)==="'"&&(e=e.substr(1,e.length-2));try{e=JSON.parse(e)}catch{}}else{for(var r=!1,n="",o=0,i=e.length;o<i;o++){var s=e.charAt(o);if(r)"\\;#".indexOf(s)!==-1?n+=s:n+="\\"+s,r=!1;else{if(";#".indexOf(s)!==-1)break;s==="\\"?r=!0:n+=s}}return r&&(n+="\\"),n.trim()}return e}});var je=g((St,Ee)=>{"use strict";var Pe=require("fs"),we=require("os"),R=require("path");Ee.exports=function(e,t){typeof e!="string"&&(t=e,e=null);let r=Object.assign({cwd:process.cwd(),type:e},t),n;if(r.type==="global"?n=R.join(we.homedir(),".gitconfig"):n=R.resolve(r.cwd,".git/config"),!Pe.existsSync(n)){if(typeof r.type=="string")return null;n=R.join(we.homedir(),".config/git/config")}return Pe.existsSync(n)?n:null}});var Oe=g((xt,Ce)=>{"use strict";var _=require("fs"),et=require("os"),E=require("path"),Se=require("util"),tt=ye(),rt=je(),xe=e=>e?e.replace(/^~/,et.homedir()):"",p=(e,t)=>(typeof e=="function"&&(t=e,e=null),typeof t!="function"?p.promise(e):p.promise(e).then(r=>t(null,r)).catch(t));p.promise=e=>{let t=p.resolveConfigPath(e),r=Se.promisify(_.readFile),n=Se.promisify(_.stat);return t?n(t).then(()=>r(t,"utf8")).then(o=>(e&&e.include===!0&&(o=_e(o,E.resolve(E.dirname(t)))),Ae(o,e))):Promise.resolve(null)};p.sync=e=>{let t=p.resolveConfigPath(e);if(t&&_.existsSync(t)){let r=_.readFileSync(t,"utf8");if(e&&e.include===!0){let n=E.resolve(E.dirname(t));r=_e(r,n)}return Ae(r,e)}return{}};p.resolveConfigPath=e=>{typeof e=="string"&&(e={type:e});let t=Object.assign({cwd:process.cwd()},e),r=t.path?xe(t.path):rt(t.type);return r?E.resolve(t.cwd,r):null};p.resolve=e=>p.resolveConfigPath(e);p.expandKeys=e=>{for(let t of Object.keys(e)){let r=/(\S+) "(.*)"/.exec(t);if(!r)continue;let n=r[1];e[n]=e[n]||{},e[n][r[2]]=e[t],delete e[t]}return e};function Ae(e,t){let r=Object.assign({},t);e=e.replace(/\[(\S+) "(.*)"\]/g,(o,i,s)=>i&&s?`[${i} "${s.split(".").join("\\.")}"]`:o);let n=tt.parse(e);return r.expandKeys===!0?p.expandKeys(n):n}function _e(e,t){let r=e.split(`
`).filter(i=>i.trim()!==""),n=r.length,o=[];for(let i=0;i<n;i++){let s=r[i];if(s.indexOf("[include]")===0){let u=r[i+1].replace(/^\s*path\s*=\s*/,""),l=E.resolve(t,xe(u));o.push(_.readFileSync(l))}else o.push(s)}return o.join(`
`)}Ce.exports=p});var dt={};Ge(dt,{default:()=>qe});var c=require("@raycast/api"),d=require("fs"),N=O(de()),Te=require("os"),Ie=O(Oe()),z=require("path");var C=O(require("node:path"),1),be=O(require("node:os"),1),ve=be.default.homedir();function G(e){let t=C.default.normalize(e)+C.default.sep;return(t.startsWith(ve)?t.replace(ve+C.default.sep,`~${C.default.sep}`):t).slice(0,-1)}var j=(0,c.getPreferenceValues)(),K=j.gitClientAppPath||"",nt=(0,d.existsSync)(K),V=j.terminalAppPath||"",ot=(0,d.existsSync)(V),J=j.build,Fe={Code:"com.microsoft.VSCode","Code - Insiders":"com.microsoft.VSCodeInsiders"},it=Fe[J]??Fe.Code,I=`${(0,Te.homedir)()}/Library/Application Support/${J}/User/globalStorage/alefragnani.project-manager`;function st(){let e=ct()||I,t=`${e}/projects.json`,r=[`${e}/projects_cache_git.json`,`${e}/projects_cache_any.json`],n=[];if((0,d.existsSync)(t)){let o=JSON.parse((0,d.readFileSync)(t).toString());n.push(...o)}return r.forEach(o=>{(0,d.existsSync)(o)&&JSON.parse((0,d.readFileSync)(o).toString()).forEach(({name:s,fullPath:u})=>{n.push({name:s,rootPath:u,tags:[],enabled:!0})})}),j.hideProjectsWithoutTag&&(n=n.filter(({tags:o})=>Array.isArray(o)&&o.length)),n}function ct(){let e=j.projectManagerDataPath;if(e&&(0,d.existsSync)(e)){let t=(0,d.lstatSync)(e);if(t.isDirectory())return e;if(t.isFile())return(0,z.dirname)(e)}}function at(e){return[...e].sort((r,n)=>r.name.localeCompare(n.name))}function lt(e){let t=new Map;return e.forEach(r=>{(r.tags?.length>0?r.tags:["[no tags]"]).forEach(o=>{let i=[];t.has(o)&&i.push(...t.get(o)||[]),i.push(r),t.set(o,i)})}),new Map([...t.entries()].sort())}function ut(e){let t=lt(e),r=[];return t.forEach((n,o)=>{r.push(_jsx(c.List.Section,{key:o,title:o},n?.map((i,s)=>_jsx(ke,h({key:i.rootPath+s},i)))))}),r}function qe(){let e=[],t=st();if(!t||t.length===0)return _jsx(c.Detail,{markdown:`To use this extension, the Visual Studio Extension 
      [Project Manager](https://marketplace.visualstudio.com/items?itemName=alefragnani.project-manager)
       is required.`});let r=at(t);if(j.groupProjectsByTag){let n=ut(r);e.push(...n)}else r.forEach((n,o)=>{e.push(_jsx(ke,h({key:n.rootPath+o},n)))});return _jsx(c.List,{searchBarPlaceholder:"Search projects ..."},e)}function ke({name:e,rootPath:t,tags:r}){let n=t,o=G(n),i=(0,z.dirname)(o);return _jsx(c.List.Item,{title:e,subtitle:i,icon:{fileIcon:n},keywords:r,accessoryTitle:r?.join(", "),actions:_jsx(c.ActionPanel,null,_jsx(c.ActionPanel.Section,null,_jsx(c.Action.Open,{title:`Open in ${J}`,icon:"command-icon.png",target:n,application:it}),ot&&_jsx(c.Action,{title:"Open in Terminal",key:"terminal",onAction:()=>{(0,N.default)(n,{app:{name:V,arguments:[n]}}),(0,c.closeMainWindow)()},icon:{fileIcon:V},shortcut:{modifiers:["cmd"],key:"t"}}),nt&&pt(n)&&_jsx(c.Action,{title:"Open in Git client",key:"git-client",onAction:()=>{(0,N.default)(n,{app:{name:K,arguments:[n]}}),(0,c.closeMainWindow)()},icon:{fileIcon:K},shortcut:{modifiers:["cmd"],key:"g"}}),_jsx(c.Action.ShowInFinder,{path:n}),_jsx(c.Action.OpenWith,{path:n,shortcut:{modifiers:["cmd"],key:"o"}})),_jsx(c.ActionPanel.Section,null,_jsx(c.Action.CopyToClipboard,{title:"Copy Name",content:e,shortcut:{modifiers:["cmd"],key:"."}}),_jsx(c.Action.CopyToClipboard,{title:"Copy Path",content:o,shortcut:{modifiers:["cmd","shift"],key:"."}})),_jsx(c.ActionPanel.Section,null,_jsx(c.Action.Trash,{paths:[n],shortcut:{modifiers:["ctrl"],key:"x"}})),_jsx(ft,null))})}function ft(){return c.environment.isDevelopment?_jsx(c.ActionPanel.Section,{title:"Development"},_jsx(c.Action.Open,{title:"Open projects.json File in Code",icon:"command-icon.png",target:I,application:"Visual Studio Code"}),_jsx(c.Action.ShowInFinder,{title:"Show projects.json File in Finder",path:I}),_jsx(c.Action.CopyToClipboard,{title:"Copy projects.json File Path",content:I})):null}function pt(e){return!!Ie.default.sync({cwd:e,path:".git/config",expandKeys:!0}).core}module.exports=Ne(dt);0&&(module.exports={});
/*!
 * git-config-path <https://github.com/jonschlinkert/git-config-path>
 *
 * Copyright (c) 2015-present, Jon Schlinkert.
 * Licensed under the MIT License.
 */
/*!
 * parse-git-config <https://github.com/jonschlinkert/parse-git-config>
 *
 * Copyright (c) 2015-present, Jon Schlinkert.
 * Released under the MIT License.
 */

var qe=Object.create;var x=Object.defineProperty,$e=Object.defineProperties,Me=Object.getOwnPropertyDescriptor,Be=Object.getOwnPropertyDescriptors,We=Object.getOwnPropertyNames,U=Object.getOwnPropertySymbols,Re=Object.getPrototypeOf,Y=Object.prototype.hasOwnProperty,Ge=Object.prototype.propertyIsEnumerable;var Q=(e,t,r)=>t in e?x(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,h=(e,t)=>{for(var r in t||(t={}))Y.call(t,r)&&Q(e,r,t[r]);if(U)for(var r of U(t))Ge.call(t,r)&&Q(e,r,t[r]);return e},A=(e,t)=>$e(e,Be(t)),H=e=>x(e,"__esModule",{value:!0});var g=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),Ne=(e,t)=>{for(var r in t)x(e,r,{get:t[r],enumerable:!0})},Z=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of We(t))!Y.call(e,o)&&(r||o!=="default")&&x(e,o,{get:()=>t[o],enumerable:!(n=Me(t,o))||n.enumerable});return e},v=(e,t)=>Z(H(x(e!=null?qe(Re(e)):{},"default",!t&&e&&e.__esModule?{get:()=>e.default,enumerable:!0}:{value:e,enumerable:!0})),e),Ve=(e=>(t,r)=>e&&e.get(t)||(r=Z(H({}),t,1),e&&e.set(t,r),r))(typeof WeakMap!="undefined"?new WeakMap:0);var k=g((jt,te)=>{"use strict";var ee=require("fs"),I;function Ke(){try{return ee.statSync("/.dockerenv"),!0}catch{return!1}}function ze(){try{return ee.readFileSync("/proc/self/cgroup","utf8").includes("docker")}catch{return!1}}te.exports=()=>(I===void 0&&(I=Ke()||ze()),I)});var oe=g((Et,D)=>{"use strict";var Je=require("os"),Xe=require("fs"),re=k(),ne=()=>{if(process.platform!=="linux")return!1;if(Je.release().toLowerCase().includes("microsoft"))return!re();try{return Xe.readFileSync("/proc/version","utf8").toLowerCase().includes("microsoft")?!re():!1}catch{return!1}};process.env.__IS_WSL_TEST__?D.exports=ne:D.exports=ne()});var se=g((St,ie)=>{"use strict";ie.exports=(e,t,r)=>{let n=o=>Object.defineProperty(e,t,{value:o,enumerable:!0,writable:!0});return Object.defineProperty(e,t,{configurable:!0,enumerable:!0,get(){let o=r();return n(o),o},set(o){n(o)}}),e}});var de=g((xt,pe)=>{var Ue=require("path"),Qe=require("child_process"),{promises:q,constants:fe}=require("fs"),O=oe(),Ye=k(),$=se(),ce=Ue.join(__dirname,"xdg-open"),{platform:P,arch:ae}=process,He=(()=>{let e="/mnt/",t;return async function(){if(t)return t;let r="/etc/wsl.conf",n=!1;try{await q.access(r,fe.F_OK),n=!0}catch{}if(!n)return e;let o=await q.readFile(r,{encoding:"utf8"}),i=/(?<!#.*)root\s*=\s*(?<mountPoint>.*)/g.exec(o);return i?(t=i.groups.mountPoint.trim(),t=t.endsWith("/")?t:`${t}/`,t):e}})(),le=async(e,t)=>{let r;for(let n of e)try{return await t(n)}catch(o){r=o}throw r},T=async e=>{if(e=h({wait:!1,background:!1,newInstance:!1,allowNonzeroExitCode:!1},e),Array.isArray(e.app))return le(e.app,a=>T(A(h({},e),{app:a})));let{name:t,arguments:r=[]}=e.app||{};if(r=[...r],Array.isArray(t))return le(t,a=>T(A(h({},e),{app:{name:a,arguments:r}})));let n,o=[],i={};if(P==="darwin")n="open",e.wait&&o.push("--wait-apps"),e.background&&o.push("--background"),e.newInstance&&o.push("--new"),t&&o.push("-a",t);else if(P==="win32"||O&&!Ye()){let a=await He();n=O?`${a}c/Windows/System32/WindowsPowerShell/v1.0/powershell.exe`:`${process.env.SYSTEMROOT}\\System32\\WindowsPowerShell\\v1.0\\powershell`,o.push("-NoProfile","-NonInteractive","\u2013ExecutionPolicy","Bypass","-EncodedCommand"),O||(i.windowsVerbatimArguments=!0);let l=["Start"];e.wait&&l.push("-Wait"),t?(l.push(`"\`"${t}\`""`,"-ArgumentList"),e.target&&r.unshift(e.target)):e.target&&l.push(`"${e.target}"`),r.length>0&&(r=r.map(f=>`"\`"${f}\`""`),l.push(r.join(","))),e.target=Buffer.from(l.join(" "),"utf16le").toString("base64")}else{if(t)n=t;else{let a=!__dirname||__dirname==="/",l=!1;try{await q.access(ce,fe.X_OK),l=!0}catch{}n=process.versions.electron||P==="android"||a||!l?"xdg-open":ce}r.length>0&&o.push(...r),e.wait||(i.stdio="ignore",i.detached=!0)}e.target&&o.push(e.target),P==="darwin"&&r.length>0&&o.push("--args",...r);let s=Qe.spawn(n,o,i);return e.wait?new Promise((a,l)=>{s.once("error",l),s.once("close",f=>{if(e.allowNonzeroExitCode&&f>0){l(new Error(`Exited with code ${f}`));return}a(s)})}):(s.unref(),s)},M=(e,t)=>{if(typeof e!="string")throw new TypeError("Expected a `target`");return T(A(h({},t),{target:e}))},Ze=(e,t)=>{if(typeof e!="string")throw new TypeError("Expected a `name`");let{arguments:r=[]}=t||{};if(r!=null&&!Array.isArray(r))throw new TypeError("Expected `appArguments` as Array type");return T(A(h({},t),{app:{name:e,arguments:r}}))};function ue(e){if(typeof e=="string"||Array.isArray(e))return e;let{[ae]:t}=e;if(!t)throw new Error(`${ae} is not supported`);return t}function B({[P]:e},{wsl:t}){if(t&&O)return ue(t);if(!e)throw new Error(`${P} is not supported`);return ue(e)}var b={};$(b,"chrome",()=>B({darwin:"google chrome",win32:"chrome",linux:["google-chrome","google-chrome-stable","chromium"]},{wsl:{ia32:"/mnt/c/Program Files (x86)/Google/Chrome/Application/chrome.exe",x64:["/mnt/c/Program Files/Google/Chrome/Application/chrome.exe","/mnt/c/Program Files (x86)/Google/Chrome/Application/chrome.exe"]}}));$(b,"firefox",()=>B({darwin:"firefox",win32:"C:\\Program Files\\Mozilla Firefox\\firefox.exe",linux:"firefox"},{wsl:"/mnt/c/Program Files/Mozilla Firefox/firefox.exe"}));$(b,"edge",()=>B({darwin:"microsoft edge",win32:"msedge",linux:["microsoft-edge","microsoft-edge-dev"]},{wsl:"/mnt/c/Program Files (x86)/Microsoft/Edge/Application/msedge.exe"}));M.apps=b;M.openApp=Ze;pe.exports=M});var ye=g(y=>{y.parse=y.decode=et;y.stringify=y.encode=he;y.safe=w;y.unsafe=F;var W=typeof process<"u"&&process.platform==="win32"?`\r
`:`
`;function he(e,t){var r=[],n="";typeof t=="string"?t={section:t,whitespace:!1}:(t=t||{},t.whitespace=t.whitespace===!0);var o=t.whitespace?" = ":"=";return Object.keys(e).forEach(function(i,s,a){var l=e[i];l&&Array.isArray(l)?l.forEach(function(f){n+=w(i+"[]")+o+w(f)+`
`}):l&&typeof l=="object"?r.push(i):n+=w(i)+o+w(l)+W}),t.section&&n.length&&(n="["+w(t.section)+"]"+W+n),r.forEach(function(i,s,a){var l=me(i).join("\\."),f=(t.section?t.section+".":"")+l,u=he(e[i],{section:f,whitespace:t.whitespace});n.length&&u.length&&(n+=W),n+=u}),n}function me(e){return e.replace(/\1/g,"LITERAL\\1LITERAL").replace(/\\\./g,"").split(/\./).map(function(t){return t.replace(/\1/g,"\\.").replace(/\2LITERAL\\1LITERAL\2/g,"")})}function et(e){var t={},r=t,n=null,o=/^\[([^\]]*)\]$|^([^=]+)(=(.*))?$/i,i=e.split(/[\r\n]+/g);return i.forEach(function(s,a,l){if(!(!s||s.match(/^\s*[;#]/))){var f=s.match(o);if(!!f){if(f[1]!==void 0){if(n=F(f[1]),n==="__proto__"){r={};return}r=t[n]=t[n]||{};return}var u=F(f[2]);if(u!=="__proto__"){var m=f[3]?F(f[4]):!0;switch(m){case"true":case"false":case"null":m=JSON.parse(m)}if(u.length>2&&u.slice(-2)==="[]"){if(u=u.substring(0,u.length-2),u==="__proto__")return;r[u]?Array.isArray(r[u])||(r[u]=[r[u]]):r[u]=[]}Array.isArray(r[u])?r[u].push(m):r[u]=m}}}}),Object.keys(t).filter(function(s,a,l){if(!t[s]||typeof t[s]!="object"||Array.isArray(t[s]))return!1;var f=me(s),u=t,m=f.pop(),X=m.replace(/\\\./g,".");return f.forEach(function(S,yt,Pt){S!=="__proto__"&&((!u[S]||typeof u[S]!="object")&&(u[S]={}),u=u[S])}),u===t&&X===m?!1:(u[X]=t[s],!0)}).forEach(function(s,a,l){delete t[s]}),t}function ge(e){return e.charAt(0)==='"'&&e.slice(-1)==='"'||e.charAt(0)==="'"&&e.slice(-1)==="'"}function w(e){return typeof e!="string"||e.match(/[=\r\n]/)||e.match(/^\[/)||e.length>1&&ge(e)||e!==e.trim()?JSON.stringify(e):e.replace(/;/g,"\\;").replace(/#/g,"\\#")}function F(e,t){if(e=(e||"").trim(),ge(e)){e.charAt(0)==="'"&&(e=e.substr(1,e.length-2));try{e=JSON.parse(e)}catch{}}else{for(var r=!1,n="",o=0,i=e.length;o<i;o++){var s=e.charAt(o);if(r)"\\;#".indexOf(s)!==-1?n+=s:n+="\\"+s,r=!1;else{if(";#".indexOf(s)!==-1)break;s==="\\"?r=!0:n+=s}}return r&&(n+="\\"),n.trim()}return e}});var Ee=g((_t,je)=>{"use strict";var Pe=require("fs"),we=require("os"),R=require("path");je.exports=function(e,t){typeof e!="string"&&(t=e,e=null);let r=Object.assign({cwd:process.cwd(),type:e},t),n;if(r.type==="global"?n=R.join(we.homedir(),".gitconfig"):n=R.resolve(r.cwd,".git/config"),!Pe.existsSync(n)){if(typeof r.type=="string")return null;n=R.join(we.homedir(),".config/git/config")}return Pe.existsSync(n)?n:null}});var ve=g((Ct,Ce)=>{"use strict";var _=require("fs"),tt=require("os"),j=require("path"),Se=require("util"),rt=ye(),nt=Ee(),xe=e=>e?e.replace(/^~/,tt.homedir()):"",p=(e,t)=>(typeof e=="function"&&(t=e,e=null),typeof t!="function"?p.promise(e):p.promise(e).then(r=>t(null,r)).catch(t));p.promise=e=>{let t=p.resolveConfigPath(e),r=Se.promisify(_.readFile),n=Se.promisify(_.stat);return t?n(t).then(()=>r(t,"utf8")).then(o=>(e&&e.include===!0&&(o=_e(o,j.resolve(j.dirname(t)))),Ae(o,e))):Promise.resolve(null)};p.sync=e=>{let t=p.resolveConfigPath(e);if(t&&_.existsSync(t)){let r=_.readFileSync(t,"utf8");if(e&&e.include===!0){let n=j.resolve(j.dirname(t));r=_e(r,n)}return Ae(r,e)}return{}};p.resolveConfigPath=e=>{typeof e=="string"&&(e={type:e});let t=Object.assign({cwd:process.cwd()},e),r=t.path?xe(t.path):nt(t.type);return r?j.resolve(t.cwd,r):null};p.resolve=e=>p.resolveConfigPath(e);p.expandKeys=e=>{for(let t of Object.keys(e)){let r=/(\S+) "(.*)"/.exec(t);if(!r)continue;let n=r[1];e[n]=e[n]||{},e[n][r[2]]=e[t],delete e[t]}return e};function Ae(e,t){let r=Object.assign({},t);e=e.replace(/\[(\S+) "(.*)"\]/g,(o,i,s)=>i&&s?`[${i} "${s.split(".").join("\\.")}"]`:o);let n=rt.parse(e);return r.expandKeys===!0?p.expandKeys(n):n}function _e(e,t){let r=e.split(`
`).filter(i=>i.trim()!==""),n=r.length,o=[];for(let i=0;i<n;i++){let s=r[i];if(s.indexOf("[include]")===0){let a=r[i+1].replace(/^\s*path\s*=\s*/,""),l=j.resolve(t,xe(a));o.push(_.readFileSync(l))}else o.push(s)}return o.join(`
`)}Ce.exports=p});var gt={};Ne(gt,{default:()=>ke});var c=require("@raycast/api"),d=require("fs"),N=v(de()),Fe=require("os"),Le=v(ve()),z=require("path"),Ie=require("react");var C=v(require("node:path"),1),Te=v(require("node:os"),1),Oe=Te.default.homedir();function G(e){let t=C.default.normalize(e)+C.default.sep;return(t.startsWith(Oe)?t.replace(Oe+C.default.sep,`~${C.default.sep}`):t).slice(0,-1)}var E=(0,c.getPreferenceValues)(),V=E.gitClientAppPath||"",ot=(0,d.existsSync)(V),K=E.terminalAppPath||"",it=(0,d.existsSync)(K),J=E.build,be={Code:"com.microsoft.VSCode","Code - Insiders":"com.microsoft.VSCodeInsiders",VSCodium:"com.visualstudio.code.oss"},st=be[J]??be.Code,L=`${(0,Fe.homedir)()}/Library/Application Support/${J}/User/globalStorage/alefragnani.project-manager`;function ct(){let e=ut()||L,t=`${e}/projects.json`,r=[`${e}/projects_cache_git.json`,`${e}/projects_cache_any.json`],n=[];if((0,d.existsSync)(t)){let o=JSON.parse((0,d.readFileSync)(t).toString());n.push(...o)}return r.forEach(o=>{(0,d.existsSync)(o)&&JSON.parse((0,d.readFileSync)(o).toString()).forEach(({name:s,fullPath:a})=>{n.push({name:s,rootPath:a,tags:[],enabled:!0})})}),E.hideProjectsWithoutTag&&(n=n.filter(({tags:o})=>Array.isArray(o)&&o.length)),n}function at(e){return e?.reduce((t,r)=>(r.tags?.forEach(n=>{t.includes(n)||t.push(n)}),t.sort((n,o)=>n.toLowerCase().localeCompare(o.toLowerCase()))),[])}var lt=(e,t)=>e.filter(r=>t?r.tags?.find(n=>n===t):!0);function ut(){let e=E.projectManagerDataPath;if(e&&(0,d.existsSync)(e)){let t=(0,d.lstatSync)(e);if(t.isDirectory())return e;if(t.isFile())return(0,z.dirname)(e)}}function ft(e){return[...e].sort((r,n)=>r.name.localeCompare(n.name))}function pt(e){let t=new Map;return e.forEach(r=>{(r.tags?.length>0?r.tags:["[no tags]"]).forEach(o=>{let i=[];t.has(o)&&i.push(...t.get(o)||[]),i.push(r),t.set(o,i)})}),new Map([...t.entries()].sort())}function dt(e){let t=pt(e),r=[];return t.forEach((n,o)=>{r.push(_jsx(c.List.Section,{key:o,title:o},n?.map((i,s)=>_jsx(De,h({key:i.rootPath+s},i)))))}),r}function ke(){let e=[],t=ct(),r=at(t),[n,o]=(0,Ie.useState)("");if(!t||t.length===0)return _jsx(c.Detail,{markdown:`To use this extension, the Visual Studio Extension 
      [Project Manager](https://marketplace.visualstudio.com/items?itemName=alefragnani.project-manager)
       is required.`});let i=ft(t);if(E.groupProjectsByTag&&!n){let a=dt(i);e.push(...a)}else lt(i,n).forEach((a,l)=>{e.push(_jsx(De,h({key:a.rootPath+l},a)))});let s=a=>{o(a)};return _jsx(c.List,{searchBarPlaceholder:"Search projects ...",searchBarAccessory:r.length?_jsx(c.List.Dropdown,{tooltip:"Tags filter",onChange:s,defaultValue:void 0},_jsx(c.List.Dropdown.Section,null,_jsx(c.List.Dropdown.Item,{key:"0",title:"All Tags",value:""})),_jsx(c.List.Dropdown.Section,{title:"Tags"},r.map((a,l)=>_jsx(c.List.Dropdown.Item,{key:"tag-"+l,title:a,value:a})))):null},e)}function De({name:e,rootPath:t,tags:r}){let n=t,o=G(n),i=(0,z.dirname)(o);return _jsx(c.List.Item,{title:e,subtitle:i,icon:{fileIcon:n},keywords:r,accessoryTitle:r?.join(", "),actions:_jsx(c.ActionPanel,null,_jsx(c.ActionPanel.Section,null,_jsx(c.Action.Open,{title:`Open in ${J}`,icon:"command-icon.png",target:n,application:st}),it&&_jsx(c.Action,{title:"Open in Terminal",key:"terminal",onAction:()=>{(0,N.default)(n,{app:{name:K,arguments:[n]}}),(0,c.closeMainWindow)()},icon:{fileIcon:K},shortcut:{modifiers:["cmd"],key:"t"}}),ot&&mt(n)&&_jsx(c.Action,{title:"Open in Git client",key:"git-client",onAction:()=>{(0,N.default)(n,{app:{name:V,arguments:[n]}}),(0,c.closeMainWindow)()},icon:{fileIcon:V},shortcut:{modifiers:["cmd"],key:"g"}}),_jsx(c.Action.ShowInFinder,{path:n}),_jsx(c.Action.OpenWith,{path:n,shortcut:{modifiers:["cmd"],key:"o"}})),_jsx(c.ActionPanel.Section,null,_jsx(c.Action.CopyToClipboard,{title:"Copy Name",content:e,shortcut:{modifiers:["cmd"],key:"."}}),_jsx(c.Action.CopyToClipboard,{title:"Copy Path",content:o,shortcut:{modifiers:["cmd","shift"],key:"."}})),_jsx(c.ActionPanel.Section,null,_jsx(c.Action.Trash,{paths:[n],shortcut:{modifiers:["ctrl"],key:"x"}})),_jsx(ht,null))})}function ht(){return c.environment.isDevelopment?_jsx(c.ActionPanel.Section,{title:"Development"},_jsx(c.Action.Open,{title:"Open projects.json File in Code",icon:"command-icon.png",target:L,application:"Visual Studio Code"}),_jsx(c.Action.ShowInFinder,{title:"Show projects.json File in Finder",path:L}),_jsx(c.Action.CopyToClipboard,{title:"Copy projects.json File Path",content:L})):null}function mt(e){return!!Le.default.sync({cwd:e,path:".git/config",expandKeys:!0}).core}module.exports=Ve(gt);0&&(module.exports={});
/*!
 * git-config-path <https://github.com/jonschlinkert/git-config-path>
 *
 * Copyright (c) 2015-present, Jon Schlinkert.
 * Licensed under the MIT License.
 */
/*!
 * parse-git-config <https://github.com/jonschlinkert/parse-git-config>
 *
 * Copyright (c) 2015-present, Jon Schlinkert.
 * Released under the MIT License.
 */

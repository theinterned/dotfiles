var D=Object.create;var p=Object.defineProperty;var B=Object.getOwnPropertyDescriptor;var N=Object.getOwnPropertyNames;var X=Object.getPrototypeOf,V=Object.prototype.hasOwnProperty;var E=e=>p(e,"__esModule",{value:!0});var d=(e,r)=>()=>(r||e((r={exports:{}}).exports,r),r.exports),j=(e,r)=>{E(e);for(var t in r)p(e,t,{get:r[t],enumerable:!0})},K=(e,r,t)=>{if(r&&typeof r=="object"||typeof r=="function")for(let n of N(r))!V.call(e,n)&&n!=="default"&&p(e,n,{get:()=>r[n],enumerable:!(t=B(r,n))||t.enumerable});return e},S=e=>K(E(p(e!=null?D(X(e)):{},"default",e&&e.__esModule&&"default"in e?{get:()=>e.default,enumerable:!0}:{value:e,enumerable:!0})),e);var x=d((ie,C)=>{"use strict";var _=require("fs"),w;function Y(){try{return _.statSync("/.dockerenv"),!0}catch{return!1}}function H(){try{return _.readFileSync("/proc/self/cgroup","utf8").includes("docker")}catch{return!1}}C.exports=()=>(w===void 0&&(w=Y()||H()),w)});var v=d((ae,y)=>{"use strict";var J=require("os"),Q=require("fs"),k=x(),T=()=>{if(process.platform!=="linux")return!1;if(J.release().toLowerCase().includes("microsoft"))return!k();try{return Q.readFileSync("/proc/version","utf8").toLowerCase().includes("microsoft")?!k():!1}catch{return!1}};process.env.__IS_WSL_TEST__?y.exports=T:y.exports=T()});var $=d((ce,O)=>{"use strict";O.exports=(e,r,t)=>{let n=o=>Object.defineProperty(e,r,{value:o,enumerable:!0,writable:!0});return Object.defineProperty(e,r,{configurable:!0,enumerable:!0,get(){let o=t();return n(o),o},set(o){n(o)}}),e}});var M=d((ue,I)=>{var Z=require("path"),ee=require("child_process"),{promises:P,constants:q}=require("fs"),m=v(),re=x(),A=$(),L=Z.join(__dirname,"xdg-open"),{platform:u,arch:W}=process,te=(()=>{let e="/mnt/",r;return async function(){if(r)return r;let t="/etc/wsl.conf",n=!1;try{await P.access(t,q.F_OK),n=!0}catch{}if(!n)return e;let o=await P.readFile(t,{encoding:"utf8"}),c=/(?<!#.*)root\s*=\s*(?<mountPoint>.*)/g.exec(o);return c?(r=c.groups.mountPoint.trim(),r=r.endsWith("/")?r:`${r}/`,r):e}})(),G=async(e,r)=>{let t;for(let n of e)try{return await r(n)}catch(o){t=o}throw t},g=async e=>{if(e={wait:!1,background:!1,newInstance:!1,allowNonzeroExitCode:!1,...e},Array.isArray(e.app))return G(e.app,a=>g({...e,app:a}));let{name:r,arguments:t=[]}=e.app||{};if(t=[...t],Array.isArray(r))return G(r,a=>g({...e,app:{name:a,arguments:t}}));let n,o=[],c={};if(u==="darwin")n="open",e.wait&&o.push("--wait-apps"),e.background&&o.push("--background"),e.newInstance&&o.push("--new"),r&&o.push("-a",r);else if(u==="win32"||m&&!re()){let a=await te();n=m?`${a}c/Windows/System32/WindowsPowerShell/v1.0/powershell.exe`:`${process.env.SYSTEMROOT}\\System32\\WindowsPowerShell\\v1.0\\powershell`,o.push("-NoProfile","-NonInteractive","\u2013ExecutionPolicy","Bypass","-EncodedCommand"),m||(c.windowsVerbatimArguments=!0);let i=["Start"];e.wait&&i.push("-Wait"),r?(i.push(`"\`"${r}\`""`,"-ArgumentList"),e.target&&t.unshift(e.target)):e.target&&i.push(`"${e.target}"`),t.length>0&&(t=t.map(f=>`"\`"${f}\`""`),i.push(t.join(","))),e.target=Buffer.from(i.join(" "),"utf16le").toString("base64")}else{if(r)n=r;else{let a=!__dirname||__dirname==="/",i=!1;try{await P.access(L,q.X_OK),i=!0}catch{}n=process.versions.electron||u==="android"||a||!i?"xdg-open":L}t.length>0&&o.push(...t),e.wait||(c.stdio="ignore",c.detached=!0)}e.target&&o.push(e.target),u==="darwin"&&t.length>0&&o.push("--args",...t);let l=ee.spawn(n,o,c);return e.wait?new Promise((a,i)=>{l.once("error",i),l.once("close",f=>{if(e.allowNonzeroExitCode&&f>0){i(new Error(`Exited with code ${f}`));return}a(l)})}):(l.unref(),l)},b=(e,r)=>{if(typeof e!="string")throw new TypeError("Expected a `target`");return g({...r,target:e})},ne=(e,r)=>{if(typeof e!="string")throw new TypeError("Expected a `name`");let{arguments:t=[]}=r||{};if(t!=null&&!Array.isArray(t))throw new TypeError("Expected `appArguments` as Array type");return g({...r,app:{name:e,arguments:t}})};function U(e){if(typeof e=="string"||Array.isArray(e))return e;let{[W]:r}=e;if(!r)throw new Error(`${W} is not supported`);return r}function F({[u]:e},{wsl:r}){if(r&&m)return U(r);if(!e)throw new Error(`${u} is not supported`);return U(e)}var h={};A(h,"chrome",()=>F({darwin:"google chrome",win32:"chrome",linux:["google-chrome","google-chrome-stable","chromium"]},{wsl:{ia32:"/mnt/c/Program Files (x86)/Google/Chrome/Application/chrome.exe",x64:["/mnt/c/Program Files/Google/Chrome/Application/chrome.exe","/mnt/c/Program Files (x86)/Google/Chrome/Application/chrome.exe"]}}));A(h,"firefox",()=>F({darwin:"firefox",win32:"C:\\Program Files\\Mozilla Firefox\\firefox.exe",linux:"firefox"},{wsl:"/mnt/c/Program Files/Mozilla Firefox/firefox.exe"}));A(h,"edge",()=>F({darwin:"microsoft edge",win32:"msedge",linux:["microsoft-edge","microsoft-edge-dev"]},{wsl:"/mnt/c/Program Files (x86)/Microsoft/Edge/Application/msedge.exe"}));b.apps=h;b.openApp=ne;I.exports=b});j(exports,{default:()=>z});var s=S(require("@raycast/api")),R=S(M());function oe(){function e({url:r,tags:t,pin:n}){if(!r){(0,s.showToast)(s.ToastStyle.Failure,"URL is required");return}(0,R.default)(`bear://x-callback-url/grab-url?url=${encodeURIComponent(r)}&tags=${encodeURIComponent(t)}&pin=${n?"yes":"no"}`)}return _jsx(s.SubmitFormAction,{icon:s.Icon.Globe,title:"Capture in New Note",onSubmit:e})}function z(){return _jsx(s.Form,{navigationTitle:"Grab URL",actions:_jsx(s.ActionPanel,null,_jsx(oe,null))},_jsx(s.Form.TextField,{id:"url",title:"URL",placeholder:"URL of web page to capture"}),_jsx(s.Form.TextField,{id:"tags",title:"Tags",placeholder:"comma,separated,tags"}),_jsx(s.Form.Checkbox,{id:"pin",label:"Pin note to top of note list"}))}0&&(module.exports={});

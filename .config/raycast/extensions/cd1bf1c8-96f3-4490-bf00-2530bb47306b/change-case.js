"use strict";var _=Object.defineProperty;var Y=Object.getOwnPropertyDescriptor;var Z=Object.getOwnPropertyNames;var ee=Object.prototype.hasOwnProperty;var te=(t,e)=>{for(var a in e)_(t,a,{get:e[a],enumerable:!0})},ne=(t,e,a,s)=>{if(e&&typeof e=="object"||typeof e=="function")for(let c of Z(e))!ee.call(t,c)&&c!==a&&_(t,c,{get:()=>e[c],enumerable:!(s=Y(e,c))||s.enumerable});return t};var ae=t=>ne(_({},"__esModule",{value:!0}),t);var Re={};te(Re,{default:()=>q});module.exports=ae(Re);var n=require("@raycast/api"),f=require("react");var re=/([\p{Ll}\d])(\p{Lu})/gu,se=/(\p{Lu})([\p{Lu}][\p{Ll}])/gu,ce=/(\d)(\p{Ll})/gu,oe=/(\p{L})(\d)/gu,ie=/[^\p{L}\d]+/giu,R="$1\0$2",le="";function g(t,e){let a=t.trim();a=a.replace(re,R).replace(se,R),e?.separateNumbers&&(a=a.replace(ce,R).replace(oe,R)),a=a.replace(ie,"\0");let s=0,c=a.length;for(;a.charAt(s)==="\0";)s++;if(s===c)return[];for(;a.charAt(c-1)==="\0";)c--;return a.slice(s,c).split(/\0/g)}function y(t,e){return L(t,e?.prefixCharacters)+g(t,e).map(P(e?.locale)).join(e?.delimiter??" ")}function M(t,e){let a=L(t,e?.prefixCharacters),s=P(e?.locale),c=T(e?.locale),C=e?.mergeAmbiguousCharacters?b(s,c):B(s,c);return a+g(t,e).map((i,u)=>u===0?s(i):C(i,u)).join(e?.delimiter??"")}function j(t,e){let a=L(t,e?.prefixCharacters),s=P(e?.locale),c=T(e?.locale),C=e?.mergeAmbiguousCharacters?b(s,c):B(s,c);return a+g(t,e).map(C).join(e?.delimiter??"")}function D(t,e){return w(t,{delimiter:"_",...e})}function w(t,e){let a=L(t,e?.prefixCharacters),s=P(e?.locale),c=T(e?.locale);return a+g(t,e).map(b(s,c)).join(e?.delimiter??" ")}function U(t,e){return L(t,e?.prefixCharacters)+g(t,e).map(T(e?.locale)).join(e?.delimiter??"_")}function X(t,e){return y(t,{delimiter:".",...e})}function F(t,e){return y(t,{delimiter:"-",...e})}function J(t,e){return y(t,{delimiter:"/",...e})}function W(t,e){let a=L(t,e?.prefixCharacters),s=P(e?.locale),c=T(e?.locale),C=b(s,c);return a+g(t,e).map((i,u)=>u===0?C(i):s(i)).join(e?.delimiter??" ")}function H(t,e){return y(t,{delimiter:"_",...e})}function v(t,e){return w(t,{delimiter:"-",...e})}function P(t){return t===!1?e=>e.toLowerCase():e=>e.toLocaleLowerCase(t)}function T(t){return t===!1?e=>e.toUpperCase():e=>e.toLocaleUpperCase(t)}function b(t,e){return a=>`${e(a[0])}${t(a.slice(1))}`}function B(t,e){return(a,s)=>{let c=a[0];return(s>0&&c>="0"&&c<="9"?"_"+c:e(c))+t(a.slice(1))}}function L(t,e=le){let a="";for(let s=0;s<t.length;s++){let c=t.charAt(s);if(e.includes(c))a+=c;else break}return a}function I(t,e){let a="";for(let s of t)a+=Math.random()>.5?s.toLocaleUpperCase(e):s.toLocaleLowerCase(e);return a}function K(t,e){let a="";for(let s of t){let c=s.toLocaleLowerCase(e);a+=s===c?s.toLocaleUpperCase(e):c}return a}var ue=/\S+|./g,fe=/\p{Ll}(?=[\p{Lu}])|\.\p{L}/u,pe=/[\p{L}\d]+/gu,de=new Set(["\u2014","\u2013","-","\u2015","/"]),me=new Set(["a","an","and","as","at","because","but","by","en","for","if","in","neither","nor","of","on","only","or","over","per","so","some","than","that","the","to","up","upon","v","versus","via","vs","when","with","without","yet"]);function Q(t,e={}){let a="",s,{smallWords:c=me,locale:C}=typeof e=="string"||Array.isArray(e)?{locale:e}:e;for(;(s=ue.exec(t))!==null;){let{0:i,index:u}=s;fe.test(i)?a+=i:a+=i.replace(pe,(l,m)=>u>0&&u+i.length<t.length&&c.has(l)||m>1&&!de.has(t.charAt(u+m-1))?l:l.charAt(0).toLocaleUpperCase(C)+l.slice(1))}return a}var he=t=>t.toLowerCase(),ge=t=>t.length<=1?t.toLowerCase():t[0].toLowerCase()+t.slice(1),ye=t=>t.toUpperCase(),Le=t=>t.length<=1?t.toUpperCase():t[0].toUpperCase()+t.slice(1),S={"Camel Case":M,"Capital Case":w,"Constant Case":U,"Dot Case":X,"Header Case":v,"Kebab Case":F,"Lower Case":he,"Lower First":ge,"Macro Case":U,"No Case":y,"Param Case":F,"Pascal Case":j,"Pascal Snake Case":D,"Path Case":J,"Random Case":I,"Sentence Case":W,"Snake Case":H,"Swap Case":K,"Title Case":Q,"Upper Case":ye,"Upper First":Le,"Sponge Case":I,"Train Case":v},ve=Object.keys(S);var o=require("react/jsx-runtime"),A=class extends Error{constructor(){super("No text"),Object.setPrototypeOf(this,A.prototype)}};async function Se(){try{return await(0,n.getSelectedText)()}catch{return""}}async function V(t){let e=await n.Clipboard.readText(),a=await Se();if(t==="clipboard"){if(e)return e;if(a)return a}else{if(a)return a;if(e)return e}throw new A}function N(t,e){let a=[],s=t.split(`
`);for(let c of s)a.push(e(c));return a.join(`
`)}var E=new n.Cache,Ae=()=>{let t=E.get("pinned");return t?JSON.parse(t):[]},xe=()=>{let t=E.get("recent");return t?JSON.parse(t):[]},Pe=t=>{E.set("pinned",JSON.stringify(t))},Te=t=>{E.set("recent",JSON.stringify(t))};function q(t){let e=(0,n.getPreferenceValues)(),a=e.source,s=t.launchContext?.case;if(s){(async()=>{let r=await V(a),p=S[s](r);n.Clipboard.copy(p),(0,n.showHUD)(`Converted to ${s}`),(0,n.popToRoot)()})();return}let[c,C]=(0,f.useState)(""),[i,u]=(0,f.useState)(),[l,m]=(0,f.useState)([]),[d,h]=(0,f.useState)([]);(0,f.useEffect)(()=>{m(Ae()),h(xe()),(0,n.getFrontmostApplication)().then(u)},[]),(0,f.useEffect)(()=>{Pe(l)},[l]),(0,f.useEffect)(()=>{Te(d)},[d]);let O=async()=>{try{C(await V(a))}catch(r){r instanceof A&&(0,n.showToast)({style:n.Toast.Style.Failure,title:"Nothing to convert",message:"Please ensure that text is either selected or copied"})}};(0,f.useEffect)(()=>{O()},[]);let G=r=>(0,o.jsx)(n.Action,{title:"Copy to Clipboard",icon:n.Icon.Clipboard,onAction:()=>{r.pinned||h([r.case,...d.filter(p=>p!==r.case)].slice(0,4)),(0,n.showHUD)("Copied to Clipboard"),n.Clipboard.copy(r.modified),(0,n.closeMainWindow)()}}),$=r=>i?(0,o.jsx)(n.Action,{title:`Paste in ${i.name}`,icon:{fileIcon:i.path},onAction:()=>{r.pinned||h([r.case,...d.filter(p=>p!==r.case)].slice(0,4)),(0,n.showHUD)(`Pasted in ${i.name}`),n.Clipboard.paste(r.modified),(0,n.closeMainWindow)()}}):null,k=r=>{let p=encodeURIComponent(`{"case":"${r.case}"}`),z=`raycast://extensions/erics118/${n.environment.extensionName}/${n.environment.commandName}?context=${p}`;return(0,o.jsx)(n.List.Item,{id:r.case,title:r.case,accessories:[{text:r.modified}],detail:(0,o.jsx)(n.List.Item.Detail,{markdown:r.modified}),actions:(0,o.jsxs)(n.ActionPanel,{children:[(0,o.jsxs)(n.ActionPanel.Section,{children:[e.action==="paste"&&(0,o.jsx)($,{...r}),(0,o.jsx)(G,{...r}),e.action==="copy"&&(0,o.jsx)($,{...r})]}),(0,o.jsxs)(n.ActionPanel.Section,{children:[r.pinned?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.Action,{title:"Remove Pinned Case",icon:n.Icon.PinDisabled,shortcut:{key:"r",modifiers:["cmd"]},onAction:()=>{m(l.filter(x=>x!==r.case))}}),(0,o.jsx)(n.Action,{title:"Clear Pinned Cases",icon:{source:n.Icon.XMarkCircle,tintColor:n.Color.Red},shortcut:{key:"r",modifiers:["cmd","shift"]},onAction:()=>{m([])}})]}):(0,o.jsx)(n.Action,{title:"Pin Case",icon:n.Icon.Pin,shortcut:{key:"p",modifiers:["cmd","shift"]},onAction:()=>{m([r.case,...l]),r.recent&&h(d.filter(x=>x!==r.case))}}),r.recent&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.Action,{title:"Remove Recent Case",icon:n.Icon.XMarkCircle,shortcut:{key:"r",modifiers:["cmd"]},onAction:()=>{h(d.filter(x=>x!==r.case))}}),(0,o.jsx)(n.Action,{title:"Clear Recent Cases",icon:{source:n.Icon.XMarkCircle,tintColor:n.Color.Red},shortcut:{key:"r",modifiers:["cmd","shift"]},onAction:()=>{h([])}})]}),(0,o.jsx)(n.Action.CreateQuicklink,{title:`Create Quicklink to Convert to ${r.case}`,quicklink:{name:`Convert to ${r.case}`,link:z}})]}),(0,o.jsx)(n.ActionPanel.Section,{children:(0,o.jsx)(n.Action,{title:"Refresh Content",icon:n.Icon.RotateAntiClockwise,shortcut:{key:"r",modifiers:["cmd"]},onAction:O})})]})})};return(0,o.jsxs)(n.List,{isShowingDetail:!0,children:[(0,o.jsx)(n.List.Section,{title:"Pinned",children:l?.map(r=>(0,o.jsx)(k,{case:r,modified:N(c,S[r]),pinned:!0},r))}),(0,o.jsx)(n.List.Section,{title:"Recent",children:d.map(r=>(0,o.jsx)(k,{case:r,modified:N(c,S[r]),recent:!0},r))}),(0,o.jsx)(n.List.Section,{title:"All Cases",children:Object.entries(S).filter(([r])=>e[r.replace(/ +/g,"")]&&!d.includes(r)&&!l.includes(r)).map(([r,p])=>(0,o.jsx)(k,{case:r,modified:N(c,p)},r))})]})}

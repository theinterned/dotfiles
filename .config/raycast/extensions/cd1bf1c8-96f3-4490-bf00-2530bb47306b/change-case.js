"use strict";var F=Object.defineProperty;var ee=Object.getOwnPropertyDescriptor;var te=Object.getOwnPropertyNames;var ne=Object.prototype.hasOwnProperty;var ae=(t,e)=>{for(var a in e)F(t,a,{get:e[a],enumerable:!0})},se=(t,e,a,c)=>{if(e&&typeof e=="object"||typeof e=="function")for(let r of te(e))!ne.call(t,r)&&r!==a&&F(t,r,{get:()=>e[r],enumerable:!(c=ee(e,r))||c.enumerable});return t};var re=t=>se(F({},"__esModule",{value:!0}),t);var _e={};ae(_e,{default:()=>z});module.exports=re(_e);var n=require("@raycast/api"),d=require("react");var ce=/([\p{Ll}\d])(\p{Lu})/gu,oe=/(\p{Lu})([\p{Lu}][\p{Ll}])/gu,ie=/(\d)(\p{Ll})/gu,le=/(\p{L})(\d)/gu,Ce=/[^\p{L}\d]+/giu,k="$1\0$2",D="";function L(t,e){let a=t.trim();a=a.replace(ce,k).replace(oe,k),e?.separateNumbers&&(a=a.replace(ie,k).replace(le,k)),a=a.replace(Ce,"\0");let c=0,r=a.length;for(;a.charAt(c)==="\0";)c++;if(c===r)return[];for(;a.charAt(r-1)==="\0";)r--;return a.slice(c,r).split(/\0/g)}function w(t,e){let[a,c,r]=P(t,e);return a+L(c,e).map(b(e?.locale)).join(e?.delimiter??" ")+r}function X(t,e){let[a,c,r]=P(t,e),i=b(e?.locale),C=_(e?.locale),u=e?.mergeAmbiguousCharacters?U(i,C):V(i,C);return a+L(c,e).map((m,l)=>l===0?i(m):u(m,l)).join(e?.delimiter??"")+r}function J(t,e){let[a,c,r]=P(t,e),i=b(e?.locale),C=_(e?.locale),u=e?.mergeAmbiguousCharacters?U(i,C):V(i,C);return a+L(c,e).map(u).join(e?.delimiter??"")+r}function W(t,e){return I(t,{delimiter:"_",...e})}function I(t,e){let[a,c,r]=P(t,e),i=b(e?.locale),C=_(e?.locale);return a+L(c,e).map(U(i,C)).join(e?.delimiter??" ")+r}function N(t,e){let[a,c,r]=P(t,e);return a+L(c,e).map(_(e?.locale)).join(e?.delimiter??"_")+r}function H(t,e){return w(t,{delimiter:".",...e})}function O(t,e){return w(t,{delimiter:"-",...e})}function B(t,e){return w(t,{delimiter:"/",...e})}function K(t,e){let[a,c,r]=P(t,e),i=b(e?.locale),C=_(e?.locale),u=U(i,C);return a+L(c,e).map((m,l)=>l===0?u(m):i(m)).join(e?.delimiter??" ")+r}function Q(t,e){return w(t,{delimiter:"_",...e})}function $(t,e){return I(t,{delimiter:"-",...e})}function b(t){return t===!1?e=>e.toLowerCase():e=>e.toLocaleLowerCase(t)}function _(t){return t===!1?e=>e.toUpperCase():e=>e.toLocaleUpperCase(t)}function U(t,e){return a=>`${e(a[0])}${t(a.slice(1))}`}function V(t,e){return(a,c)=>{let r=a[0];return(c>0&&r>="0"&&r<="9"?"_"+r:e(r))+t(a.slice(1))}}function P(t,e){let a=e?.prefixCharacters??D,c=e?.suffixCharacters??D,r=0,i=t.length;for(;r<t.length;){let C=t.charAt(r);if(!a.includes(C))break;r++}for(;i>r;){let C=i-1,u=t.charAt(C);if(!c.includes(u))break;i=C}return[t.slice(0,r),t.slice(r,i),t.slice(i)]}function M(t,e){let a="";for(let c of t)a+=Math.random()>.5?c.toLocaleUpperCase(e):c.toLocaleLowerCase(e);return a}function q(t,e){let a="";for(let c of t){let r=c.toLocaleLowerCase(e);a+=c===r?c.toLocaleUpperCase(e):r}return a}var fe=/(\S+)|(.)/g,pe=/[\.#]\p{L}/u,de=/\p{Ll}(?=[\p{Lu}])/u,me=/[\p{L}\d]+/gu,he=/(?:\p{Lu}\.){2,}$/u,ge=new Set(["\u2014","\u2013","-","\u2015","/"]),Se=new Set([".","!","?",":",'"',"'","\u201D"]),xe=new Set(["a","an","and","as","at","because","but","by","en","for","if","in","neither","nor","of","on","only","or","over","per","so","some","than","that","the","to","up","upon","v","versus","via","vs","when","with","without","yet"]);function G(t,e={}){let a="",c,r=!0,{smallWords:i=xe,sentenceTerminators:C=Se,wordSeparators:u=ge,locale:m}=typeof e=="string"||Array.isArray(e)?{locale:e}:e;for(;(c=fe.exec(t))!==null;){let{1:l,2:S,index:f}=c;if(S){a+=S;continue}if(pe.test(l)){if(a+=l,he.test(l)){r=!1;continue}}else{let A=Array.from(l.matchAll(me)),x=l;for(let g=0;g<A.length;g++){let{0:y,index:s=0}=A[g];if(r)r=!1;else if(i.has(y)&&!(f+l.length===t.length&&g===A.length-1))continue;de.test(y)||g>0&&!u.has(l.charAt(s-1))||(x=x.slice(0,s)+x.charAt(s).toLocaleUpperCase(m)+x.slice(s+1))}a+=x}let h=l.charAt(l.length-1);r=C.has(h)}return a}var Ae=t=>t.toLowerCase(),ye=t=>t.length<=1?t.toLowerCase():t[0].toLowerCase()+t.slice(1),Le=t=>t.toUpperCase(),we=t=>t.length<=1?t.toUpperCase():t[0].toUpperCase()+t.slice(1),T={"Camel Case":X,"Capital Case":I,"Constant Case":N,"Dot Case":H,"Header Case":$,"Kebab Case":O,"Lower Case":Ae,"Lower First":ye,"Macro Case":N,"No Case":w,"Param Case":O,"Pascal Case":J,"Pascal Snake Case":W,"Path Case":B,"Random Case":M,"Sentence Case":K,"Snake Case":Q,"Swap Case":q,"Title Case":G,"Upper Case":Le,"Upper First":we,"Sponge Case":M,"Train Case":$},$e=Object.keys(T);var o=require("react/jsx-runtime"),R=class extends Error{constructor(){super("No text"),Object.setPrototypeOf(this,R.prototype)}};async function Pe(){try{return await(0,n.getSelectedText)()}catch{return""}}async function Y(t){let e=await n.Clipboard.readText(),a=await Pe();if(t==="clipboard"){if(e)return e;if(a)return a}else{if(a)return a;if(e)return e}throw new R}function j(t,e){let a=[],c=t.split(`
`);for(let r of c)a.push(e(r));return a.join(`
`)}var v=new n.Cache,Te=()=>{let t=v.get("pinned");return t?JSON.parse(t):[]},Re=()=>{let t=v.get("recent");return t?JSON.parse(t):[]},Ee=t=>{v.set("pinned",JSON.stringify(t))},be=t=>{v.set("recent",JSON.stringify(t))};function z(t){let e=(0,n.getPreferenceValues)(),a=e.source,c=e.action,r=t.launchContext?.case;if(r){(async()=>{let s=await Y(a),p=T[r](s);c==="paste"?n.Clipboard.paste(p):n.Clipboard.copy(p),(0,n.showHUD)(`Converted to ${r}`),(0,n.popToRoot)()})();return}let[i,C]=(0,d.useState)(""),[u,m]=(0,d.useState)(),[l,S]=(0,d.useState)([]),[f,h]=(0,d.useState)([]);(0,d.useEffect)(()=>{S(Te()),h(Re()),(0,n.getFrontmostApplication)().then(m)},[]),(0,d.useEffect)(()=>{Ee(l)},[l]),(0,d.useEffect)(()=>{be(f)},[f]);let A=async()=>{try{C(await Y(a))}catch(s){s instanceof R&&(0,n.showToast)({style:n.Toast.Style.Failure,title:"Nothing to convert",message:"Please ensure that text is either selected or copied"})}};(0,d.useEffect)(()=>{A()},[]);let x=s=>(0,o.jsx)(n.Action,{title:"Copy to Clipboard",icon:n.Icon.Clipboard,onAction:()=>{s.pinned||h([s.case,...f.filter(p=>p!==s.case)].slice(0,4)),(0,n.showHUD)("Copied to Clipboard"),n.Clipboard.copy(s.modified),(0,n.closeMainWindow)()}}),g=s=>u?(0,o.jsx)(n.Action,{title:`Paste in ${u.name}`,icon:{fileIcon:u.path},onAction:()=>{s.pinned||h([s.case,...f.filter(p=>p!==s.case)].slice(0,4)),(0,n.showHUD)(`Pasted in ${u.name}`),n.Clipboard.paste(s.modified),(0,n.closeMainWindow)()}}):null,y=s=>{let p=encodeURIComponent(`{"case":"${s.case}"}`),Z=`raycast://extensions/erics118/${n.environment.extensionName}/${n.environment.commandName}?context=${p}`;return(0,o.jsx)(n.List.Item,{id:s.case,title:s.case,accessories:[{text:s.modified}],detail:(0,o.jsx)(n.List.Item.Detail,{markdown:s.modified}),actions:(0,o.jsxs)(n.ActionPanel,{children:[(0,o.jsxs)(n.ActionPanel.Section,{children:[c==="paste"&&(0,o.jsx)(g,{...s}),(0,o.jsx)(x,{...s}),c==="copy"&&(0,o.jsx)(g,{...s})]}),(0,o.jsxs)(n.ActionPanel.Section,{children:[s.pinned?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.Action,{title:"Remove Pinned Case",icon:n.Icon.PinDisabled,shortcut:{key:"r",modifiers:["cmd"]},onAction:()=>{S(l.filter(E=>E!==s.case))}}),(0,o.jsx)(n.Action,{title:"Clear Pinned Cases",icon:{source:n.Icon.XMarkCircle,tintColor:n.Color.Red},shortcut:{key:"r",modifiers:["cmd","shift"]},onAction:()=>{S([])}})]}):(0,o.jsx)(n.Action,{title:"Pin Case",icon:n.Icon.Pin,shortcut:{key:"p",modifiers:["cmd","shift"]},onAction:()=>{S([s.case,...l]),s.recent&&h(f.filter(E=>E!==s.case))}}),s.recent&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.Action,{title:"Remove Recent Case",icon:n.Icon.XMarkCircle,shortcut:{key:"r",modifiers:["cmd"]},onAction:()=>{h(f.filter(E=>E!==s.case))}}),(0,o.jsx)(n.Action,{title:"Clear Recent Cases",icon:{source:n.Icon.XMarkCircle,tintColor:n.Color.Red},shortcut:{key:"r",modifiers:["cmd","shift"]},onAction:()=>{h([])}})]}),(0,o.jsx)(n.Action.CreateQuicklink,{title:`Create Quicklink to Convert to ${s.case}`,quicklink:{name:`Convert to ${s.case}`,link:Z}})]}),(0,o.jsx)(n.ActionPanel.Section,{children:(0,o.jsx)(n.Action,{title:"Refresh Content",icon:n.Icon.RotateAntiClockwise,shortcut:{key:"r",modifiers:["cmd"]},onAction:A})})]})})};return(0,o.jsxs)(n.List,{isShowingDetail:!0,children:[(0,o.jsx)(n.List.Section,{title:"Pinned",children:l?.map(s=>(0,o.jsx)(y,{case:s,modified:j(i,T[s]),pinned:!0},s))}),(0,o.jsx)(n.List.Section,{title:"Recent",children:f.map(s=>(0,o.jsx)(y,{case:s,modified:j(i,T[s]),recent:!0},s))}),(0,o.jsx)(n.List.Section,{title:"All Cases",children:Object.entries(T).filter(([s])=>e[s.replace(/ +/g,"")]&&!f.includes(s)&&!l.includes(s)).map(([s,p])=>(0,o.jsx)(y,{case:s,modified:j(i,p)},s))})]})}

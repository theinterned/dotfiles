"use strict";var a=Object.defineProperty;var p=Object.getOwnPropertyDescriptor;var T=Object.getOwnPropertyNames;var h=Object.prototype.hasOwnProperty;var S=(e,i)=>{for(var t in i)a(e,t,{get:i[t],enumerable:!0})},g=(e,i,t,s)=>{if(i&&typeof i=="object"||typeof i=="function")for(let r of T(i))!h.call(e,r)&&r!==t&&a(e,r,{get:()=>i[r],enumerable:!(s=p(i,r))||s.enumerable});return e};var $=e=>g(a({},"__esModule",{value:!0}),e);var D={};S(D,{default:()=>y});module.exports=$(D);var n=require("@raycast/api"),u=require("fs");var o=require("@raycast/api");var m=require("fs"),f=require("path");var c=e=>(e.d1=e.d1=="----"?void 0:e.d1,e.d2=e.d2=="----"?void 0:e.d2,Math.round((e.d1?new Date(e.d1):new Date).getTime()-(e.d2?new Date(e.d2):new Date).getTime())/1e3);var O=o.environment.supportPath+"/customTimers.json";function d(){let e=[];return(0,m.readdirSync)(o.environment.supportPath).forEach(t=>{if((0,f.extname)(t)==".timer"){let s={name:"",secondsSet:-99,timeLeft:-99,originalFile:t};s.name=(0,m.readFileSync)(o.environment.supportPath+"/"+t).toString();let r=t.split("---");s.secondsSet=Number(r[1].split(".")[0]);let l=r[0].replace(/__/g,":");s.timeLeft=Math.max(0,Math.round(s.secondsSet-c({d2:l}))),e.push(s)}}),e.sort((t,s)=>t.timeLeft-s.timeLeft),e}var y=async()=>{let e=d();if(e.filter(t=>t.timeLeft===0),e.length===0)return await(0,n.showToast)({style:n.Toast.Style.Failure,title:"No finished timers found!"});await(0,n.closeMainWindow)();let i=e[0].originalFile.replace(".timer",".dismiss");(0,u.unlinkSync)(n.environment.supportPath+"/"+i)};0&&(module.exports={});

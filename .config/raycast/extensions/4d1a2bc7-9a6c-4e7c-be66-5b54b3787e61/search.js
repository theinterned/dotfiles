var JR=Object.create;var ki=Object.defineProperty,eA=Object.defineProperties,tA=Object.getOwnPropertyDescriptor,rA=Object.getOwnPropertyDescriptors,nA=Object.getOwnPropertyNames,eo=Object.getOwnPropertySymbols,iA=Object.getPrototypeOf,Iu=Object.prototype.hasOwnProperty,Vh=Object.prototype.propertyIsEnumerable;var Yh=(e,t,r)=>t in e?ki(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,j=(e,t)=>{for(var r in t||(t={}))Iu.call(t,r)&&Yh(e,r,t[r]);if(eo)for(var r of eo(t))Vh.call(t,r)&&Yh(e,r,t[r]);return e},ue=(e,t)=>eA(e,rA(t)),Qh=e=>ki(e,"__esModule",{value:!0});var ku=(e,t)=>{var r={};for(var n in e)Iu.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&eo)for(var n of eo(e))t.indexOf(n)<0&&Vh.call(e,n)&&(r[n]=e[n]);return r};var Di=(e,t)=>()=>(e&&(t=e(e=0)),t);var _=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),Kh=(e,t)=>{for(var r in t)ki(e,r,{get:t[r],enumerable:!0})},Xh=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of nA(t))!Iu.call(e,i)&&(r||i!=="default")&&ki(e,i,{get:()=>t[i],enumerable:!(n=tA(t,i))||n.enumerable});return e},Se=(e,t)=>Xh(Qh(ki(e!=null?JR(iA(e)):{},"default",!t&&e&&e.__esModule?{get:()=>e.default,enumerable:!0}:{value:e,enumerable:!0})),e),aA=(e=>(t,r)=>e&&e.get(t)||(r=Xh(Qh({}),t,1),e&&e.set(t,r),r))(typeof WeakMap!="undefined"?new WeakMap:0);var ep=_((to,Jh)=>{(function(e,t){typeof to=="object"&&typeof Jh<"u"?t(to):typeof define=="function"&&define.amd?define(["exports"],t):(e=typeof globalThis<"u"?globalThis:e||self,t(e.WebStreamsPolyfill={}))})(to,function(e){"use strict";let t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol:o=>`Symbol(${o})`;function r(){}function n(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global}let i=n();function a(o){return typeof o=="object"&&o!==null||typeof o=="function"}let s=r,c=Promise,l=Promise.prototype.then,f=Promise.resolve.bind(c),d=Promise.reject.bind(c);function m(o){return new c(o)}function p(o){return f(o)}function y(o){return d(o)}function g(o,u,h){return l.call(o,u,h)}function S(o,u,h){g(g(o,u,h),void 0,s)}function v(o,u){S(o,u)}function A(o,u){S(o,void 0,u)}function O(o,u,h){return g(o,u,h)}function F(o){g(o,void 0,s)}let k=(()=>{let o=i&&i.queueMicrotask;if(typeof o=="function")return o;let u=p(void 0);return h=>g(u,h)})();function I(o,u,h){if(typeof o!="function")throw new TypeError("Argument is not a function");return Function.prototype.apply.call(o,u,h)}function M(o,u,h){try{return p(I(o,u,h))}catch(b){return y(b)}}let q=16384;class T{constructor(){this._cursor=0,this._size=0,this._front={_elements:[],_next:void 0},this._back=this._front,this._cursor=0,this._size=0}get length(){return this._size}push(u){let h=this._back,b=h;h._elements.length===q-1&&(b={_elements:[],_next:void 0}),h._elements.push(u),b!==h&&(this._back=b,h._next=b),++this._size}shift(){let u=this._front,h=u,b=this._cursor,w=b+1,x=u._elements,C=x[b];return w===q&&(h=u._next,w=0),--this._size,this._cursor=w,u!==h&&(this._front=h),x[b]=void 0,C}forEach(u){let h=this._cursor,b=this._front,w=b._elements;for(;(h!==w.length||b._next!==void 0)&&!(h===w.length&&(b=b._next,w=b._elements,h=0,w.length===0));)u(w[h]),++h}peek(){let u=this._front,h=this._cursor;return u._elements[h]}}function D(o,u){o._ownerReadableStream=u,u._reader=o,u._state==="readable"?N(o):u._state==="closed"?R(o):H(o,u._storedError)}function B(o,u){let h=o._ownerReadableStream;return yt(h,u)}function P(o){o._ownerReadableStream._state==="readable"?E(o,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")):K(o,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")),o._ownerReadableStream._reader=void 0,o._ownerReadableStream=void 0}function G(o){return new TypeError("Cannot "+o+" a stream using a released reader")}function N(o){o._closedPromise=m((u,h)=>{o._closedPromise_resolve=u,o._closedPromise_reject=h})}function H(o,u){N(o),E(o,u)}function R(o){N(o),U(o)}function E(o,u){o._closedPromise_reject!==void 0&&(F(o._closedPromise),o._closedPromise_reject(u),o._closedPromise_resolve=void 0,o._closedPromise_reject=void 0)}function K(o,u){H(o,u)}function U(o){o._closedPromise_resolve!==void 0&&(o._closedPromise_resolve(void 0),o._closedPromise_resolve=void 0,o._closedPromise_reject=void 0)}let Oe=t("[[AbortSteps]]"),Be=t("[[ErrorSteps]]"),Ae=t("[[CancelSteps]]"),st=t("[[PullSteps]]"),_a=Number.isFinite||function(o){return typeof o=="number"&&isFinite(o)},bn=Math.trunc||function(o){return o<0?Math.ceil(o):Math.floor(o)};function Bt(o){return typeof o=="object"||typeof o=="function"}function Y(o,u){if(o!==void 0&&!Bt(o))throw new TypeError(`${u} is not an object.`)}function $e(o,u){if(typeof o!="function")throw new TypeError(`${u} is not a function.`)}function ou(o){return typeof o=="object"&&o!==null||typeof o=="function"}function $(o,u){if(!ou(o))throw new TypeError(`${u} is not an object.`)}function ee(o,u,h){if(o===void 0)throw new TypeError(`Parameter ${u} is required in '${h}'.`)}function L(o,u,h){if(o===void 0)throw new TypeError(`${u} is required in '${h}'.`)}function Q(o){return Number(o)}function he(o){return o===0?0:o}function ke(o){return he(bn(o))}function ve(o,u){let b=Number.MAX_SAFE_INTEGER,w=Number(o);if(w=he(w),!_a(w))throw new TypeError(`${u} is not a finite number`);if(w=ke(w),w<0||w>b)throw new TypeError(`${u} is outside the accepted range of ${0} to ${b}, inclusive`);return!_a(w)||w===0?0:w}function kr(o,u){if(!sr(o))throw new TypeError(`${u} is not a ReadableStream.`)}function mt(o){return new yi(o)}function Gd(o,u){o._reader._readRequests.push(u)}function su(o,u,h){let w=o._reader._readRequests.shift();h?w._closeSteps():w._chunkSteps(u)}function wa(o){return o._reader._readRequests.length}function Wd(o){let u=o._reader;return!(u===void 0||!nr(u))}class yi{constructor(u){if(ee(u,1,"ReadableStreamDefaultReader"),kr(u,"First parameter"),ur(u))throw new TypeError("This stream has already been locked for exclusive reading by another reader");D(this,u),this._readRequests=new T}get closed(){return nr(this)?this._closedPromise:y(Ea("closed"))}cancel(u=void 0){return nr(this)?this._ownerReadableStream===void 0?y(G("cancel")):B(this,u):y(Ea("cancel"))}read(){if(!nr(this))return y(Ea("read"));if(this._ownerReadableStream===void 0)return y(G("read from"));let u,h,b=m((x,C)=>{u=x,h=C});return bi(this,{_chunkSteps:x=>u({value:x,done:!1}),_closeSteps:()=>u({value:void 0,done:!0}),_errorSteps:x=>h(x)}),b}releaseLock(){if(!nr(this))throw Ea("releaseLock");if(this._ownerReadableStream!==void 0){if(this._readRequests.length>0)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");P(this)}}}Object.defineProperties(yi.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),typeof t.toStringTag=="symbol"&&Object.defineProperty(yi.prototype,t.toStringTag,{value:"ReadableStreamDefaultReader",configurable:!0});function nr(o){return!a(o)||!Object.prototype.hasOwnProperty.call(o,"_readRequests")?!1:o instanceof yi}function bi(o,u){let h=o._ownerReadableStream;h._disturbed=!0,h._state==="closed"?u._closeSteps():h._state==="errored"?u._errorSteps(h._storedError):h._readableStreamController[st](u)}function Ea(o){return new TypeError(`ReadableStreamDefaultReader.prototype.${o} can only be used on a ReadableStreamDefaultReader`)}let jd=Object.getPrototypeOf(Object.getPrototypeOf(async function*(){}).prototype);class Ud{constructor(u,h){this._ongoingPromise=void 0,this._isFinished=!1,this._reader=u,this._preventCancel=h}next(){let u=()=>this._nextSteps();return this._ongoingPromise=this._ongoingPromise?O(this._ongoingPromise,u,u):u(),this._ongoingPromise}return(u){let h=()=>this._returnSteps(u);return this._ongoingPromise?O(this._ongoingPromise,h,h):h()}_nextSteps(){if(this._isFinished)return Promise.resolve({value:void 0,done:!0});let u=this._reader;if(u._ownerReadableStream===void 0)return y(G("iterate"));let h,b,w=m((C,W)=>{h=C,b=W});return bi(u,{_chunkSteps:C=>{this._ongoingPromise=void 0,k(()=>h({value:C,done:!1}))},_closeSteps:()=>{this._ongoingPromise=void 0,this._isFinished=!0,P(u),h({value:void 0,done:!0})},_errorSteps:C=>{this._ongoingPromise=void 0,this._isFinished=!0,P(u),b(C)}}),w}_returnSteps(u){if(this._isFinished)return Promise.resolve({value:u,done:!0});this._isFinished=!0;let h=this._reader;if(h._ownerReadableStream===void 0)return y(G("finish iterating"));if(!this._preventCancel){let b=B(h,u);return P(h),O(b,()=>({value:u,done:!0}))}return P(h),p({value:u,done:!0})}}let Hd={next(){return zd(this)?this._asyncIteratorImpl.next():y(Yd("next"))},return(o){return zd(this)?this._asyncIteratorImpl.return(o):y(Yd("return"))}};jd!==void 0&&Object.setPrototypeOf(Hd,jd);function L0(o,u){let h=mt(o),b=new Ud(h,u),w=Object.create(Hd);return w._asyncIteratorImpl=b,w}function zd(o){if(!a(o)||!Object.prototype.hasOwnProperty.call(o,"_asyncIteratorImpl"))return!1;try{return o._asyncIteratorImpl instanceof Ud}catch{return!1}}function Yd(o){return new TypeError(`ReadableStreamAsyncIterator.${o} can only be used on a ReadableSteamAsyncIterator`)}let Vd=Number.isNaN||function(o){return o!==o};function vi(o){return o.slice()}function Qd(o,u,h,b,w){new Uint8Array(o).set(new Uint8Array(h,b,w),u)}function Mq(o){return o}function Ra(o){return!1}function Kd(o,u,h){if(o.slice)return o.slice(u,h);let b=h-u,w=new ArrayBuffer(b);return Qd(w,0,o,u,b),w}function F0(o){return!(typeof o!="number"||Vd(o)||o<0)}function Xd(o){let u=Kd(o.buffer,o.byteOffset,o.byteOffset+o.byteLength);return new Uint8Array(u)}function uu(o){let u=o._queue.shift();return o._queueTotalSize-=u.size,o._queueTotalSize<0&&(o._queueTotalSize=0),u.value}function cu(o,u,h){if(!F0(h)||h===1/0)throw new RangeError("Size must be a finite, non-NaN, non-negative number.");o._queue.push({value:u,size:h}),o._queueTotalSize+=h}function M0(o){return o._queue.peek().value}function ir(o){o._queue=new T,o._queueTotalSize=0}class Si{constructor(){throw new TypeError("Illegal constructor")}get view(){if(!lu(this))throw pu("view");return this._view}respond(u){if(!lu(this))throw pu("respond");if(ee(u,1,"respond"),u=ve(u,"First parameter"),this._associatedReadableByteStreamController===void 0)throw new TypeError("This BYOB request has been invalidated");Ra(this._view.buffer),xa(this._associatedReadableByteStreamController,u)}respondWithNewView(u){if(!lu(this))throw pu("respondWithNewView");if(ee(u,1,"respondWithNewView"),!ArrayBuffer.isView(u))throw new TypeError("You can only respond with array buffer views");if(this._associatedReadableByteStreamController===void 0)throw new TypeError("This BYOB request has been invalidated");Ra(u.buffer),Ca(this._associatedReadableByteStreamController,u)}}Object.defineProperties(Si.prototype,{respond:{enumerable:!0},respondWithNewView:{enumerable:!0},view:{enumerable:!0}}),typeof t.toStringTag=="symbol"&&Object.defineProperty(Si.prototype,t.toStringTag,{value:"ReadableStreamBYOBRequest",configurable:!0});class vn{constructor(){throw new TypeError("Illegal constructor")}get byobRequest(){if(!Dr(this))throw wi("byobRequest");return hu(this)}get desiredSize(){if(!Dr(this))throw wi("desiredSize");return ah(this)}close(){if(!Dr(this))throw wi("close");if(this._closeRequested)throw new TypeError("The stream has already been closed; do not close it again!");let u=this._controlledReadableByteStream._state;if(u!=="readable")throw new TypeError(`The stream (in ${u} state) is not in the readable state and cannot be closed`);_i(this)}enqueue(u){if(!Dr(this))throw wi("enqueue");if(ee(u,1,"enqueue"),!ArrayBuffer.isView(u))throw new TypeError("chunk must be an array buffer view");if(u.byteLength===0)throw new TypeError("chunk must have non-zero byteLength");if(u.buffer.byteLength===0)throw new TypeError("chunk's buffer must have non-zero byteLength");if(this._closeRequested)throw new TypeError("stream is closed or draining");let h=this._controlledReadableByteStream._state;if(h!=="readable")throw new TypeError(`The stream (in ${h} state) is not in the readable state and cannot be enqueued to`);Oa(this,u)}error(u=void 0){if(!Dr(this))throw wi("error");gt(this,u)}[Ae](u){Zd(this),ir(this);let h=this._cancelAlgorithm(u);return Ta(this),h}[st](u){let h=this._controlledReadableByteStream;if(this._queueTotalSize>0){let w=this._queue.shift();this._queueTotalSize-=w.byteLength,rh(this);let x=new Uint8Array(w.buffer,w.byteOffset,w.byteLength);u._chunkSteps(x);return}let b=this._autoAllocateChunkSize;if(b!==void 0){let w;try{w=new ArrayBuffer(b)}catch(C){u._errorSteps(C);return}let x={buffer:w,bufferByteLength:b,byteOffset:0,byteLength:b,bytesFilled:0,elementSize:1,viewConstructor:Uint8Array,readerType:"default"};this._pendingPullIntos.push(x)}Gd(h,u),Lr(this)}}Object.defineProperties(vn.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},byobRequest:{enumerable:!0},desiredSize:{enumerable:!0}}),typeof t.toStringTag=="symbol"&&Object.defineProperty(vn.prototype,t.toStringTag,{value:"ReadableByteStreamController",configurable:!0});function Dr(o){return!a(o)||!Object.prototype.hasOwnProperty.call(o,"_controlledReadableByteStream")?!1:o instanceof vn}function lu(o){return!a(o)||!Object.prototype.hasOwnProperty.call(o,"_associatedReadableByteStreamController")?!1:o instanceof Si}function Lr(o){if(!$0(o))return;if(o._pulling){o._pullAgain=!0;return}o._pulling=!0;let h=o._pullAlgorithm();S(h,()=>{o._pulling=!1,o._pullAgain&&(o._pullAgain=!1,Lr(o))},b=>{gt(o,b)})}function Zd(o){du(o),o._pendingPullIntos=new T}function fu(o,u){let h=!1;o._state==="closed"&&(h=!0);let b=Jd(u);u.readerType==="default"?su(o,b,h):j0(o,b,h)}function Jd(o){let u=o.bytesFilled,h=o.elementSize;return new o.viewConstructor(o.buffer,o.byteOffset,u/h)}function Aa(o,u,h,b){o._queue.push({buffer:u,byteOffset:h,byteLength:b}),o._queueTotalSize+=b}function eh(o,u){let h=u.elementSize,b=u.bytesFilled-u.bytesFilled%h,w=Math.min(o._queueTotalSize,u.byteLength-u.bytesFilled),x=u.bytesFilled+w,C=x-x%h,W=w,Z=!1;C>b&&(W=C-u.bytesFilled,Z=!0);let te=o._queue;for(;W>0;){let ie=te.peek(),ae=Math.min(W,ie.byteLength),Pe=u.byteOffset+u.bytesFilled;Qd(u.buffer,Pe,ie.buffer,ie.byteOffset,ae),ie.byteLength===ae?te.shift():(ie.byteOffset+=ae,ie.byteLength-=ae),o._queueTotalSize-=ae,th(o,ae,u),W-=ae}return Z}function th(o,u,h){h.bytesFilled+=u}function rh(o){o._queueTotalSize===0&&o._closeRequested?(Ta(o),Ci(o._controlledReadableByteStream)):Lr(o)}function du(o){o._byobRequest!==null&&(o._byobRequest._associatedReadableByteStreamController=void 0,o._byobRequest._view=null,o._byobRequest=null)}function nh(o){for(;o._pendingPullIntos.length>0;){if(o._queueTotalSize===0)return;let u=o._pendingPullIntos.peek();eh(o,u)&&(Pa(o),fu(o._controlledReadableByteStream,u))}}function q0(o,u,h){let b=o._controlledReadableByteStream,w=1;u.constructor!==DataView&&(w=u.constructor.BYTES_PER_ELEMENT);let x=u.constructor,C=u.buffer,W={buffer:C,bufferByteLength:C.byteLength,byteOffset:u.byteOffset,byteLength:u.byteLength,bytesFilled:0,elementSize:w,viewConstructor:x,readerType:"byob"};if(o._pendingPullIntos.length>0){o._pendingPullIntos.push(W),uh(b,h);return}if(b._state==="closed"){let Z=new x(W.buffer,W.byteOffset,0);h._closeSteps(Z);return}if(o._queueTotalSize>0){if(eh(o,W)){let Z=Jd(W);rh(o),h._chunkSteps(Z);return}if(o._closeRequested){let Z=new TypeError("Insufficient bytes to fill elements in the given buffer");gt(o,Z),h._errorSteps(Z);return}}o._pendingPullIntos.push(W),uh(b,h),Lr(o)}function N0(o,u){let h=o._controlledReadableByteStream;if(mu(h))for(;ch(h)>0;){let b=Pa(o);fu(h,b)}}function B0(o,u,h){if(th(o,u,h),h.bytesFilled<h.elementSize)return;Pa(o);let b=h.bytesFilled%h.elementSize;if(b>0){let w=h.byteOffset+h.bytesFilled,x=Kd(h.buffer,w-b,w);Aa(o,x,0,x.byteLength)}h.bytesFilled-=b,fu(o._controlledReadableByteStream,h),nh(o)}function ih(o,u){let h=o._pendingPullIntos.peek();du(o),o._controlledReadableByteStream._state==="closed"?N0(o):B0(o,u,h),Lr(o)}function Pa(o){return o._pendingPullIntos.shift()}function $0(o){let u=o._controlledReadableByteStream;return u._state!=="readable"||o._closeRequested||!o._started?!1:!!(Wd(u)&&wa(u)>0||mu(u)&&ch(u)>0||ah(o)>0)}function Ta(o){o._pullAlgorithm=void 0,o._cancelAlgorithm=void 0}function _i(o){let u=o._controlledReadableByteStream;if(!(o._closeRequested||u._state!=="readable")){if(o._queueTotalSize>0){o._closeRequested=!0;return}if(o._pendingPullIntos.length>0&&o._pendingPullIntos.peek().bytesFilled>0){let b=new TypeError("Insufficient bytes to fill elements in the given buffer");throw gt(o,b),b}Ta(o),Ci(u)}}function Oa(o,u){let h=o._controlledReadableByteStream;if(o._closeRequested||h._state!=="readable")return;let b=u.buffer,w=u.byteOffset,x=u.byteLength,C=b;if(o._pendingPullIntos.length>0){let W=o._pendingPullIntos.peek();Ra(W.buffer),W.buffer=W.buffer}if(du(o),Wd(h))if(wa(h)===0)Aa(o,C,w,x);else{o._pendingPullIntos.length>0&&Pa(o);let W=new Uint8Array(C,w,x);su(h,W,!1)}else mu(h)?(Aa(o,C,w,x),nh(o)):Aa(o,C,w,x);Lr(o)}function gt(o,u){let h=o._controlledReadableByteStream;h._state==="readable"&&(Zd(o),ir(o),Ta(o),Dh(h,u))}function hu(o){if(o._byobRequest===null&&o._pendingPullIntos.length>0){let u=o._pendingPullIntos.peek(),h=new Uint8Array(u.buffer,u.byteOffset+u.bytesFilled,u.byteLength-u.bytesFilled),b=Object.create(Si.prototype);W0(b,o,h),o._byobRequest=b}return o._byobRequest}function ah(o){let u=o._controlledReadableByteStream._state;return u==="errored"?null:u==="closed"?0:o._strategyHWM-o._queueTotalSize}function xa(o,u){let h=o._pendingPullIntos.peek();if(o._controlledReadableByteStream._state==="closed"){if(u!==0)throw new TypeError("bytesWritten must be 0 when calling respond() on a closed stream")}else{if(u===0)throw new TypeError("bytesWritten must be greater than 0 when calling respond() on a readable stream");if(h.bytesFilled+u>h.byteLength)throw new RangeError("bytesWritten out of range")}h.buffer=h.buffer,ih(o,u)}function Ca(o,u){let h=o._pendingPullIntos.peek();if(o._controlledReadableByteStream._state==="closed"){if(u.byteLength!==0)throw new TypeError("The view's length must be 0 when calling respondWithNewView() on a closed stream")}else if(u.byteLength===0)throw new TypeError("The view's length must be greater than 0 when calling respondWithNewView() on a readable stream");if(h.byteOffset+h.bytesFilled!==u.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(h.bufferByteLength!==u.buffer.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");if(h.bytesFilled+u.byteLength>h.byteLength)throw new RangeError("The region specified by view is larger than byobRequest");let w=u.byteLength;h.buffer=u.buffer,ih(o,w)}function oh(o,u,h,b,w,x,C){u._controlledReadableByteStream=o,u._pullAgain=!1,u._pulling=!1,u._byobRequest=null,u._queue=u._queueTotalSize=void 0,ir(u),u._closeRequested=!1,u._started=!1,u._strategyHWM=x,u._pullAlgorithm=b,u._cancelAlgorithm=w,u._autoAllocateChunkSize=C,u._pendingPullIntos=new T,o._readableStreamController=u;let W=h();S(p(W),()=>{u._started=!0,Lr(u)},Z=>{gt(u,Z)})}function G0(o,u,h){let b=Object.create(vn.prototype),w=()=>{},x=()=>p(void 0),C=()=>p(void 0);u.start!==void 0&&(w=()=>u.start(b)),u.pull!==void 0&&(x=()=>u.pull(b)),u.cancel!==void 0&&(C=Z=>u.cancel(Z));let W=u.autoAllocateChunkSize;if(W===0)throw new TypeError("autoAllocateChunkSize must be greater than 0");oh(o,b,w,x,C,h,W)}function W0(o,u,h){o._associatedReadableByteStreamController=u,o._view=h}function pu(o){return new TypeError(`ReadableStreamBYOBRequest.prototype.${o} can only be used on a ReadableStreamBYOBRequest`)}function wi(o){return new TypeError(`ReadableByteStreamController.prototype.${o} can only be used on a ReadableByteStreamController`)}function sh(o){return new Ei(o)}function uh(o,u){o._reader._readIntoRequests.push(u)}function j0(o,u,h){let w=o._reader._readIntoRequests.shift();h?w._closeSteps(u):w._chunkSteps(u)}function ch(o){return o._reader._readIntoRequests.length}function mu(o){let u=o._reader;return!(u===void 0||!Fr(u))}class Ei{constructor(u){if(ee(u,1,"ReadableStreamBYOBReader"),kr(u,"First parameter"),ur(u))throw new TypeError("This stream has already been locked for exclusive reading by another reader");if(!Dr(u._readableStreamController))throw new TypeError("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");D(this,u),this._readIntoRequests=new T}get closed(){return Fr(this)?this._closedPromise:y(Ia("closed"))}cancel(u=void 0){return Fr(this)?this._ownerReadableStream===void 0?y(G("cancel")):B(this,u):y(Ia("cancel"))}read(u){if(!Fr(this))return y(Ia("read"));if(!ArrayBuffer.isView(u))return y(new TypeError("view must be an array buffer view"));if(u.byteLength===0)return y(new TypeError("view must have non-zero byteLength"));if(u.buffer.byteLength===0)return y(new TypeError("view's buffer must have non-zero byteLength"));if(Ra(u.buffer),this._ownerReadableStream===void 0)return y(G("read from"));let h,b,w=m((C,W)=>{h=C,b=W});return lh(this,u,{_chunkSteps:C=>h({value:C,done:!1}),_closeSteps:C=>h({value:C,done:!0}),_errorSteps:C=>b(C)}),w}releaseLock(){if(!Fr(this))throw Ia("releaseLock");if(this._ownerReadableStream!==void 0){if(this._readIntoRequests.length>0)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");P(this)}}}Object.defineProperties(Ei.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),typeof t.toStringTag=="symbol"&&Object.defineProperty(Ei.prototype,t.toStringTag,{value:"ReadableStreamBYOBReader",configurable:!0});function Fr(o){return!a(o)||!Object.prototype.hasOwnProperty.call(o,"_readIntoRequests")?!1:o instanceof Ei}function lh(o,u,h){let b=o._ownerReadableStream;b._disturbed=!0,b._state==="errored"?h._errorSteps(b._storedError):q0(b._readableStreamController,u,h)}function Ia(o){return new TypeError(`ReadableStreamBYOBReader.prototype.${o} can only be used on a ReadableStreamBYOBReader`)}function Ri(o,u){let{highWaterMark:h}=o;if(h===void 0)return u;if(Vd(h)||h<0)throw new RangeError("Invalid highWaterMark");return h}function ka(o){let{size:u}=o;return u||(()=>1)}function Da(o,u){Y(o,u);let h=o==null?void 0:o.highWaterMark,b=o==null?void 0:o.size;return{highWaterMark:h===void 0?void 0:Q(h),size:b===void 0?void 0:U0(b,`${u} has member 'size' that`)}}function U0(o,u){return $e(o,u),h=>Q(o(h))}function H0(o,u){Y(o,u);let h=o==null?void 0:o.abort,b=o==null?void 0:o.close,w=o==null?void 0:o.start,x=o==null?void 0:o.type,C=o==null?void 0:o.write;return{abort:h===void 0?void 0:z0(h,o,`${u} has member 'abort' that`),close:b===void 0?void 0:Y0(b,o,`${u} has member 'close' that`),start:w===void 0?void 0:V0(w,o,`${u} has member 'start' that`),write:C===void 0?void 0:Q0(C,o,`${u} has member 'write' that`),type:x}}function z0(o,u,h){return $e(o,h),b=>M(o,u,[b])}function Y0(o,u,h){return $e(o,h),()=>M(o,u,[])}function V0(o,u,h){return $e(o,h),b=>I(o,u,[b])}function Q0(o,u,h){return $e(o,h),(b,w)=>M(o,u,[b,w])}function fh(o,u){if(!Sn(o))throw new TypeError(`${u} is not a WritableStream.`)}function K0(o){if(typeof o!="object"||o===null)return!1;try{return typeof o.aborted=="boolean"}catch{return!1}}let X0=typeof AbortController=="function";function Z0(){if(X0)return new AbortController}class Ai{constructor(u={},h={}){u===void 0?u=null:$(u,"First parameter");let b=Da(h,"Second parameter"),w=H0(u,"First parameter");if(hh(this),w.type!==void 0)throw new RangeError("Invalid type is specified");let C=ka(b),W=Ri(b,1);dR(this,w,W,C)}get locked(){if(!Sn(this))throw Na("locked");return _n(this)}abort(u=void 0){return Sn(this)?_n(this)?y(new TypeError("Cannot abort a stream that already has a writer")):La(this,u):y(Na("abort"))}close(){return Sn(this)?_n(this)?y(new TypeError("Cannot close a stream that already has a writer")):Rt(this)?y(new TypeError("Cannot close an already-closing stream")):ph(this):y(Na("close"))}getWriter(){if(!Sn(this))throw Na("getWriter");return dh(this)}}Object.defineProperties(Ai.prototype,{abort:{enumerable:!0},close:{enumerable:!0},getWriter:{enumerable:!0},locked:{enumerable:!0}}),typeof t.toStringTag=="symbol"&&Object.defineProperty(Ai.prototype,t.toStringTag,{value:"WritableStream",configurable:!0});function dh(o){return new Pi(o)}function J0(o,u,h,b,w=1,x=()=>1){let C=Object.create(Ai.prototype);hh(C);let W=Object.create(wn.prototype);return Sh(C,W,o,u,h,b,w,x),C}function hh(o){o._state="writable",o._storedError=void 0,o._writer=void 0,o._writableStreamController=void 0,o._writeRequests=new T,o._inFlightWriteRequest=void 0,o._closeRequest=void 0,o._inFlightCloseRequest=void 0,o._pendingAbortRequest=void 0,o._backpressure=!1}function Sn(o){return!a(o)||!Object.prototype.hasOwnProperty.call(o,"_writableStreamController")?!1:o instanceof Ai}function _n(o){return o._writer!==void 0}function La(o,u){var h;if(o._state==="closed"||o._state==="errored")return p(void 0);o._writableStreamController._abortReason=u,(h=o._writableStreamController._abortController)===null||h===void 0||h.abort();let b=o._state;if(b==="closed"||b==="errored")return p(void 0);if(o._pendingAbortRequest!==void 0)return o._pendingAbortRequest._promise;let w=!1;b==="erroring"&&(w=!0,u=void 0);let x=m((C,W)=>{o._pendingAbortRequest={_promise:void 0,_resolve:C,_reject:W,_reason:u,_wasAlreadyErroring:w}});return o._pendingAbortRequest._promise=x,w||yu(o,u),x}function ph(o){let u=o._state;if(u==="closed"||u==="errored")return y(new TypeError(`The stream (in ${u} state) is not in the writable state and cannot be closed`));let h=m((w,x)=>{let C={_resolve:w,_reject:x};o._closeRequest=C}),b=o._writer;return b!==void 0&&o._backpressure&&u==="writable"&&Pu(b),hR(o._writableStreamController),h}function eR(o){return m((h,b)=>{let w={_resolve:h,_reject:b};o._writeRequests.push(w)})}function gu(o,u){if(o._state==="writable"){yu(o,u);return}bu(o)}function yu(o,u){let h=o._writableStreamController;o._state="erroring",o._storedError=u;let b=o._writer;b!==void 0&&gh(b,u),!aR(o)&&h._started&&bu(o)}function bu(o){o._state="errored",o._writableStreamController[Be]();let u=o._storedError;if(o._writeRequests.forEach(w=>{w._reject(u)}),o._writeRequests=new T,o._pendingAbortRequest===void 0){Fa(o);return}let h=o._pendingAbortRequest;if(o._pendingAbortRequest=void 0,h._wasAlreadyErroring){h._reject(u),Fa(o);return}let b=o._writableStreamController[Oe](h._reason);S(b,()=>{h._resolve(),Fa(o)},w=>{h._reject(w),Fa(o)})}function tR(o){o._inFlightWriteRequest._resolve(void 0),o._inFlightWriteRequest=void 0}function rR(o,u){o._inFlightWriteRequest._reject(u),o._inFlightWriteRequest=void 0,gu(o,u)}function nR(o){o._inFlightCloseRequest._resolve(void 0),o._inFlightCloseRequest=void 0,o._state==="erroring"&&(o._storedError=void 0,o._pendingAbortRequest!==void 0&&(o._pendingAbortRequest._resolve(),o._pendingAbortRequest=void 0)),o._state="closed";let h=o._writer;h!==void 0&&Rh(h)}function iR(o,u){o._inFlightCloseRequest._reject(u),o._inFlightCloseRequest=void 0,o._pendingAbortRequest!==void 0&&(o._pendingAbortRequest._reject(u),o._pendingAbortRequest=void 0),gu(o,u)}function Rt(o){return!(o._closeRequest===void 0&&o._inFlightCloseRequest===void 0)}function aR(o){return!(o._inFlightWriteRequest===void 0&&o._inFlightCloseRequest===void 0)}function oR(o){o._inFlightCloseRequest=o._closeRequest,o._closeRequest=void 0}function sR(o){o._inFlightWriteRequest=o._writeRequests.shift()}function Fa(o){o._closeRequest!==void 0&&(o._closeRequest._reject(o._storedError),o._closeRequest=void 0);let u=o._writer;u!==void 0&&Ru(u,o._storedError)}function vu(o,u){let h=o._writer;h!==void 0&&u!==o._backpressure&&(u?SR(h):Pu(h)),o._backpressure=u}class Pi{constructor(u){if(ee(u,1,"WritableStreamDefaultWriter"),fh(u,"First parameter"),_n(u))throw new TypeError("This stream has already been locked for exclusive writing by another writer");this._ownerWritableStream=u,u._writer=this;let h=u._state;if(h==="writable")!Rt(u)&&u._backpressure?$a(this):Ah(this),Ba(this);else if(h==="erroring")Au(this,u._storedError),Ba(this);else if(h==="closed")Ah(this),bR(this);else{let b=u._storedError;Au(this,b),Eh(this,b)}}get closed(){return Mr(this)?this._closedPromise:y(qr("closed"))}get desiredSize(){if(!Mr(this))throw qr("desiredSize");if(this._ownerWritableStream===void 0)throw Ti("desiredSize");return fR(this)}get ready(){return Mr(this)?this._readyPromise:y(qr("ready"))}abort(u=void 0){return Mr(this)?this._ownerWritableStream===void 0?y(Ti("abort")):uR(this,u):y(qr("abort"))}close(){if(!Mr(this))return y(qr("close"));let u=this._ownerWritableStream;return u===void 0?y(Ti("close")):Rt(u)?y(new TypeError("Cannot close an already-closing stream")):mh(this)}releaseLock(){if(!Mr(this))throw qr("releaseLock");this._ownerWritableStream!==void 0&&yh(this)}write(u=void 0){return Mr(this)?this._ownerWritableStream===void 0?y(Ti("write to")):bh(this,u):y(qr("write"))}}Object.defineProperties(Pi.prototype,{abort:{enumerable:!0},close:{enumerable:!0},releaseLock:{enumerable:!0},write:{enumerable:!0},closed:{enumerable:!0},desiredSize:{enumerable:!0},ready:{enumerable:!0}}),typeof t.toStringTag=="symbol"&&Object.defineProperty(Pi.prototype,t.toStringTag,{value:"WritableStreamDefaultWriter",configurable:!0});function Mr(o){return!a(o)||!Object.prototype.hasOwnProperty.call(o,"_ownerWritableStream")?!1:o instanceof Pi}function uR(o,u){let h=o._ownerWritableStream;return La(h,u)}function mh(o){let u=o._ownerWritableStream;return ph(u)}function cR(o){let u=o._ownerWritableStream,h=u._state;return Rt(u)||h==="closed"?p(void 0):h==="errored"?y(u._storedError):mh(o)}function lR(o,u){o._closedPromiseState==="pending"?Ru(o,u):vR(o,u)}function gh(o,u){o._readyPromiseState==="pending"?Ph(o,u):_R(o,u)}function fR(o){let u=o._ownerWritableStream,h=u._state;return h==="errored"||h==="erroring"?null:h==="closed"?0:_h(u._writableStreamController)}function yh(o){let u=o._ownerWritableStream,h=new TypeError("Writer was released and can no longer be used to monitor the stream's closedness");gh(o,h),lR(o,h),u._writer=void 0,o._ownerWritableStream=void 0}function bh(o,u){let h=o._ownerWritableStream,b=h._writableStreamController,w=pR(b,u);if(h!==o._ownerWritableStream)return y(Ti("write to"));let x=h._state;if(x==="errored")return y(h._storedError);if(Rt(h)||x==="closed")return y(new TypeError("The stream is closing or closed and cannot be written to"));if(x==="erroring")return y(h._storedError);let C=eR(h);return mR(b,u,w),C}let vh={};class wn{constructor(){throw new TypeError("Illegal constructor")}get abortReason(){if(!Su(this))throw Eu("abortReason");return this._abortReason}get signal(){if(!Su(this))throw Eu("signal");if(this._abortController===void 0)throw new TypeError("WritableStreamDefaultController.prototype.signal is not supported");return this._abortController.signal}error(u=void 0){if(!Su(this))throw Eu("error");this._controlledWritableStream._state==="writable"&&wh(this,u)}[Oe](u){let h=this._abortAlgorithm(u);return Ma(this),h}[Be](){ir(this)}}Object.defineProperties(wn.prototype,{abortReason:{enumerable:!0},signal:{enumerable:!0},error:{enumerable:!0}}),typeof t.toStringTag=="symbol"&&Object.defineProperty(wn.prototype,t.toStringTag,{value:"WritableStreamDefaultController",configurable:!0});function Su(o){return!a(o)||!Object.prototype.hasOwnProperty.call(o,"_controlledWritableStream")?!1:o instanceof wn}function Sh(o,u,h,b,w,x,C,W){u._controlledWritableStream=o,o._writableStreamController=u,u._queue=void 0,u._queueTotalSize=void 0,ir(u),u._abortReason=void 0,u._abortController=Z0(),u._started=!1,u._strategySizeAlgorithm=W,u._strategyHWM=C,u._writeAlgorithm=b,u._closeAlgorithm=w,u._abortAlgorithm=x;let Z=wu(u);vu(o,Z);let te=h(),ie=p(te);S(ie,()=>{u._started=!0,qa(u)},ae=>{u._started=!0,gu(o,ae)})}function dR(o,u,h,b){let w=Object.create(wn.prototype),x=()=>{},C=()=>p(void 0),W=()=>p(void 0),Z=()=>p(void 0);u.start!==void 0&&(x=()=>u.start(w)),u.write!==void 0&&(C=te=>u.write(te,w)),u.close!==void 0&&(W=()=>u.close()),u.abort!==void 0&&(Z=te=>u.abort(te)),Sh(o,w,x,C,W,Z,h,b)}function Ma(o){o._writeAlgorithm=void 0,o._closeAlgorithm=void 0,o._abortAlgorithm=void 0,o._strategySizeAlgorithm=void 0}function hR(o){cu(o,vh,0),qa(o)}function pR(o,u){try{return o._strategySizeAlgorithm(u)}catch(h){return _u(o,h),1}}function _h(o){return o._strategyHWM-o._queueTotalSize}function mR(o,u,h){try{cu(o,u,h)}catch(w){_u(o,w);return}let b=o._controlledWritableStream;if(!Rt(b)&&b._state==="writable"){let w=wu(o);vu(b,w)}qa(o)}function qa(o){let u=o._controlledWritableStream;if(!o._started||u._inFlightWriteRequest!==void 0)return;if(u._state==="erroring"){bu(u);return}if(o._queue.length===0)return;let b=M0(o);b===vh?gR(o):yR(o,b)}function _u(o,u){o._controlledWritableStream._state==="writable"&&wh(o,u)}function gR(o){let u=o._controlledWritableStream;oR(u),uu(o);let h=o._closeAlgorithm();Ma(o),S(h,()=>{nR(u)},b=>{iR(u,b)})}function yR(o,u){let h=o._controlledWritableStream;sR(h);let b=o._writeAlgorithm(u);S(b,()=>{tR(h);let w=h._state;if(uu(o),!Rt(h)&&w==="writable"){let x=wu(o);vu(h,x)}qa(o)},w=>{h._state==="writable"&&Ma(o),rR(h,w)})}function wu(o){return _h(o)<=0}function wh(o,u){let h=o._controlledWritableStream;Ma(o),yu(h,u)}function Na(o){return new TypeError(`WritableStream.prototype.${o} can only be used on a WritableStream`)}function Eu(o){return new TypeError(`WritableStreamDefaultController.prototype.${o} can only be used on a WritableStreamDefaultController`)}function qr(o){return new TypeError(`WritableStreamDefaultWriter.prototype.${o} can only be used on a WritableStreamDefaultWriter`)}function Ti(o){return new TypeError("Cannot "+o+" a stream using a released writer")}function Ba(o){o._closedPromise=m((u,h)=>{o._closedPromise_resolve=u,o._closedPromise_reject=h,o._closedPromiseState="pending"})}function Eh(o,u){Ba(o),Ru(o,u)}function bR(o){Ba(o),Rh(o)}function Ru(o,u){o._closedPromise_reject!==void 0&&(F(o._closedPromise),o._closedPromise_reject(u),o._closedPromise_resolve=void 0,o._closedPromise_reject=void 0,o._closedPromiseState="rejected")}function vR(o,u){Eh(o,u)}function Rh(o){o._closedPromise_resolve!==void 0&&(o._closedPromise_resolve(void 0),o._closedPromise_resolve=void 0,o._closedPromise_reject=void 0,o._closedPromiseState="resolved")}function $a(o){o._readyPromise=m((u,h)=>{o._readyPromise_resolve=u,o._readyPromise_reject=h}),o._readyPromiseState="pending"}function Au(o,u){$a(o),Ph(o,u)}function Ah(o){$a(o),Pu(o)}function Ph(o,u){o._readyPromise_reject!==void 0&&(F(o._readyPromise),o._readyPromise_reject(u),o._readyPromise_resolve=void 0,o._readyPromise_reject=void 0,o._readyPromiseState="rejected")}function SR(o){$a(o)}function _R(o,u){Au(o,u)}function Pu(o){o._readyPromise_resolve!==void 0&&(o._readyPromise_resolve(void 0),o._readyPromise_resolve=void 0,o._readyPromise_reject=void 0,o._readyPromiseState="fulfilled")}let Th=typeof DOMException<"u"?DOMException:void 0;function wR(o){if(!(typeof o=="function"||typeof o=="object"))return!1;try{return new o,!0}catch{return!1}}function ER(){let o=function(h,b){this.message=h||"",this.name=b||"Error",Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)};return o.prototype=Object.create(Error.prototype),Object.defineProperty(o.prototype,"constructor",{value:o,writable:!0,configurable:!0}),o}let RR=wR(Th)?Th:ER();function Oh(o,u,h,b,w,x){let C=mt(o),W=dh(u);o._disturbed=!0;let Z=!1,te=p(void 0);return m((ie,ae)=>{let Pe;if(x!==void 0){if(Pe=()=>{let z=new RR("Aborted","AbortError"),J=[];b||J.push(()=>u._state==="writable"?La(u,z):p(void 0)),w||J.push(()=>o._state==="readable"?yt(o,z):p(void 0)),Ke(()=>Promise.all(J.map(pe=>pe())),!0,z)},x.aborted){Pe();return}x.addEventListener("abort",Pe)}function bt(){return m((z,J)=>{function pe(et){et?z():g(An(),pe,J)}pe(!1)})}function An(){return Z?p(!0):g(W._readyPromise,()=>m((z,J)=>{bi(C,{_chunkSteps:pe=>{te=g(bh(W,pe),void 0,r),z(!1)},_closeSteps:()=>z(!0),_errorSteps:J})}))}if($t(o,C._closedPromise,z=>{b?ut(!0,z):Ke(()=>La(u,z),!0,z)}),$t(u,W._closedPromise,z=>{w?ut(!0,z):Ke(()=>yt(o,z),!0,z)}),He(o,C._closedPromise,()=>{h?ut():Ke(()=>cR(W))}),Rt(u)||u._state==="closed"){let z=new TypeError("the destination writable stream closed before all data could be piped to it");w?ut(!0,z):Ke(()=>yt(o,z),!0,z)}F(bt());function cr(){let z=te;return g(te,()=>z!==te?cr():void 0)}function $t(z,J,pe){z._state==="errored"?pe(z._storedError):A(J,pe)}function He(z,J,pe){z._state==="closed"?pe():v(J,pe)}function Ke(z,J,pe){if(Z)return;Z=!0,u._state==="writable"&&!Rt(u)?v(cr(),et):et();function et(){S(z(),()=>Gt(J,pe),Pn=>Gt(!0,Pn))}}function ut(z,J){Z||(Z=!0,u._state==="writable"&&!Rt(u)?v(cr(),()=>Gt(z,J)):Gt(z,J))}function Gt(z,J){yh(W),P(C),x!==void 0&&x.removeEventListener("abort",Pe),z?ae(J):ie(void 0)}})}class En{constructor(){throw new TypeError("Illegal constructor")}get desiredSize(){if(!Ga(this))throw Ua("desiredSize");return Tu(this)}close(){if(!Ga(this))throw Ua("close");if(!Rn(this))throw new TypeError("The stream is not in a state that permits close");xi(this)}enqueue(u=void 0){if(!Ga(this))throw Ua("enqueue");if(!Rn(this))throw new TypeError("The stream is not in a state that permits enqueue");return ja(this,u)}error(u=void 0){if(!Ga(this))throw Ua("error");ar(this,u)}[Ae](u){ir(this);let h=this._cancelAlgorithm(u);return Wa(this),h}[st](u){let h=this._controlledReadableStream;if(this._queue.length>0){let b=uu(this);this._closeRequested&&this._queue.length===0?(Wa(this),Ci(h)):Oi(this),u._chunkSteps(b)}else Gd(h,u),Oi(this)}}Object.defineProperties(En.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},desiredSize:{enumerable:!0}}),typeof t.toStringTag=="symbol"&&Object.defineProperty(En.prototype,t.toStringTag,{value:"ReadableStreamDefaultController",configurable:!0});function Ga(o){return!a(o)||!Object.prototype.hasOwnProperty.call(o,"_controlledReadableStream")?!1:o instanceof En}function Oi(o){if(!xh(o))return;if(o._pulling){o._pullAgain=!0;return}o._pulling=!0;let h=o._pullAlgorithm();S(h,()=>{o._pulling=!1,o._pullAgain&&(o._pullAgain=!1,Oi(o))},b=>{ar(o,b)})}function xh(o){let u=o._controlledReadableStream;return!Rn(o)||!o._started?!1:!!(ur(u)&&wa(u)>0||Tu(o)>0)}function Wa(o){o._pullAlgorithm=void 0,o._cancelAlgorithm=void 0,o._strategySizeAlgorithm=void 0}function xi(o){if(!Rn(o))return;let u=o._controlledReadableStream;o._closeRequested=!0,o._queue.length===0&&(Wa(o),Ci(u))}function ja(o,u){if(!Rn(o))return;let h=o._controlledReadableStream;if(ur(h)&&wa(h)>0)su(h,u,!1);else{let b;try{b=o._strategySizeAlgorithm(u)}catch(w){throw ar(o,w),w}try{cu(o,u,b)}catch(w){throw ar(o,w),w}}Oi(o)}function ar(o,u){let h=o._controlledReadableStream;h._state==="readable"&&(ir(o),Wa(o),Dh(h,u))}function Tu(o){let u=o._controlledReadableStream._state;return u==="errored"?null:u==="closed"?0:o._strategyHWM-o._queueTotalSize}function AR(o){return!xh(o)}function Rn(o){let u=o._controlledReadableStream._state;return!o._closeRequested&&u==="readable"}function Ch(o,u,h,b,w,x,C){u._controlledReadableStream=o,u._queue=void 0,u._queueTotalSize=void 0,ir(u),u._started=!1,u._closeRequested=!1,u._pullAgain=!1,u._pulling=!1,u._strategySizeAlgorithm=C,u._strategyHWM=x,u._pullAlgorithm=b,u._cancelAlgorithm=w,o._readableStreamController=u;let W=h();S(p(W),()=>{u._started=!0,Oi(u)},Z=>{ar(u,Z)})}function PR(o,u,h,b){let w=Object.create(En.prototype),x=()=>{},C=()=>p(void 0),W=()=>p(void 0);u.start!==void 0&&(x=()=>u.start(w)),u.pull!==void 0&&(C=()=>u.pull(w)),u.cancel!==void 0&&(W=Z=>u.cancel(Z)),Ch(o,w,x,C,W,h,b)}function Ua(o){return new TypeError(`ReadableStreamDefaultController.prototype.${o} can only be used on a ReadableStreamDefaultController`)}function TR(o,u){return Dr(o._readableStreamController)?xR(o):OR(o)}function OR(o,u){let h=mt(o),b=!1,w=!1,x=!1,C=!1,W,Z,te,ie,ae,Pe=m(He=>{ae=He});function bt(){return b?(w=!0,p(void 0)):(b=!0,bi(h,{_chunkSteps:Ke=>{k(()=>{w=!1;let ut=Ke,Gt=Ke;x||ja(te._readableStreamController,ut),C||ja(ie._readableStreamController,Gt),b=!1,w&&bt()})},_closeSteps:()=>{b=!1,x||xi(te._readableStreamController),C||xi(ie._readableStreamController),(!x||!C)&&ae(void 0)},_errorSteps:()=>{b=!1}}),p(void 0))}function An(He){if(x=!0,W=He,C){let Ke=vi([W,Z]),ut=yt(o,Ke);ae(ut)}return Pe}function cr(He){if(C=!0,Z=He,x){let Ke=vi([W,Z]),ut=yt(o,Ke);ae(ut)}return Pe}function $t(){}return te=Ou($t,bt,An),ie=Ou($t,bt,cr),A(h._closedPromise,He=>{ar(te._readableStreamController,He),ar(ie._readableStreamController,He),(!x||!C)&&ae(void 0)}),[te,ie]}function xR(o){let u=mt(o),h=!1,b=!1,w=!1,x=!1,C=!1,W,Z,te,ie,ae,Pe=m(z=>{ae=z});function bt(z){A(z._closedPromise,J=>{z===u&&(gt(te._readableStreamController,J),gt(ie._readableStreamController,J),(!x||!C)&&ae(void 0))})}function An(){Fr(u)&&(P(u),u=mt(o),bt(u)),bi(u,{_chunkSteps:J=>{k(()=>{b=!1,w=!1;let pe=J,et=J;if(!x&&!C)try{et=Xd(J)}catch(Pn){gt(te._readableStreamController,Pn),gt(ie._readableStreamController,Pn),ae(yt(o,Pn));return}x||Oa(te._readableStreamController,pe),C||Oa(ie._readableStreamController,et),h=!1,b?$t():w&&He()})},_closeSteps:()=>{h=!1,x||_i(te._readableStreamController),C||_i(ie._readableStreamController),te._readableStreamController._pendingPullIntos.length>0&&xa(te._readableStreamController,0),ie._readableStreamController._pendingPullIntos.length>0&&xa(ie._readableStreamController,0),(!x||!C)&&ae(void 0)},_errorSteps:()=>{h=!1}})}function cr(z,J){nr(u)&&(P(u),u=sh(o),bt(u));let pe=J?ie:te,et=J?te:ie;lh(u,z,{_chunkSteps:Tn=>{k(()=>{b=!1,w=!1;let On=J?C:x;if(J?x:C)On||Ca(pe._readableStreamController,Tn);else{let zh;try{zh=Xd(Tn)}catch(Cu){gt(pe._readableStreamController,Cu),gt(et._readableStreamController,Cu),ae(yt(o,Cu));return}On||Ca(pe._readableStreamController,Tn),Oa(et._readableStreamController,zh)}h=!1,b?$t():w&&He()})},_closeSteps:Tn=>{h=!1;let On=J?C:x,Ja=J?x:C;On||_i(pe._readableStreamController),Ja||_i(et._readableStreamController),Tn!==void 0&&(On||Ca(pe._readableStreamController,Tn),!Ja&&et._readableStreamController._pendingPullIntos.length>0&&xa(et._readableStreamController,0)),(!On||!Ja)&&ae(void 0)},_errorSteps:()=>{h=!1}})}function $t(){if(h)return b=!0,p(void 0);h=!0;let z=hu(te._readableStreamController);return z===null?An():cr(z._view,!1),p(void 0)}function He(){if(h)return w=!0,p(void 0);h=!0;let z=hu(ie._readableStreamController);return z===null?An():cr(z._view,!0),p(void 0)}function Ke(z){if(x=!0,W=z,C){let J=vi([W,Z]),pe=yt(o,J);ae(pe)}return Pe}function ut(z){if(C=!0,Z=z,x){let J=vi([W,Z]),pe=yt(o,J);ae(pe)}return Pe}function Gt(){}return te=kh(Gt,$t,Ke),ie=kh(Gt,He,ut),bt(u),[te,ie]}function CR(o,u){Y(o,u);let h=o,b=h==null?void 0:h.autoAllocateChunkSize,w=h==null?void 0:h.cancel,x=h==null?void 0:h.pull,C=h==null?void 0:h.start,W=h==null?void 0:h.type;return{autoAllocateChunkSize:b===void 0?void 0:ve(b,`${u} has member 'autoAllocateChunkSize' that`),cancel:w===void 0?void 0:IR(w,h,`${u} has member 'cancel' that`),pull:x===void 0?void 0:kR(x,h,`${u} has member 'pull' that`),start:C===void 0?void 0:DR(C,h,`${u} has member 'start' that`),type:W===void 0?void 0:LR(W,`${u} has member 'type' that`)}}function IR(o,u,h){return $e(o,h),b=>M(o,u,[b])}function kR(o,u,h){return $e(o,h),b=>M(o,u,[b])}function DR(o,u,h){return $e(o,h),b=>I(o,u,[b])}function LR(o,u){if(o=`${o}`,o!=="bytes")throw new TypeError(`${u} '${o}' is not a valid enumeration value for ReadableStreamType`);return o}function FR(o,u){Y(o,u);let h=o==null?void 0:o.mode;return{mode:h===void 0?void 0:MR(h,`${u} has member 'mode' that`)}}function MR(o,u){if(o=`${o}`,o!=="byob")throw new TypeError(`${u} '${o}' is not a valid enumeration value for ReadableStreamReaderMode`);return o}function qR(o,u){Y(o,u);let h=o==null?void 0:o.preventCancel;return{preventCancel:Boolean(h)}}function Ih(o,u){Y(o,u);let h=o==null?void 0:o.preventAbort,b=o==null?void 0:o.preventCancel,w=o==null?void 0:o.preventClose,x=o==null?void 0:o.signal;return x!==void 0&&NR(x,`${u} has member 'signal' that`),{preventAbort:Boolean(h),preventCancel:Boolean(b),preventClose:Boolean(w),signal:x}}function NR(o,u){if(!K0(o))throw new TypeError(`${u} is not an AbortSignal.`)}function BR(o,u){Y(o,u);let h=o==null?void 0:o.readable;L(h,"readable","ReadableWritablePair"),kr(h,`${u} has member 'readable' that`);let b=o==null?void 0:o.writable;return L(b,"writable","ReadableWritablePair"),fh(b,`${u} has member 'writable' that`),{readable:h,writable:b}}class or{constructor(u={},h={}){u===void 0?u=null:$(u,"First parameter");let b=Da(h,"Second parameter"),w=CR(u,"First parameter");if(xu(this),w.type==="bytes"){if(b.size!==void 0)throw new RangeError("The strategy for a byte stream cannot have a size function");let x=Ri(b,0);G0(this,w,x)}else{let x=ka(b),C=Ri(b,1);PR(this,w,C,x)}}get locked(){if(!sr(this))throw Nr("locked");return ur(this)}cancel(u=void 0){return sr(this)?ur(this)?y(new TypeError("Cannot cancel a stream that already has a reader")):yt(this,u):y(Nr("cancel"))}getReader(u=void 0){if(!sr(this))throw Nr("getReader");return FR(u,"First parameter").mode===void 0?mt(this):sh(this)}pipeThrough(u,h={}){if(!sr(this))throw Nr("pipeThrough");ee(u,1,"pipeThrough");let b=BR(u,"First parameter"),w=Ih(h,"Second parameter");if(ur(this))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(_n(b.writable))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");let x=Oh(this,b.writable,w.preventClose,w.preventAbort,w.preventCancel,w.signal);return F(x),b.readable}pipeTo(u,h={}){if(!sr(this))return y(Nr("pipeTo"));if(u===void 0)return y("Parameter 1 is required in 'pipeTo'.");if(!Sn(u))return y(new TypeError("ReadableStream.prototype.pipeTo's first argument must be a WritableStream"));let b;try{b=Ih(h,"Second parameter")}catch(w){return y(w)}return ur(this)?y(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):_n(u)?y(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):Oh(this,u,b.preventClose,b.preventAbort,b.preventCancel,b.signal)}tee(){if(!sr(this))throw Nr("tee");let u=TR(this);return vi(u)}values(u=void 0){if(!sr(this))throw Nr("values");let h=qR(u,"First parameter");return L0(this,h.preventCancel)}}Object.defineProperties(or.prototype,{cancel:{enumerable:!0},getReader:{enumerable:!0},pipeThrough:{enumerable:!0},pipeTo:{enumerable:!0},tee:{enumerable:!0},values:{enumerable:!0},locked:{enumerable:!0}}),typeof t.toStringTag=="symbol"&&Object.defineProperty(or.prototype,t.toStringTag,{value:"ReadableStream",configurable:!0}),typeof t.asyncIterator=="symbol"&&Object.defineProperty(or.prototype,t.asyncIterator,{value:or.prototype.values,writable:!0,configurable:!0});function Ou(o,u,h,b=1,w=()=>1){let x=Object.create(or.prototype);xu(x);let C=Object.create(En.prototype);return Ch(x,C,o,u,h,b,w),x}function kh(o,u,h){let b=Object.create(or.prototype);xu(b);let w=Object.create(vn.prototype);return oh(b,w,o,u,h,0,void 0),b}function xu(o){o._state="readable",o._reader=void 0,o._storedError=void 0,o._disturbed=!1}function sr(o){return!a(o)||!Object.prototype.hasOwnProperty.call(o,"_readableStreamController")?!1:o instanceof or}function ur(o){return o._reader!==void 0}function yt(o,u){if(o._disturbed=!0,o._state==="closed")return p(void 0);if(o._state==="errored")return y(o._storedError);Ci(o);let h=o._reader;h!==void 0&&Fr(h)&&(h._readIntoRequests.forEach(w=>{w._closeSteps(void 0)}),h._readIntoRequests=new T);let b=o._readableStreamController[Ae](u);return O(b,r)}function Ci(o){o._state="closed";let u=o._reader;u!==void 0&&(U(u),nr(u)&&(u._readRequests.forEach(h=>{h._closeSteps()}),u._readRequests=new T))}function Dh(o,u){o._state="errored",o._storedError=u;let h=o._reader;h!==void 0&&(E(h,u),nr(h)?(h._readRequests.forEach(b=>{b._errorSteps(u)}),h._readRequests=new T):(h._readIntoRequests.forEach(b=>{b._errorSteps(u)}),h._readIntoRequests=new T))}function Nr(o){return new TypeError(`ReadableStream.prototype.${o} can only be used on a ReadableStream`)}function Lh(o,u){Y(o,u);let h=o==null?void 0:o.highWaterMark;return L(h,"highWaterMark","QueuingStrategyInit"),{highWaterMark:Q(h)}}let Fh=o=>o.byteLength;Object.defineProperty(Fh,"name",{value:"size",configurable:!0});class Ha{constructor(u){ee(u,1,"ByteLengthQueuingStrategy"),u=Lh(u,"First parameter"),this._byteLengthQueuingStrategyHighWaterMark=u.highWaterMark}get highWaterMark(){if(!qh(this))throw Mh("highWaterMark");return this._byteLengthQueuingStrategyHighWaterMark}get size(){if(!qh(this))throw Mh("size");return Fh}}Object.defineProperties(Ha.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),typeof t.toStringTag=="symbol"&&Object.defineProperty(Ha.prototype,t.toStringTag,{value:"ByteLengthQueuingStrategy",configurable:!0});function Mh(o){return new TypeError(`ByteLengthQueuingStrategy.prototype.${o} can only be used on a ByteLengthQueuingStrategy`)}function qh(o){return!a(o)||!Object.prototype.hasOwnProperty.call(o,"_byteLengthQueuingStrategyHighWaterMark")?!1:o instanceof Ha}let Nh=()=>1;Object.defineProperty(Nh,"name",{value:"size",configurable:!0});class za{constructor(u){ee(u,1,"CountQueuingStrategy"),u=Lh(u,"First parameter"),this._countQueuingStrategyHighWaterMark=u.highWaterMark}get highWaterMark(){if(!$h(this))throw Bh("highWaterMark");return this._countQueuingStrategyHighWaterMark}get size(){if(!$h(this))throw Bh("size");return Nh}}Object.defineProperties(za.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),typeof t.toStringTag=="symbol"&&Object.defineProperty(za.prototype,t.toStringTag,{value:"CountQueuingStrategy",configurable:!0});function Bh(o){return new TypeError(`CountQueuingStrategy.prototype.${o} can only be used on a CountQueuingStrategy`)}function $h(o){return!a(o)||!Object.prototype.hasOwnProperty.call(o,"_countQueuingStrategyHighWaterMark")?!1:o instanceof za}function $R(o,u){Y(o,u);let h=o==null?void 0:o.flush,b=o==null?void 0:o.readableType,w=o==null?void 0:o.start,x=o==null?void 0:o.transform,C=o==null?void 0:o.writableType;return{flush:h===void 0?void 0:GR(h,o,`${u} has member 'flush' that`),readableType:b,start:w===void 0?void 0:WR(w,o,`${u} has member 'start' that`),transform:x===void 0?void 0:jR(x,o,`${u} has member 'transform' that`),writableType:C}}function GR(o,u,h){return $e(o,h),b=>M(o,u,[b])}function WR(o,u,h){return $e(o,h),b=>I(o,u,[b])}function jR(o,u,h){return $e(o,h),(b,w)=>M(o,u,[b,w])}class Ya{constructor(u={},h={},b={}){u===void 0&&(u=null);let w=Da(h,"Second parameter"),x=Da(b,"Third parameter"),C=$R(u,"First parameter");if(C.readableType!==void 0)throw new RangeError("Invalid readableType specified");if(C.writableType!==void 0)throw new RangeError("Invalid writableType specified");let W=Ri(x,0),Z=ka(x),te=Ri(w,1),ie=ka(w),ae,Pe=m(bt=>{ae=bt});UR(this,Pe,te,ie,W,Z),zR(this,C),C.start!==void 0?ae(C.start(this._transformStreamController)):ae(void 0)}get readable(){if(!Gh(this))throw Hh("readable");return this._readable}get writable(){if(!Gh(this))throw Hh("writable");return this._writable}}Object.defineProperties(Ya.prototype,{readable:{enumerable:!0},writable:{enumerable:!0}}),typeof t.toStringTag=="symbol"&&Object.defineProperty(Ya.prototype,t.toStringTag,{value:"TransformStream",configurable:!0});function UR(o,u,h,b,w,x){function C(){return u}function W(Pe){return QR(o,Pe)}function Z(Pe){return KR(o,Pe)}function te(){return XR(o)}o._writable=J0(C,W,te,Z,h,b);function ie(){return ZR(o)}function ae(Pe){return Qa(o,Pe),p(void 0)}o._readable=Ou(C,ie,ae,w,x),o._backpressure=void 0,o._backpressureChangePromise=void 0,o._backpressureChangePromise_resolve=void 0,Ka(o,!0),o._transformStreamController=void 0}function Gh(o){return!a(o)||!Object.prototype.hasOwnProperty.call(o,"_transformStreamController")?!1:o instanceof Ya}function Va(o,u){ar(o._readable._readableStreamController,u),Qa(o,u)}function Qa(o,u){Wh(o._transformStreamController),_u(o._writable._writableStreamController,u),o._backpressure&&Ka(o,!1)}function Ka(o,u){o._backpressureChangePromise!==void 0&&o._backpressureChangePromise_resolve(),o._backpressureChangePromise=m(h=>{o._backpressureChangePromise_resolve=h}),o._backpressure=u}class Ii{constructor(){throw new TypeError("Illegal constructor")}get desiredSize(){if(!Xa(this))throw Za("desiredSize");let u=this._controlledTransformStream._readable._readableStreamController;return Tu(u)}enqueue(u=void 0){if(!Xa(this))throw Za("enqueue");jh(this,u)}error(u=void 0){if(!Xa(this))throw Za("error");YR(this,u)}terminate(){if(!Xa(this))throw Za("terminate");VR(this)}}Object.defineProperties(Ii.prototype,{enqueue:{enumerable:!0},error:{enumerable:!0},terminate:{enumerable:!0},desiredSize:{enumerable:!0}}),typeof t.toStringTag=="symbol"&&Object.defineProperty(Ii.prototype,t.toStringTag,{value:"TransformStreamDefaultController",configurable:!0});function Xa(o){return!a(o)||!Object.prototype.hasOwnProperty.call(o,"_controlledTransformStream")?!1:o instanceof Ii}function HR(o,u,h,b){u._controlledTransformStream=o,o._transformStreamController=u,u._transformAlgorithm=h,u._flushAlgorithm=b}function zR(o,u){let h=Object.create(Ii.prototype),b=x=>{try{return jh(h,x),p(void 0)}catch(C){return y(C)}},w=()=>p(void 0);u.transform!==void 0&&(b=x=>u.transform(x,h)),u.flush!==void 0&&(w=()=>u.flush(h)),HR(o,h,b,w)}function Wh(o){o._transformAlgorithm=void 0,o._flushAlgorithm=void 0}function jh(o,u){let h=o._controlledTransformStream,b=h._readable._readableStreamController;if(!Rn(b))throw new TypeError("Readable side is not in a state that permits enqueue");try{ja(b,u)}catch(x){throw Qa(h,x),h._readable._storedError}AR(b)!==h._backpressure&&Ka(h,!0)}function YR(o,u){Va(o._controlledTransformStream,u)}function Uh(o,u){let h=o._transformAlgorithm(u);return O(h,void 0,b=>{throw Va(o._controlledTransformStream,b),b})}function VR(o){let u=o._controlledTransformStream,h=u._readable._readableStreamController;xi(h);let b=new TypeError("TransformStream terminated");Qa(u,b)}function QR(o,u){let h=o._transformStreamController;if(o._backpressure){let b=o._backpressureChangePromise;return O(b,()=>{let w=o._writable;if(w._state==="erroring")throw w._storedError;return Uh(h,u)})}return Uh(h,u)}function KR(o,u){return Va(o,u),p(void 0)}function XR(o){let u=o._readable,h=o._transformStreamController,b=h._flushAlgorithm();return Wh(h),O(b,()=>{if(u._state==="errored")throw u._storedError;xi(u._readableStreamController)},w=>{throw Va(o,w),u._storedError})}function ZR(o){return Ka(o,!1),o._backpressureChangePromise}function Za(o){return new TypeError(`TransformStreamDefaultController.prototype.${o} can only be used on a TransformStreamDefaultController`)}function Hh(o){return new TypeError(`TransformStream.prototype.${o} can only be used on a TransformStream`)}e.ByteLengthQueuingStrategy=Ha,e.CountQueuingStrategy=za,e.ReadableByteStreamController=vn,e.ReadableStream=or,e.ReadableStreamBYOBReader=Ei,e.ReadableStreamBYOBRequest=Si,e.ReadableStreamDefaultController=En,e.ReadableStreamDefaultReader=yi,e.TransformStream=Ya,e.TransformStreamDefaultController=Ii,e.WritableStream=Ai,e.WritableStreamDefaultController=wn,e.WritableStreamDefaultWriter=Pi,Object.defineProperty(e,"__esModule",{value:!0})})});var tp=_(()=>{if(!globalThis.ReadableStream)try{let e=require("node:process"),{emitWarning:t}=e;try{e.emitWarning=()=>{},Object.assign(globalThis,require("node:stream/web")),e.emitWarning=t}catch(r){throw e.emitWarning=t,r}}catch{Object.assign(globalThis,ep())}try{let{Blob:e}=require("buffer");e&&!e.prototype.stream&&(e.prototype.stream=function(r){let n=0,i=this;return new ReadableStream({type:"bytes",async pull(a){let c=await i.slice(n,Math.min(i.size,n+65536)).arrayBuffer();n+=c.byteLength,a.enqueue(new Uint8Array(c)),n===i.size&&a.close()}})})}catch{}});async function*Du(e,t=!0){for(let r of e)if("stream"in r)yield*r.stream();else if(ArrayBuffer.isView(r))if(t){let n=r.byteOffset,i=r.byteOffset+r.byteLength;for(;n!==i;){let a=Math.min(i-n,rp),s=r.buffer.slice(n,n+a);n+=s.byteLength,yield new Uint8Array(s)}}else yield r;else{let n=0,i=r;for(;n!==i.size;){let s=await i.slice(n,Math.min(i.size,n+rp)).arrayBuffer();n+=s.byteLength,yield new Uint8Array(s)}}}var Gq,rp,np,sA,Wt,Li=Di(()=>{Gq=Se(tp(),1);rp=65536;np=class Lu{#e=[];#t="";#r=0;#n="transparent";constructor(t=[],r={}){if(typeof t!="object"||t===null)throw new TypeError("Failed to construct 'Blob': The provided value cannot be converted to a sequence.");if(typeof t[Symbol.iterator]!="function")throw new TypeError("Failed to construct 'Blob': The object must have a callable @@iterator property.");if(typeof r!="object"&&typeof r!="function")throw new TypeError("Failed to construct 'Blob': parameter 2 cannot convert to dictionary.");r===null&&(r={});let n=new TextEncoder;for(let a of t){let s;ArrayBuffer.isView(a)?s=new Uint8Array(a.buffer.slice(a.byteOffset,a.byteOffset+a.byteLength)):a instanceof ArrayBuffer?s=new Uint8Array(a.slice(0)):a instanceof Lu?s=a:s=n.encode(`${a}`),this.#r+=ArrayBuffer.isView(s)?s.byteLength:s.size,this.#e.push(s)}this.#n=`${r.endings===void 0?"transparent":r.endings}`;let i=r.type===void 0?"":String(r.type);this.#t=/^[\x20-\x7E]*$/.test(i)?i:""}get size(){return this.#r}get type(){return this.#t}async text(){let t=new TextDecoder,r="";for await(let n of Du(this.#e,!1))r+=t.decode(n,{stream:!0});return r+=t.decode(),r}async arrayBuffer(){let t=new Uint8Array(this.size),r=0;for await(let n of Du(this.#e,!1))t.set(n,r),r+=n.length;return t.buffer}stream(){let t=Du(this.#e,!0);return new globalThis.ReadableStream({type:"bytes",async pull(r){let n=await t.next();n.done?r.close():r.enqueue(n.value)},async cancel(){await t.return()}})}slice(t=0,r=this.size,n=""){let{size:i}=this,a=t<0?Math.max(i+t,0):Math.min(t,i),s=r<0?Math.max(i+r,0):Math.min(r,i),c=Math.max(s-a,0),l=this.#e,f=[],d=0;for(let p of l){if(d>=c)break;let y=ArrayBuffer.isView(p)?p.byteLength:p.size;if(a&&y<=a)a-=y,s-=y;else{let g;ArrayBuffer.isView(p)?(g=p.subarray(a,Math.min(y,s)),d+=g.byteLength):(g=p.slice(a,Math.min(y,s)),d+=g.size),s-=y,f.push(g),a=0}}let m=new Lu([],{type:String(n).toLowerCase()});return m.#r=c,m.#e=f,m}get[Symbol.toStringTag](){return"Blob"}static[Symbol.hasInstance](t){return t&&typeof t=="object"&&typeof t.constructor=="function"&&(typeof t.stream=="function"||typeof t.arrayBuffer=="function")&&/^(Blob|File)$/.test(t[Symbol.toStringTag])}};Object.defineProperties(np.prototype,{size:{enumerable:!0},type:{enumerable:!0},slice:{enumerable:!0}});sA=np,Wt=sA});var uA,cA,xn,Fu=Di(()=>{Li();uA=class extends Wt{#e=0;#t="";constructor(t,r,n={}){if(arguments.length<2)throw new TypeError(`Failed to construct 'File': 2 arguments required, but only ${arguments.length} present.`);super(t,n);n===null&&(n={});let i=n.lastModified===void 0?Date.now():Number(n.lastModified);Number.isNaN(i)||(this.#e=i),this.#t=String(r)}get name(){return this.#t}get lastModified(){return this.#e}get[Symbol.toStringTag](){return"File"}static[Symbol.hasInstance](t){return!!t&&t instanceof Wt&&/^(File)$/.test(t[Symbol.toStringTag])}},cA=uA,xn=cA});function op(e,t=Wt){var r=`${ip()}${ip()}`.replace(/\./g,"").slice(-28).padStart(32,"-"),n=[],i=`--${r}\r
Content-Disposition: form-data; name="`;return e.forEach((a,s)=>typeof a=="string"?n.push(i+Mu(s)+`"\r
\r
${a.replace(/\r(?!\n)|(?<!\r)\n/g,`\r
`)}\r
`):n.push(i+Mu(s)+`"; filename="${Mu(a.name,1)}"\r
Content-Type: ${a.type||"application/octet-stream"}\r
\r
`,a,`\r
`)),n.push(`--${r}--`),new t(n,{type:"multipart/form-data; boundary="+r})}var Fi,lA,fA,ip,dA,ap,Mu,Br,$r,ro=Di(()=>{Li();Fu();({toStringTag:Fi,iterator:lA,hasInstance:fA}=Symbol),ip=Math.random,dA="append,set,get,getAll,delete,keys,values,entries,forEach,constructor".split(","),ap=(e,t,r)=>(e+="",/^(Blob|File)$/.test(t&&t[Fi])?[(r=r!==void 0?r+"":t[Fi]=="File"?t.name:"blob",e),t.name!==r||t[Fi]=="blob"?new xn([t],r,t):t]:[e,t+""]),Mu=(e,t)=>(t?e:e.replace(/\r?\n|\r/g,`\r
`)).replace(/\n/g,"%0A").replace(/\r/g,"%0D").replace(/"/g,"%22"),Br=(e,t,r)=>{if(t.length<r)throw new TypeError(`Failed to execute '${e}' on 'FormData': ${r} arguments required, but only ${t.length} present.`)},$r=class{#e=[];constructor(...t){if(t.length)throw new TypeError("Failed to construct 'FormData': parameter 1 is not of type 'HTMLFormElement'.")}get[Fi](){return"FormData"}[lA](){return this.entries()}static[fA](t){return t&&typeof t=="object"&&t[Fi]==="FormData"&&!dA.some(r=>typeof t[r]!="function")}append(...t){Br("append",arguments,2),this.#e.push(ap(...t))}delete(t){Br("delete",arguments,1),t+="",this.#e=this.#e.filter(([r])=>r!==t)}get(t){Br("get",arguments,1),t+="";for(var r=this.#e,n=r.length,i=0;i<n;i++)if(r[i][0]===t)return r[i][1];return null}getAll(t,r){return Br("getAll",arguments,1),r=[],t+="",this.#e.forEach(n=>n[0]===t&&r.push(n[1])),r}has(t){return Br("has",arguments,1),t+="",this.#e.some(r=>r[0]===t)}forEach(t,r){Br("forEach",arguments,1);for(var[n,i]of this)t.call(r,i,n,this)}set(...t){Br("set",arguments,2);var r=[],n=!0;t=ap(...t),this.#e.forEach(i=>{i[0]===t[0]?n&&(n=!r.push(t)):r.push(i)}),n&&r.push(t),this.#e=r}*entries(){yield*this.#e}*keys(){for(var[t]of this)yield t}*values(){for(var[,t]of this)yield t}}});var lp=_((eN,cp)=>{if(!globalThis.DOMException)try{let{MessageChannel:e}=require("worker_threads"),t=new e().port1,r=new ArrayBuffer;t.postMessage(r,[r,r])}catch(e){e.constructor.name==="DOMException"&&(globalThis.DOMException=e.constructor)}cp.exports=globalThis.DOMException});var qi,fp,hA,Nu,Bu=Di(()=>{qi=require("node:fs"),fp=Se(lp(),1);Fu();Li();({stat:hA}=qi.promises),Nu=class{#e;#t;constructor(t){this.#e=t.path,this.#t=t.start,this.size=t.size,this.lastModified=t.lastModified}slice(t,r){return new Nu({path:this.#e,lastModified:this.lastModified,size:r-t,start:this.#t+t})}async*stream(){let{mtimeMs:t}=await hA(this.#e);if(t>this.lastModified)throw new fp.default("The requested file could not be read, typically due to permission problems that have occurred after a reference to a file was acquired.","NotReadableError");yield*(0,qi.createReadStream)(this.#e,{start:this.#t,end:this.#t+this.size-1})}get[Symbol.toStringTag](){return"Blob"}}});var pp={};Kh(pp,{toFormData:()=>SA});function vA(e){let t=e.match(/\bfilename=("(.*?)"|([^()<>@,;:\\"/[\]?={}\s\t]+))($|;\s)/i);if(!t)return;let r=t[2]||t[3]||"",n=r.slice(r.lastIndexOf("\\")+1);return n=n.replace(/%22/g,'"'),n=n.replace(/&#(\d{4});/g,(i,a)=>String.fromCharCode(a)),n}async function SA(e,t){if(!/multipart/i.test(t))throw new TypeError("Failed to fetch");let r=t.match(/boundary=(?:"([^"]+)"|([^;]+))/i);if(!r)throw new TypeError("no or bad content-type header, no multipart boundary");let n=new hp(r[1]||r[2]),i,a,s,c,l,f,d=[],m=new $r,p=A=>{s+=v.decode(A,{stream:!0})},y=A=>{d.push(A)},g=()=>{let A=new xn(d,f,{type:l});m.append(c,A)},S=()=>{m.append(c,s)},v=new TextDecoder("utf-8");v.decode(),n.onPartBegin=function(){n.onPartData=p,n.onPartEnd=S,i="",a="",s="",c="",l="",f=null,d.length=0},n.onHeaderField=function(A){i+=v.decode(A,{stream:!0})},n.onHeaderValue=function(A){a+=v.decode(A,{stream:!0})},n.onHeaderEnd=function(){if(a+=v.decode(),i=i.toLowerCase(),i==="content-disposition"){let A=a.match(/\bname=("([^"]*)"|([^()<>@,;:\\"/[\]?={}\s\t]+))/i);A&&(c=A[2]||A[3]||""),f=vA(a),f&&(n.onPartData=y,n.onPartEnd=g)}else i==="content-type"&&(l=a);a="",i=""};for await(let A of e)n.write(A);return n.end(),m}var At,me,dp,fr,io,ao,pA,Ni,mA,gA,yA,bA,Gr,hp,mp=Di(()=>{Bu();ro();At=0,me={START_BOUNDARY:At++,HEADER_FIELD_START:At++,HEADER_FIELD:At++,HEADER_VALUE_START:At++,HEADER_VALUE:At++,HEADER_VALUE_ALMOST_DONE:At++,HEADERS_ALMOST_DONE:At++,PART_DATA_START:At++,PART_DATA:At++,END:At++},dp=1,fr={PART_BOUNDARY:dp,LAST_BOUNDARY:dp*=2},io=10,ao=13,pA=32,Ni=45,mA=58,gA=97,yA=122,bA=e=>e|32,Gr=()=>{},hp=class{constructor(t){this.index=0,this.flags=0,this.onHeaderEnd=Gr,this.onHeaderField=Gr,this.onHeadersEnd=Gr,this.onHeaderValue=Gr,this.onPartBegin=Gr,this.onPartData=Gr,this.onPartEnd=Gr,this.boundaryChars={},t=`\r
--`+t;let r=new Uint8Array(t.length);for(let n=0;n<t.length;n++)r[n]=t.charCodeAt(n),this.boundaryChars[r[n]]=!0;this.boundary=r,this.lookbehind=new Uint8Array(this.boundary.length+8),this.state=me.START_BOUNDARY}write(t){let r=0,n=t.length,i=this.index,{lookbehind:a,boundary:s,boundaryChars:c,index:l,state:f,flags:d}=this,m=this.boundary.length,p=m-1,y=t.length,g,S,v=k=>{this[k+"Mark"]=r},A=k=>{delete this[k+"Mark"]},O=(k,I,M,q)=>{(I===void 0||I!==M)&&this[k](q&&q.subarray(I,M))},F=(k,I)=>{let M=k+"Mark";M in this&&(I?(O(k,this[M],r,t),delete this[M]):(O(k,this[M],t.length,t),this[M]=0))};for(r=0;r<n;r++)switch(g=t[r],f){case me.START_BOUNDARY:if(l===s.length-2){if(g===Ni)d|=fr.LAST_BOUNDARY;else if(g!==ao)return;l++;break}else if(l-1===s.length-2){if(d&fr.LAST_BOUNDARY&&g===Ni)f=me.END,d=0;else if(!(d&fr.LAST_BOUNDARY)&&g===io)l=0,O("onPartBegin"),f=me.HEADER_FIELD_START;else return;break}g!==s[l+2]&&(l=-2),g===s[l+2]&&l++;break;case me.HEADER_FIELD_START:f=me.HEADER_FIELD,v("onHeaderField"),l=0;case me.HEADER_FIELD:if(g===ao){A("onHeaderField"),f=me.HEADERS_ALMOST_DONE;break}if(l++,g===Ni)break;if(g===mA){if(l===1)return;F("onHeaderField",!0),f=me.HEADER_VALUE_START;break}if(S=bA(g),S<gA||S>yA)return;break;case me.HEADER_VALUE_START:if(g===pA)break;v("onHeaderValue"),f=me.HEADER_VALUE;case me.HEADER_VALUE:g===ao&&(F("onHeaderValue",!0),O("onHeaderEnd"),f=me.HEADER_VALUE_ALMOST_DONE);break;case me.HEADER_VALUE_ALMOST_DONE:if(g!==io)return;f=me.HEADER_FIELD_START;break;case me.HEADERS_ALMOST_DONE:if(g!==io)return;O("onHeadersEnd"),f=me.PART_DATA_START;break;case me.PART_DATA_START:f=me.PART_DATA,v("onPartData");case me.PART_DATA:if(i=l,l===0){for(r+=p;r<y&&!(t[r]in c);)r+=m;r-=p,g=t[r]}if(l<s.length)s[l]===g?(l===0&&F("onPartData",!0),l++):l=0;else if(l===s.length)l++,g===ao?d|=fr.PART_BOUNDARY:g===Ni?d|=fr.LAST_BOUNDARY:l=0;else if(l-1===s.length)if(d&fr.PART_BOUNDARY){if(l=0,g===io){d&=~fr.PART_BOUNDARY,O("onPartEnd"),O("onPartBegin"),f=me.HEADER_FIELD_START;break}}else d&fr.LAST_BOUNDARY&&g===Ni?(O("onPartEnd"),f=me.END,d=0):l=0;if(l>0)a[l-1]=g;else if(i>0){let k=new Uint8Array(a.buffer,a.byteOffset,a.byteLength);O("onPartData",0,i,k),i=0,v("onPartData"),r--}break;case me.END:break;default:throw new Error(`Unexpected state entered: ${f}`)}F("onHeaderField"),F("onHeaderValue"),F("onPartData"),this.index=l,this.state=f,this.flags=d}end(){if(this.state===me.HEADER_FIELD_START&&this.index===0||this.state===me.PART_DATA&&this.index===this.boundary.length)this.onPartEnd();else if(this.state!==me.END)throw new Error("MultipartParser.end(): stream ended unexpectedly")}}});var ac=_(we=>{"use strict";var _o=we&&we.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e};Object.defineProperty(we,"__esModule",{value:!0});we.Logger=we.LogLevel=void 0;var Vi;(function(e){e[e.DEBUG=0]="DEBUG",e[e.INFO=1]="INFO",e[e.WARN=2]="WARN",e[e.ERROR=3]="ERROR"})(Vi=we.LogLevel||(we.LogLevel={}));we.Logger={ENABLED:typeof window<"u"&&typeof location<"u"&&location.search.indexOf("giphy-debug")!==-1,LEVEL:0,PREFIX:"GiphyJS",debug:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];we.Logger.ENABLED&&we.Logger.LEVEL<=Vi.DEBUG&&console.debug.apply(console,_o([we.Logger.PREFIX],e))},info:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];we.Logger.ENABLED&&we.Logger.LEVEL<=Vi.INFO&&console.info.apply(console,_o([we.Logger.PREFIX],e))},warn:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];we.Logger.ENABLED&&we.Logger.LEVEL<=Vi.WARN&&console.warn.apply(console,_o([we.Logger.PREFIX],e))},error:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];we.Logger.ENABLED&&we.Logger.LEVEL<=Vi.ERROR&&console.error.apply(console,_o([we.Logger.PREFIX],e))}}});var oc=_(Qi=>{"use strict";Object.defineProperty(Qi,"__esModule",{value:!0});Qi.setRenditionScaleUpMaxPixels=void 0;var xP=ac(),CP=function(e,t,r){var n=1/0,i;return r.forEach(function(a){var s=a.width/e,c=a.height/t,l=s*c,f=Math.abs(1-l);f<n&&(n=f,i=a)}),i},tm=50,IP=function(e){xP.Logger.debug("@giphy/js-util set rendition selection scale up max pixels to "+e),tm=e};Qi.setRenditionScaleUpMaxPixels=IP;function kP(e,t,r,n){n===void 0&&(n=tm);var i=e[0],a=e.filter(function(s){return s.width*s.height>i.width*i.height&&(i=s),t-s.width<=n&&r-s.height<=n});return a.length===0?i:CP(t,r,a)}Qi.default=kP});var sc=_(lt=>{"use strict";Object.defineProperty(lt,"__esModule",{value:!0});lt.pick=lt.without=lt.take=lt.forEach=lt.mapValues=void 0;function DP(e,t){if(Array.isArray(e))throw"This map is just for objects, just use array.map for arrays";return Object.keys(e).reduce(function(r,n){return r[n]=t(e[n],n),r},{})}lt.mapValues=DP;function LP(e,t){if(Array.isArray(e))throw"This map is just for objects, just use array.forEach for arrays";return Object.keys(e).forEach(function(r){t(e[r],r)})}lt.forEach=LP;function FP(e,t){return t===void 0&&(t=0),e.slice(0,t)}lt.take=FP;function MP(e,t){return e.filter(function(r){return t.indexOf(r)===-1})}lt.without=MP;function qP(e,t){var r={};return t.forEach(function(n){e[n]!==void 0&&(r[n]=e[n])}),r}lt.pick=qP});var rm=_(uc=>{"use strict";Object.defineProperty(uc,"__esModule",{value:!0});var NP=function(e){var t=0,r=0,n=e.offsetWidth,i=e.offsetHeight;do t+=e.offsetLeft,r+=e.offsetTop,e=e.offsetParent;while(e);return{left:t,top:r,width:n,height:i,right:t+n,bottom:r+i}};uc.default=NP});var lc=_(cc=>{"use strict";Object.defineProperty(cc,"__esModule",{value:!0});cc.default=GP;var BP=$P(require("crypto"));function $P(e){return e&&e.__esModule?e:{default:e}}var Eo=new Uint8Array(256),wo=Eo.length;function GP(){return wo>Eo.length-16&&(BP.default.randomFillSync(Eo),wo=0),Eo.slice(wo,wo+=16)}});var nm=_(Ro=>{"use strict";Object.defineProperty(Ro,"__esModule",{value:!0});Ro.default=void 0;var WP=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;Ro.default=WP});var Ki=_(Ao=>{"use strict";Object.defineProperty(Ao,"__esModule",{value:!0});Ao.default=void 0;var jP=UP(nm());function UP(e){return e&&e.__esModule?e:{default:e}}function HP(e){return typeof e=="string"&&jP.default.test(e)}var zP=HP;Ao.default=zP});var Xi=_(Po=>{"use strict";Object.defineProperty(Po,"__esModule",{value:!0});Po.default=void 0;var YP=VP(Ki());function VP(e){return e&&e.__esModule?e:{default:e}}var Le=[];for(let e=0;e<256;++e)Le.push((e+256).toString(16).substr(1));function QP(e,t=0){let r=(Le[e[t+0]]+Le[e[t+1]]+Le[e[t+2]]+Le[e[t+3]]+"-"+Le[e[t+4]]+Le[e[t+5]]+"-"+Le[e[t+6]]+Le[e[t+7]]+"-"+Le[e[t+8]]+Le[e[t+9]]+"-"+Le[e[t+10]]+Le[e[t+11]]+Le[e[t+12]]+Le[e[t+13]]+Le[e[t+14]]+Le[e[t+15]]).toLowerCase();if(!(0,YP.default)(r))throw TypeError("Stringified UUID is invalid");return r}var KP=QP;Po.default=KP});var om=_(To=>{"use strict";Object.defineProperty(To,"__esModule",{value:!0});To.default=void 0;var XP=am(lc()),ZP=am(Xi());function am(e){return e&&e.__esModule?e:{default:e}}var im,fc,dc=0,hc=0;function JP(e,t,r){let n=t&&r||0,i=t||new Array(16);e=e||{};let a=e.node||im,s=e.clockseq!==void 0?e.clockseq:fc;if(a==null||s==null){let p=e.random||(e.rng||XP.default)();a==null&&(a=im=[p[0]|1,p[1],p[2],p[3],p[4],p[5]]),s==null&&(s=fc=(p[6]<<8|p[7])&16383)}let c=e.msecs!==void 0?e.msecs:Date.now(),l=e.nsecs!==void 0?e.nsecs:hc+1,f=c-dc+(l-hc)/1e4;if(f<0&&e.clockseq===void 0&&(s=s+1&16383),(f<0||c>dc)&&e.nsecs===void 0&&(l=0),l>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");dc=c,hc=l,fc=s,c+=122192928e5;let d=((c&268435455)*1e4+l)%4294967296;i[n++]=d>>>24&255,i[n++]=d>>>16&255,i[n++]=d>>>8&255,i[n++]=d&255;let m=c/4294967296*1e4&268435455;i[n++]=m>>>8&255,i[n++]=m&255,i[n++]=m>>>24&15|16,i[n++]=m>>>16&255,i[n++]=s>>>8|128,i[n++]=s&255;for(let p=0;p<6;++p)i[n+p]=a[p];return t||(0,ZP.default)(i)}var eT=JP;To.default=eT});var pc=_(Oo=>{"use strict";Object.defineProperty(Oo,"__esModule",{value:!0});Oo.default=void 0;var tT=rT(Ki());function rT(e){return e&&e.__esModule?e:{default:e}}function nT(e){if(!(0,tT.default)(e))throw TypeError("Invalid UUID");let t,r=new Uint8Array(16);return r[0]=(t=parseInt(e.slice(0,8),16))>>>24,r[1]=t>>>16&255,r[2]=t>>>8&255,r[3]=t&255,r[4]=(t=parseInt(e.slice(9,13),16))>>>8,r[5]=t&255,r[6]=(t=parseInt(e.slice(14,18),16))>>>8,r[7]=t&255,r[8]=(t=parseInt(e.slice(19,23),16))>>>8,r[9]=t&255,r[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,r[11]=t/4294967296&255,r[12]=t>>>24&255,r[13]=t>>>16&255,r[14]=t>>>8&255,r[15]=t&255,r}var iT=nT;Oo.default=iT});var mc=_(zr=>{"use strict";Object.defineProperty(zr,"__esModule",{value:!0});zr.default=uT;zr.URL=zr.DNS=void 0;var aT=sm(Xi()),oT=sm(pc());function sm(e){return e&&e.__esModule?e:{default:e}}function sT(e){e=unescape(encodeURIComponent(e));let t=[];for(let r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t}var um="6ba7b810-9dad-11d1-80b4-00c04fd430c8";zr.DNS=um;var cm="6ba7b811-9dad-11d1-80b4-00c04fd430c8";zr.URL=cm;function uT(e,t,r){function n(i,a,s,c){if(typeof i=="string"&&(i=sT(i)),typeof a=="string"&&(a=(0,oT.default)(a)),a.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let l=new Uint8Array(16+i.length);if(l.set(a),l.set(i,a.length),l=r(l),l[6]=l[6]&15|t,l[8]=l[8]&63|128,s){c=c||0;for(let f=0;f<16;++f)s[c+f]=l[f];return s}return(0,aT.default)(l)}try{n.name=e}catch{}return n.DNS=um,n.URL=cm,n}});var lm=_(xo=>{"use strict";Object.defineProperty(xo,"__esModule",{value:!0});xo.default=void 0;var cT=lT(require("crypto"));function lT(e){return e&&e.__esModule?e:{default:e}}function fT(e){return Array.isArray(e)?e=Buffer.from(e):typeof e=="string"&&(e=Buffer.from(e,"utf8")),cT.default.createHash("md5").update(e).digest()}var dT=fT;xo.default=dT});var dm=_(Co=>{"use strict";Object.defineProperty(Co,"__esModule",{value:!0});Co.default=void 0;var hT=fm(mc()),pT=fm(lm());function fm(e){return e&&e.__esModule?e:{default:e}}var mT=(0,hT.default)("v3",48,pT.default),gT=mT;Co.default=gT});var pm=_(Io=>{"use strict";Object.defineProperty(Io,"__esModule",{value:!0});Io.default=void 0;var yT=hm(lc()),bT=hm(Xi());function hm(e){return e&&e.__esModule?e:{default:e}}function vT(e,t,r){e=e||{};let n=e.random||(e.rng||yT.default)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,t){r=r||0;for(let i=0;i<16;++i)t[r+i]=n[i];return t}return(0,bT.default)(n)}var ST=vT;Io.default=ST});var mm=_(ko=>{"use strict";Object.defineProperty(ko,"__esModule",{value:!0});ko.default=void 0;var _T=wT(require("crypto"));function wT(e){return e&&e.__esModule?e:{default:e}}function ET(e){return Array.isArray(e)?e=Buffer.from(e):typeof e=="string"&&(e=Buffer.from(e,"utf8")),_T.default.createHash("sha1").update(e).digest()}var RT=ET;ko.default=RT});var ym=_(Do=>{"use strict";Object.defineProperty(Do,"__esModule",{value:!0});Do.default=void 0;var AT=gm(mc()),PT=gm(mm());function gm(e){return e&&e.__esModule?e:{default:e}}var TT=(0,AT.default)("v5",80,PT.default),OT=TT;Do.default=OT});var bm=_(Lo=>{"use strict";Object.defineProperty(Lo,"__esModule",{value:!0});Lo.default=void 0;var xT="00000000-0000-0000-0000-000000000000";Lo.default=xT});var vm=_(Fo=>{"use strict";Object.defineProperty(Fo,"__esModule",{value:!0});Fo.default=void 0;var CT=IT(Ki());function IT(e){return e&&e.__esModule?e:{default:e}}function kT(e){if(!(0,CT.default)(e))throw TypeError("Invalid UUID");return parseInt(e.substr(14,1),16)}var DT=kT;Fo.default=DT});var Sm=_(St=>{"use strict";Object.defineProperty(St,"__esModule",{value:!0});Object.defineProperty(St,"v1",{enumerable:!0,get:function(){return LT.default}});Object.defineProperty(St,"v3",{enumerable:!0,get:function(){return FT.default}});Object.defineProperty(St,"v4",{enumerable:!0,get:function(){return MT.default}});Object.defineProperty(St,"v5",{enumerable:!0,get:function(){return qT.default}});Object.defineProperty(St,"NIL",{enumerable:!0,get:function(){return NT.default}});Object.defineProperty(St,"version",{enumerable:!0,get:function(){return BT.default}});Object.defineProperty(St,"validate",{enumerable:!0,get:function(){return $T.default}});Object.defineProperty(St,"stringify",{enumerable:!0,get:function(){return GT.default}});Object.defineProperty(St,"parse",{enumerable:!0,get:function(){return WT.default}});var LT=Yt(om()),FT=Yt(dm()),MT=Yt(pm()),qT=Yt(ym()),NT=Yt(bm()),BT=Yt(vm()),$T=Yt(Ki()),GT=Yt(Xi()),WT=Yt(pc());function Yt(e){return e&&e.__esModule?e:{default:e}}});var wm=_(gc=>{"use strict";Object.defineProperty(gc,"__esModule",{value:!0});var jT=Sm(),Yr="",_m=16,UT=function(){for(var e="",t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=t.length,n=0;n<_m;n++)e+=t.charAt(Math.floor(Math.random()*r));return e},HT=function(){if(!Yr){try{Yr=sessionStorage.getItem("giphyPingbackId")}catch{}if(!Yr){var e=new Date().getTime().toString(16);try{Yr=(""+e+jT.v4().replace(/-/g,"")).substring(0,_m)}catch{Yr=UT()}try{sessionStorage.setItem("giphyPingbackId",Yr)}catch{}}}return Yr};gc.default=HT});var yc=_(Tt=>{"use strict";Object.defineProperty(Tt,"__esModule",{value:!0});Tt.checkIfWebP=Tt.SUPPORTS_WEBP=void 0;Tt.SUPPORTS_WEBP=null;Tt.checkIfWebP=new Promise(function(e){typeof Image>"u"&&e(!1);var t=new Image;t.onload=function(){Tt.SUPPORTS_WEBP=!0,e(Tt.SUPPORTS_WEBP)},t.onerror=function(){Tt.SUPPORTS_WEBP=!1,e(Tt.SUPPORTS_WEBP)},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"})});var Am=_(Ee=>{"use strict";var Mo=Ee&&Ee.__assign||function(){return Mo=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Mo.apply(this,arguments)},zT=Ee&&Ee.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ee,"__esModule",{value:!0});Ee.getAltText=Ee.getGifWidth=Ee.getGifHeight=Ee.getBestRenditionUrl=Ee.getBestRendition=Ee.getBestVideo=Ee.getSpecificRendition=void 0;var Em=zT(oc()),bc=sc(),Rm=yc(),YT=function(e,t,r,n){var i=e.images,a=e.is_sticker;if(r===void 0&&(r=!1),n===void 0&&(n=!1),!i||!t)return"";r=r&&!n;var s=i[""+t+(r?"_still":"")];if(s){if(a||r)return s.url;var c=Rm.SUPPORTS_WEBP&&s.webp;return n?s.mp4:c||s.url}return""};Ee.getSpecificRendition=YT;var VT=function(e,t,r){var n=e==null?void 0:e.assets;if(n){n=Mo({},n),delete n.source;var i=Object.values(n).sort(function(a,s){return a.width-s.width});return Em.default(i,t,r)}};Ee.getBestVideo=VT;var QT=function(e,t,r){return e==="video"&&r&&r.previews&&!Object.keys(t).length?r.previews:t},KT=function(e,t,r,n){var i=bc.pick(e,["original","fixed_width","fixed_height","fixed_width_small","fixed_height_small"]),a=Object.entries(i).map(function(s){var c=s[0],l=s[1];return Mo({renditionName:c},l)});return Em.default(a,t,r,n)};Ee.getBestRendition=KT;var XT=function(e,t,r,n){var i=e.images,a=e.video,s=e.type;if(n===void 0&&(n={isStill:!1,useVideo:!1}),!t||!r||!i)return"";var c=n.useVideo,l=n.isStill,f=n.scaleUpMaxPixels,d=QT(s,i,a),m=Ee.getBestRendition(d,t,r,f).renditionName,p=""+m+(l&&!c?"_still":""),y=d[p],g=c?y.mp4:Rm.SUPPORTS_WEBP&&y.webp?y.webp:y.url;return g||""};Ee.getBestRenditionUrl=XT;var ZT=function(e,t){var r=e.images,n=r.fixed_width;if(n){var i=n.width,a=n.height,s=i/a;return Math.round(t/s)}return 0};Ee.getGifHeight=ZT;var JT=function(e,t){var r=e.images,n=r.fixed_width;if(n){var i=n.width,a=n.height,s=i/a;return Math.round(t*s)}return 0};Ee.getGifWidth=JT;var eO=function(e){var t=e.user,r=e.tags,n=r===void 0?[]:r,i=e.is_sticker,a=i===void 0?!1:i,s=e.title,c=s===void 0?"":s;if(c)return c;var l=t&&t.username||"",f=bc.take(bc.without(n,["transparent"]),l?4:5);return(l?l+" ":"")+f.join(" ")+" "+(a?"Sticker":"GIF")};Ee.getAltText=eO});var Pm=_(Ot=>{"use strict";Object.defineProperty(Ot,"__esModule",{value:!0});Ot.appendGiphySDKRequestParam=Ot.appendGiphySDKRequestHeader=Ot.getGiphySDKRequestHeaders=void 0;var Zi=(typeof window<"u"?window:global)||{};Zi._GIPHY_SDK_HEADERS_=Zi._GIPHY_SDK_HEADERS_||(Zi.Headers?new Zi.Headers({"X-GIPHY-SDK-PLATFORM":"web"}):void 0);var tO=function(){return Zi._GIPHY_SDK_HEADERS_};Ot.getGiphySDKRequestHeaders=tO;var rO=function(e,t){var r;return(r=Ot.getGiphySDKRequestHeaders())===null||r===void 0?void 0:r.set(e,t)};Ot.appendGiphySDKRequestHeader=rO;var nO=function(e,t){var r;return(r=Ot.getGiphySDKRequestHeaders())===null||r===void 0?void 0:r.set(e,t)};Ot.appendGiphySDKRequestParam=nO});var _c=_(re=>{"use strict";var iO=re&&re.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),vc=re&&re.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&iO(t,e,r)},Sc=re&&re.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(re,"__esModule",{value:!0});re.checkIfWebP=re.getSpecificRendition=re.getGifWidth=re.getGifHeight=re.getBestVideo=re.getBestRenditionUrl=re.getBestRendition=re.getAltText=re.getPingbackId=re.getClientRect=re.setRenditionScaleUpMaxPixels=re.bestfit=void 0;var Tm=oc();Object.defineProperty(re,"bestfit",{enumerable:!0,get:function(){return Sc(Tm).default}});Object.defineProperty(re,"setRenditionScaleUpMaxPixels",{enumerable:!0,get:function(){return Tm.setRenditionScaleUpMaxPixels}});vc(sc(),re);var aO=rm();Object.defineProperty(re,"getClientRect",{enumerable:!0,get:function(){return Sc(aO).default}});var oO=wm();Object.defineProperty(re,"getPingbackId",{enumerable:!0,get:function(){return Sc(oO).default}});var Vr=Am();Object.defineProperty(re,"getAltText",{enumerable:!0,get:function(){return Vr.getAltText}});Object.defineProperty(re,"getBestRendition",{enumerable:!0,get:function(){return Vr.getBestRendition}});Object.defineProperty(re,"getBestRenditionUrl",{enumerable:!0,get:function(){return Vr.getBestRenditionUrl}});Object.defineProperty(re,"getBestVideo",{enumerable:!0,get:function(){return Vr.getBestVideo}});Object.defineProperty(re,"getGifHeight",{enumerable:!0,get:function(){return Vr.getGifHeight}});Object.defineProperty(re,"getGifWidth",{enumerable:!0,get:function(){return Vr.getGifWidth}});Object.defineProperty(re,"getSpecificRendition",{enumerable:!0,get:function(){return Vr.getSpecificRendition}});vc(ac(),re);vc(Pm(),re);var sO=yc();Object.defineProperty(re,"checkIfWebP",{enumerable:!0,get:function(){return sO.checkIfWebP}})});var wc=_(qo=>{"use strict";Object.defineProperty(qo,"__esModule",{value:!0});qo.serverUrl=void 0;var uO=(typeof window<"u"?window:global)||{};qo.serverUrl=uO.GIPHY_API_URL||"https://api.giphy.com/v1/"});var xm=_(($G,Om)=>{"use strict";Om.exports=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var t={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var i=42;t[r]=i;for(r in t)return!1;if(typeof Object.keys=="function"&&Object.keys(t).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(t).length!==0)return!1;var a=Object.getOwnPropertySymbols(t);if(a.length!==1||a[0]!==r||!Object.prototype.propertyIsEnumerable.call(t,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var s=Object.getOwnPropertyDescriptor(t,r);if(s.value!==i||s.enumerable!==!0)return!1}return!0}});var km=_((GG,Im)=>{"use strict";var Cm=typeof Symbol<"u"&&Symbol,cO=xm();Im.exports=function(){return typeof Cm!="function"||typeof Symbol!="function"||typeof Cm("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:cO()}});var Lm=_((WG,Dm)=>{"use strict";var lO="Function.prototype.bind called on incompatible ",Ec=Array.prototype.slice,fO=Object.prototype.toString,dO="[object Function]";Dm.exports=function(t){var r=this;if(typeof r!="function"||fO.call(r)!==dO)throw new TypeError(lO+r);for(var n=Ec.call(arguments,1),i,a=function(){if(this instanceof i){var d=r.apply(this,n.concat(Ec.call(arguments)));return Object(d)===d?d:this}else return r.apply(t,n.concat(Ec.call(arguments)))},s=Math.max(0,r.length-n.length),c=[],l=0;l<s;l++)c.push("$"+l);if(i=Function("binder","return function ("+c.join(",")+"){ return binder.apply(this,arguments); }")(a),r.prototype){var f=function(){};f.prototype=r.prototype,i.prototype=new f,f.prototype=null}return i}});var No=_((jG,Fm)=>{"use strict";var hO=Lm();Fm.exports=Function.prototype.bind||hO});var qm=_((UG,Mm)=>{"use strict";var pO=No();Mm.exports=pO.call(Function.call,Object.prototype.hasOwnProperty)});var Wo=_((HG,Gm)=>{"use strict";var ne,Ji=SyntaxError,$m=Function,Bn=TypeError,Rc=function(e){try{return $m('"use strict"; return ('+e+").constructor;")()}catch{}},Qr=Object.getOwnPropertyDescriptor;if(Qr)try{Qr({},"")}catch{Qr=null}var Ac=function(){throw new Bn},mO=Qr?function(){try{return arguments.callee,Ac}catch{try{return Qr(arguments,"callee").get}catch{return Ac}}}():Ac,qn=km()(),mr=Object.getPrototypeOf||function(e){return e.__proto__},Nn={},gO=typeof Uint8Array>"u"?ne:mr(Uint8Array),$n={"%AggregateError%":typeof AggregateError>"u"?ne:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?ne:ArrayBuffer,"%ArrayIteratorPrototype%":qn?mr([][Symbol.iterator]()):ne,"%AsyncFromSyncIteratorPrototype%":ne,"%AsyncFunction%":Nn,"%AsyncGenerator%":Nn,"%AsyncGeneratorFunction%":Nn,"%AsyncIteratorPrototype%":Nn,"%Atomics%":typeof Atomics>"u"?ne:Atomics,"%BigInt%":typeof BigInt>"u"?ne:BigInt,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?ne:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?ne:Float32Array,"%Float64Array%":typeof Float64Array>"u"?ne:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?ne:FinalizationRegistry,"%Function%":$m,"%GeneratorFunction%":Nn,"%Int8Array%":typeof Int8Array>"u"?ne:Int8Array,"%Int16Array%":typeof Int16Array>"u"?ne:Int16Array,"%Int32Array%":typeof Int32Array>"u"?ne:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":qn?mr(mr([][Symbol.iterator]())):ne,"%JSON%":typeof JSON=="object"?JSON:ne,"%Map%":typeof Map>"u"?ne:Map,"%MapIteratorPrototype%":typeof Map>"u"||!qn?ne:mr(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?ne:Promise,"%Proxy%":typeof Proxy>"u"?ne:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?ne:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?ne:Set,"%SetIteratorPrototype%":typeof Set>"u"||!qn?ne:mr(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?ne:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":qn?mr(""[Symbol.iterator]()):ne,"%Symbol%":qn?Symbol:ne,"%SyntaxError%":Ji,"%ThrowTypeError%":mO,"%TypedArray%":gO,"%TypeError%":Bn,"%Uint8Array%":typeof Uint8Array>"u"?ne:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?ne:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?ne:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?ne:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?ne:WeakMap,"%WeakRef%":typeof WeakRef>"u"?ne:WeakRef,"%WeakSet%":typeof WeakSet>"u"?ne:WeakSet},yO=function e(t){var r;if(t==="%AsyncFunction%")r=Rc("async function () {}");else if(t==="%GeneratorFunction%")r=Rc("function* () {}");else if(t==="%AsyncGeneratorFunction%")r=Rc("async function* () {}");else if(t==="%AsyncGenerator%"){var n=e("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(t==="%AsyncIteratorPrototype%"){var i=e("%AsyncGenerator%");i&&(r=mr(i.prototype))}return $n[t]=r,r},Nm={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},Go=No(),Bo=qm(),bO=Go.call(Function.call,Array.prototype.concat),vO=Go.call(Function.apply,Array.prototype.splice),Bm=Go.call(Function.call,String.prototype.replace),$o=Go.call(Function.call,String.prototype.slice),SO=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,_O=/\\(\\)?/g,wO=function(t){var r=$o(t,0,1),n=$o(t,-1);if(r==="%"&&n!=="%")throw new Ji("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new Ji("invalid intrinsic syntax, expected opening `%`");var i=[];return Bm(t,SO,function(a,s,c,l){i[i.length]=c?Bm(l,_O,"$1"):s||a}),i},EO=function(t,r){var n=t,i;if(Bo(Nm,n)&&(i=Nm[n],n="%"+i[0]+"%"),Bo($n,n)){var a=$n[n];if(a===Nn&&(a=yO(n)),typeof a>"u"&&!r)throw new Bn("intrinsic "+t+" exists, but is not available. Please file an issue!");return{alias:i,name:n,value:a}}throw new Ji("intrinsic "+t+" does not exist!")};Gm.exports=function(t,r){if(typeof t!="string"||t.length===0)throw new Bn("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new Bn('"allowMissing" argument must be a boolean');var n=wO(t),i=n.length>0?n[0]:"",a=EO("%"+i+"%",r),s=a.name,c=a.value,l=!1,f=a.alias;f&&(i=f[0],vO(n,bO([0,1],f)));for(var d=1,m=!0;d<n.length;d+=1){var p=n[d],y=$o(p,0,1),g=$o(p,-1);if((y==='"'||y==="'"||y==="`"||g==='"'||g==="'"||g==="`")&&y!==g)throw new Ji("property names with quotes must have matching quotes");if((p==="constructor"||!m)&&(l=!0),i+="."+p,s="%"+i+"%",Bo($n,s))c=$n[s];else if(c!=null){if(!(p in c)){if(!r)throw new Bn("base intrinsic for "+t+" exists, but the property is not available.");return}if(Qr&&d+1>=n.length){var S=Qr(c,p);m=!!S,m&&"get"in S&&!("originalValue"in S.get)?c=S.get:c=c[p]}else m=Bo(c,p),c=c[p];m&&!l&&($n[s]=c)}}return c}});var Ym=_((zG,jo)=>{"use strict";var Pc=No(),Gn=Wo(),Um=Gn("%Function.prototype.apply%"),Hm=Gn("%Function.prototype.call%"),zm=Gn("%Reflect.apply%",!0)||Pc.call(Hm,Um),Wm=Gn("%Object.getOwnPropertyDescriptor%",!0),Kr=Gn("%Object.defineProperty%",!0),RO=Gn("%Math.max%");if(Kr)try{Kr({},"a",{value:1})}catch{Kr=null}jo.exports=function(t){var r=zm(Pc,Hm,arguments);if(Wm&&Kr){var n=Wm(r,"length");n.configurable&&Kr(r,"length",{value:1+RO(0,t.length-(arguments.length-1))})}return r};var jm=function(){return zm(Pc,Um,arguments)};Kr?Kr(jo.exports,"apply",{value:jm}):jo.exports.apply=jm});var Xm=_((YG,Km)=>{"use strict";var Vm=Wo(),Qm=Ym(),AO=Qm(Vm("String.prototype.indexOf"));Km.exports=function(t,r){var n=Vm(t,!!r);return typeof n=="function"&&AO(t,".prototype.")>-1?Qm(n):n}});var Jm=_((VG,Zm)=>{Zm.exports=require("util").inspect});var pg=_((QG,hg)=>{var qc=typeof Map=="function"&&Map.prototype,Tc=Object.getOwnPropertyDescriptor&&qc?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,Ho=qc&&Tc&&typeof Tc.get=="function"?Tc.get:null,PO=qc&&Map.prototype.forEach,Nc=typeof Set=="function"&&Set.prototype,Oc=Object.getOwnPropertyDescriptor&&Nc?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,zo=Nc&&Oc&&typeof Oc.get=="function"?Oc.get:null,TO=Nc&&Set.prototype.forEach,OO=typeof WeakMap=="function"&&WeakMap.prototype,ta=OO?WeakMap.prototype.has:null,xO=typeof WeakSet=="function"&&WeakSet.prototype,ra=xO?WeakSet.prototype.has:null,CO=typeof WeakRef=="function"&&WeakRef.prototype,eg=CO?WeakRef.prototype.deref:null,IO=Boolean.prototype.valueOf,kO=Object.prototype.toString,DO=Function.prototype.toString,LO=String.prototype.match,Bc=String.prototype.slice,yr=String.prototype.replace,FO=String.prototype.toUpperCase,tg=String.prototype.toLowerCase,sg=RegExp.prototype.test,rg=Array.prototype.concat,xt=Array.prototype.join,MO=Array.prototype.slice,ng=Math.floor,Dc=typeof BigInt=="function"?BigInt.prototype.valueOf:null,xc=Object.getOwnPropertySymbols,Lc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,Wn=typeof Symbol=="function"&&typeof Symbol.iterator=="object",Ge=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===Wn?"object":"symbol")?Symbol.toStringTag:null,ug=Object.prototype.propertyIsEnumerable,ig=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(e){return e.__proto__}:null);function ag(e,t){if(e===1/0||e===-1/0||e!==e||e&&e>-1e3&&e<1e3||sg.call(/e/,t))return t;var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof e=="number"){var n=e<0?-ng(-e):ng(e);if(n!==e){var i=String(n),a=Bc.call(t,i.length+1);return yr.call(i,r,"$&_")+"."+yr.call(yr.call(a,/([0-9]{3})/g,"$&_"),/_$/,"")}}return yr.call(t,r,"$&_")}var Cc=Jm().custom,Ic=Cc&&lg(Cc)?Cc:null;hg.exports=function e(t,r,n,i){var a=r||{};if(gr(a,"quoteStyle")&&a.quoteStyle!=="single"&&a.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(gr(a,"maxStringLength")&&(typeof a.maxStringLength=="number"?a.maxStringLength<0&&a.maxStringLength!==1/0:a.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var s=gr(a,"customInspect")?a.customInspect:!0;if(typeof s!="boolean"&&s!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(gr(a,"indent")&&a.indent!==null&&a.indent!=="	"&&!(parseInt(a.indent,10)===a.indent&&a.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(gr(a,"numericSeparator")&&typeof a.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var c=a.numericSeparator;if(typeof t>"u")return"undefined";if(t===null)return"null";if(typeof t=="boolean")return t?"true":"false";if(typeof t=="string")return dg(t,a);if(typeof t=="number"){if(t===0)return 1/0/t>0?"0":"-0";var l=String(t);return c?ag(t,l):l}if(typeof t=="bigint"){var f=String(t)+"n";return c?ag(t,f):f}var d=typeof a.depth>"u"?5:a.depth;if(typeof n>"u"&&(n=0),n>=d&&d>0&&typeof t=="object")return Fc(t)?"[Array]":"[Object]";var m=tx(a,n);if(typeof i>"u")i=[];else if(fg(i,t)>=0)return"[Circular]";function p(N,H,R){if(H&&(i=MO.call(i),i.push(H)),R){var E={depth:a.depth};return gr(a,"quoteStyle")&&(E.quoteStyle=a.quoteStyle),e(N,E,n+1,i)}return e(N,a,n+1,i)}if(typeof t=="function"){var y=zO(t),g=Uo(t,p);return"[Function"+(y?": "+y:" (anonymous)")+"]"+(g.length>0?" { "+xt.call(g,", ")+" }":"")}if(lg(t)){var S=Wn?yr.call(String(t),/^(Symbol\(.*\))_[^)]*$/,"$1"):Lc.call(t);return typeof t=="object"&&!Wn?ea(S):S}if(ZO(t)){for(var v="<"+tg.call(String(t.nodeName)),A=t.attributes||[],O=0;O<A.length;O++)v+=" "+A[O].name+"="+cg(qO(A[O].value),"double",a);return v+=">",t.childNodes&&t.childNodes.length&&(v+="..."),v+="</"+tg.call(String(t.nodeName))+">",v}if(Fc(t)){if(t.length===0)return"[]";var F=Uo(t,p);return m&&!ex(F)?"["+Mc(F,m)+"]":"[ "+xt.call(F,", ")+" ]"}if($O(t)){var k=Uo(t,p);return"cause"in t&&!ug.call(t,"cause")?"{ ["+String(t)+"] "+xt.call(rg.call("[cause]: "+p(t.cause),k),", ")+" }":k.length===0?"["+String(t)+"]":"{ ["+String(t)+"] "+xt.call(k,", ")+" }"}if(typeof t=="object"&&s){if(Ic&&typeof t[Ic]=="function")return t[Ic]();if(s!=="symbol"&&typeof t.inspect=="function")return t.inspect()}if(YO(t)){var I=[];return PO.call(t,function(N,H){I.push(p(H,t,!0)+" => "+p(N,t))}),og("Map",Ho.call(t),I,m)}if(KO(t)){var M=[];return TO.call(t,function(N){M.push(p(N,t))}),og("Set",zo.call(t),M,m)}if(VO(t))return kc("WeakMap");if(XO(t))return kc("WeakSet");if(QO(t))return kc("WeakRef");if(WO(t))return ea(p(Number(t)));if(UO(t))return ea(p(Dc.call(t)));if(jO(t))return ea(IO.call(t));if(GO(t))return ea(p(String(t)));if(!NO(t)&&!BO(t)){var q=Uo(t,p),T=ig?ig(t)===Object.prototype:t instanceof Object||t.constructor===Object,D=t instanceof Object?"":"null prototype",B=!T&&Ge&&Object(t)===t&&Ge in t?Bc.call(br(t),8,-1):D?"Object":"",P=T||typeof t.constructor!="function"?"":t.constructor.name?t.constructor.name+" ":"",G=P+(B||D?"["+xt.call(rg.call([],B||[],D||[]),": ")+"] ":"");return q.length===0?G+"{}":m?G+"{"+Mc(q,m)+"}":G+"{ "+xt.call(q,", ")+" }"}return String(t)};function cg(e,t,r){var n=(r.quoteStyle||t)==="double"?'"':"'";return n+e+n}function qO(e){return yr.call(String(e),/"/g,"&quot;")}function Fc(e){return br(e)==="[object Array]"&&(!Ge||!(typeof e=="object"&&Ge in e))}function NO(e){return br(e)==="[object Date]"&&(!Ge||!(typeof e=="object"&&Ge in e))}function BO(e){return br(e)==="[object RegExp]"&&(!Ge||!(typeof e=="object"&&Ge in e))}function $O(e){return br(e)==="[object Error]"&&(!Ge||!(typeof e=="object"&&Ge in e))}function GO(e){return br(e)==="[object String]"&&(!Ge||!(typeof e=="object"&&Ge in e))}function WO(e){return br(e)==="[object Number]"&&(!Ge||!(typeof e=="object"&&Ge in e))}function jO(e){return br(e)==="[object Boolean]"&&(!Ge||!(typeof e=="object"&&Ge in e))}function lg(e){if(Wn)return e&&typeof e=="object"&&e instanceof Symbol;if(typeof e=="symbol")return!0;if(!e||typeof e!="object"||!Lc)return!1;try{return Lc.call(e),!0}catch{}return!1}function UO(e){if(!e||typeof e!="object"||!Dc)return!1;try{return Dc.call(e),!0}catch{}return!1}var HO=Object.prototype.hasOwnProperty||function(e){return e in this};function gr(e,t){return HO.call(e,t)}function br(e){return kO.call(e)}function zO(e){if(e.name)return e.name;var t=LO.call(DO.call(e),/^function\s*([\w$]+)/);return t?t[1]:null}function fg(e,t){if(e.indexOf)return e.indexOf(t);for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}function YO(e){if(!Ho||!e||typeof e!="object")return!1;try{Ho.call(e);try{zo.call(e)}catch{return!0}return e instanceof Map}catch{}return!1}function VO(e){if(!ta||!e||typeof e!="object")return!1;try{ta.call(e,ta);try{ra.call(e,ra)}catch{return!0}return e instanceof WeakMap}catch{}return!1}function QO(e){if(!eg||!e||typeof e!="object")return!1;try{return eg.call(e),!0}catch{}return!1}function KO(e){if(!zo||!e||typeof e!="object")return!1;try{zo.call(e);try{Ho.call(e)}catch{return!0}return e instanceof Set}catch{}return!1}function XO(e){if(!ra||!e||typeof e!="object")return!1;try{ra.call(e,ra);try{ta.call(e,ta)}catch{return!0}return e instanceof WeakSet}catch{}return!1}function ZO(e){return!e||typeof e!="object"?!1:typeof HTMLElement<"u"&&e instanceof HTMLElement?!0:typeof e.nodeName=="string"&&typeof e.getAttribute=="function"}function dg(e,t){if(e.length>t.maxStringLength){var r=e.length-t.maxStringLength,n="... "+r+" more character"+(r>1?"s":"");return dg(Bc.call(e,0,t.maxStringLength),t)+n}var i=yr.call(yr.call(e,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,JO);return cg(i,"single",t)}function JO(e){var t=e.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[t];return r?"\\"+r:"\\x"+(t<16?"0":"")+FO.call(t.toString(16))}function ea(e){return"Object("+e+")"}function kc(e){return e+" { ? }"}function og(e,t,r,n){var i=n?Mc(r,n):xt.call(r,", ");return e+" ("+t+") {"+i+"}"}function ex(e){for(var t=0;t<e.length;t++)if(fg(e[t],`
`)>=0)return!1;return!0}function tx(e,t){var r;if(e.indent==="	")r="	";else if(typeof e.indent=="number"&&e.indent>0)r=xt.call(Array(e.indent+1)," ");else return null;return{base:r,prev:xt.call(Array(t+1),r)}}function Mc(e,t){if(e.length===0)return"";var r=`
`+t.prev+t.base;return r+xt.call(e,","+r)+`
`+t.prev}function Uo(e,t){var r=Fc(e),n=[];if(r){n.length=e.length;for(var i=0;i<e.length;i++)n[i]=gr(e,i)?t(e[i],e):""}var a=typeof xc=="function"?xc(e):[],s;if(Wn){s={};for(var c=0;c<a.length;c++)s["$"+a[c]]=a[c]}for(var l in e)!gr(e,l)||r&&String(Number(l))===l&&l<e.length||Wn&&s["$"+l]instanceof Symbol||(sg.call(/[^\w$]/,l)?n.push(t(l,e)+": "+t(e[l],e)):n.push(l+": "+t(e[l],e)));if(typeof xc=="function")for(var f=0;f<a.length;f++)ug.call(e,a[f])&&n.push("["+t(a[f])+"]: "+t(e[a[f]],e));return n}});var gg=_((KG,mg)=>{"use strict";var $c=Wo(),jn=Xm(),rx=pg(),nx=$c("%TypeError%"),Yo=$c("%WeakMap%",!0),Vo=$c("%Map%",!0),ix=jn("WeakMap.prototype.get",!0),ax=jn("WeakMap.prototype.set",!0),ox=jn("WeakMap.prototype.has",!0),sx=jn("Map.prototype.get",!0),ux=jn("Map.prototype.set",!0),cx=jn("Map.prototype.has",!0),Gc=function(e,t){for(var r=e,n;(n=r.next)!==null;r=n)if(n.key===t)return r.next=n.next,n.next=e.next,e.next=n,n},lx=function(e,t){var r=Gc(e,t);return r&&r.value},fx=function(e,t,r){var n=Gc(e,t);n?n.value=r:e.next={key:t,next:e.next,value:r}},dx=function(e,t){return!!Gc(e,t)};mg.exports=function(){var t,r,n,i={assert:function(a){if(!i.has(a))throw new nx("Side channel does not contain "+rx(a))},get:function(a){if(Yo&&a&&(typeof a=="object"||typeof a=="function")){if(t)return ix(t,a)}else if(Vo){if(r)return sx(r,a)}else if(n)return lx(n,a)},has:function(a){if(Yo&&a&&(typeof a=="object"||typeof a=="function")){if(t)return ox(t,a)}else if(Vo){if(r)return cx(r,a)}else if(n)return dx(n,a);return!1},set:function(a,s){Yo&&a&&(typeof a=="object"||typeof a=="function")?(t||(t=new Yo),ax(t,a,s)):Vo?(r||(r=new Vo),ux(r,a,s)):(n||(n={key:{},next:null}),fx(n,a,s))}};return i}});var Qo=_((XG,yg)=>{"use strict";var hx=String.prototype.replace,px=/%20/g,Wc={RFC1738:"RFC1738",RFC3986:"RFC3986"};yg.exports={default:Wc.RFC3986,formatters:{RFC1738:function(e){return hx.call(e,px,"+")},RFC3986:function(e){return String(e)}},RFC1738:Wc.RFC1738,RFC3986:Wc.RFC3986}});var Uc=_((ZG,vg)=>{"use strict";var mx=Qo(),jc=Object.prototype.hasOwnProperty,Xr=Array.isArray,Ct=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),gx=function(t){for(;t.length>1;){var r=t.pop(),n=r.obj[r.prop];if(Xr(n)){for(var i=[],a=0;a<n.length;++a)typeof n[a]<"u"&&i.push(n[a]);r.obj[r.prop]=i}}},bg=function(t,r){for(var n=r&&r.plainObjects?Object.create(null):{},i=0;i<t.length;++i)typeof t[i]<"u"&&(n[i]=t[i]);return n},yx=function e(t,r,n){if(!r)return t;if(typeof r!="object"){if(Xr(t))t.push(r);else if(t&&typeof t=="object")(n&&(n.plainObjects||n.allowPrototypes)||!jc.call(Object.prototype,r))&&(t[r]=!0);else return[t,r];return t}if(!t||typeof t!="object")return[t].concat(r);var i=t;return Xr(t)&&!Xr(r)&&(i=bg(t,n)),Xr(t)&&Xr(r)?(r.forEach(function(a,s){if(jc.call(t,s)){var c=t[s];c&&typeof c=="object"&&a&&typeof a=="object"?t[s]=e(c,a,n):t.push(a)}else t[s]=a}),t):Object.keys(r).reduce(function(a,s){var c=r[s];return jc.call(a,s)?a[s]=e(a[s],c,n):a[s]=c,a},i)},bx=function(t,r){return Object.keys(r).reduce(function(n,i){return n[i]=r[i],n},t)},vx=function(e,t,r){var n=e.replace(/\+/g," ");if(r==="iso-8859-1")return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch{return n}},Sx=function(t,r,n,i,a){if(t.length===0)return t;var s=t;if(typeof t=="symbol"?s=Symbol.prototype.toString.call(t):typeof t!="string"&&(s=String(t)),n==="iso-8859-1")return escape(s).replace(/%u[0-9a-f]{4}/gi,function(d){return"%26%23"+parseInt(d.slice(2),16)+"%3B"});for(var c="",l=0;l<s.length;++l){var f=s.charCodeAt(l);if(f===45||f===46||f===95||f===126||f>=48&&f<=57||f>=65&&f<=90||f>=97&&f<=122||a===mx.RFC1738&&(f===40||f===41)){c+=s.charAt(l);continue}if(f<128){c=c+Ct[f];continue}if(f<2048){c=c+(Ct[192|f>>6]+Ct[128|f&63]);continue}if(f<55296||f>=57344){c=c+(Ct[224|f>>12]+Ct[128|f>>6&63]+Ct[128|f&63]);continue}l+=1,f=65536+((f&1023)<<10|s.charCodeAt(l)&1023),c+=Ct[240|f>>18]+Ct[128|f>>12&63]+Ct[128|f>>6&63]+Ct[128|f&63]}return c},_x=function(t){for(var r=[{obj:{o:t},prop:"o"}],n=[],i=0;i<r.length;++i)for(var a=r[i],s=a.obj[a.prop],c=Object.keys(s),l=0;l<c.length;++l){var f=c[l],d=s[f];typeof d=="object"&&d!==null&&n.indexOf(d)===-1&&(r.push({obj:s,prop:f}),n.push(d))}return gx(r),t},wx=function(t){return Object.prototype.toString.call(t)==="[object RegExp]"},Ex=function(t){return!t||typeof t!="object"?!1:!!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t))},Rx=function(t,r){return[].concat(t,r)},Ax=function(t,r){if(Xr(t)){for(var n=[],i=0;i<t.length;i+=1)n.push(r(t[i]));return n}return r(t)};vg.exports={arrayToObject:bg,assign:bx,combine:Rx,compact:_x,decode:vx,encode:Sx,isBuffer:Ex,isRegExp:wx,maybeMap:Ax,merge:yx}});var Ag=_((JG,Rg)=>{"use strict";var wg=gg(),zc=Uc(),na=Qo(),Px=Object.prototype.hasOwnProperty,Sg={brackets:function(t){return t+"[]"},comma:"comma",indices:function(t,r){return t+"["+r+"]"},repeat:function(t){return t}},Zr=Array.isArray,Tx=String.prototype.split,Ox=Array.prototype.push,Eg=function(e,t){Ox.apply(e,Zr(t)?t:[t])},xx=Date.prototype.toISOString,_g=na.default,Fe={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:zc.encode,encodeValuesOnly:!1,format:_g,formatter:na.formatters[_g],indices:!1,serializeDate:function(t){return xx.call(t)},skipNulls:!1,strictNullHandling:!1},Cx=function(t){return typeof t=="string"||typeof t=="number"||typeof t=="boolean"||typeof t=="symbol"||typeof t=="bigint"},Hc={},Ix=function e(t,r,n,i,a,s,c,l,f,d,m,p,y,g,S){for(var v=t,A=S,O=0,F=!1;(A=A.get(Hc))!==void 0&&!F;){var k=A.get(t);if(O+=1,typeof k<"u"){if(k===O)throw new RangeError("Cyclic object value");F=!0}typeof A.get(Hc)>"u"&&(O=0)}if(typeof c=="function"?v=c(r,v):v instanceof Date?v=d(v):n==="comma"&&Zr(v)&&(v=zc.maybeMap(v,function(K){return K instanceof Date?d(K):K})),v===null){if(i)return s&&!y?s(r,Fe.encoder,g,"key",m):r;v=""}if(Cx(v)||zc.isBuffer(v)){if(s){var I=y?r:s(r,Fe.encoder,g,"key",m);if(n==="comma"&&y){for(var M=Tx.call(String(v),","),q="",T=0;T<M.length;++T)q+=(T===0?"":",")+p(s(M[T],Fe.encoder,g,"value",m));return[p(I)+"="+q]}return[p(I)+"="+p(s(v,Fe.encoder,g,"value",m))]}return[p(r)+"="+p(String(v))]}var D=[];if(typeof v>"u")return D;var B;if(n==="comma"&&Zr(v))B=[{value:v.length>0?v.join(",")||null:void 0}];else if(Zr(c))B=c;else{var P=Object.keys(v);B=l?P.sort(l):P}for(var G=0;G<B.length;++G){var N=B[G],H=typeof N=="object"&&typeof N.value<"u"?N.value:v[N];if(!(a&&H===null)){var R=Zr(v)?typeof n=="function"?n(r,N):r:r+(f?"."+N:"["+N+"]");S.set(t,O);var E=wg();E.set(Hc,S),Eg(D,e(H,R,n,i,a,s,c,l,f,d,m,p,y,g,E))}}return D},kx=function(t){if(!t)return Fe;if(t.encoder!==null&&typeof t.encoder<"u"&&typeof t.encoder!="function")throw new TypeError("Encoder has to be a function.");var r=t.charset||Fe.charset;if(typeof t.charset<"u"&&t.charset!=="utf-8"&&t.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=na.default;if(typeof t.format<"u"){if(!Px.call(na.formatters,t.format))throw new TypeError("Unknown format option provided.");n=t.format}var i=na.formatters[n],a=Fe.filter;return(typeof t.filter=="function"||Zr(t.filter))&&(a=t.filter),{addQueryPrefix:typeof t.addQueryPrefix=="boolean"?t.addQueryPrefix:Fe.addQueryPrefix,allowDots:typeof t.allowDots>"u"?Fe.allowDots:!!t.allowDots,charset:r,charsetSentinel:typeof t.charsetSentinel=="boolean"?t.charsetSentinel:Fe.charsetSentinel,delimiter:typeof t.delimiter>"u"?Fe.delimiter:t.delimiter,encode:typeof t.encode=="boolean"?t.encode:Fe.encode,encoder:typeof t.encoder=="function"?t.encoder:Fe.encoder,encodeValuesOnly:typeof t.encodeValuesOnly=="boolean"?t.encodeValuesOnly:Fe.encodeValuesOnly,filter:a,format:n,formatter:i,serializeDate:typeof t.serializeDate=="function"?t.serializeDate:Fe.serializeDate,skipNulls:typeof t.skipNulls=="boolean"?t.skipNulls:Fe.skipNulls,sort:typeof t.sort=="function"?t.sort:null,strictNullHandling:typeof t.strictNullHandling=="boolean"?t.strictNullHandling:Fe.strictNullHandling}};Rg.exports=function(e,t){var r=e,n=kx(t),i,a;typeof n.filter=="function"?(a=n.filter,r=a("",r)):Zr(n.filter)&&(a=n.filter,i=a);var s=[];if(typeof r!="object"||r===null)return"";var c;t&&t.arrayFormat in Sg?c=t.arrayFormat:t&&"indices"in t?c=t.indices?"indices":"repeat":c="indices";var l=Sg[c];i||(i=Object.keys(r)),n.sort&&i.sort(n.sort);for(var f=wg(),d=0;d<i.length;++d){var m=i[d];n.skipNulls&&r[m]===null||Eg(s,Ix(r[m],m,l,n.strictNullHandling,n.skipNulls,n.encode?n.encoder:null,n.filter,n.sort,n.allowDots,n.serializeDate,n.format,n.formatter,n.encodeValuesOnly,n.charset,f))}var p=s.join(n.delimiter),y=n.addQueryPrefix===!0?"?":"";return n.charsetSentinel&&(n.charset==="iso-8859-1"?y+="utf8=%26%2310003%3B&":y+="utf8=%E2%9C%93&"),p.length>0?y+p:""}});var Og=_((eW,Tg)=>{"use strict";var Un=Uc(),Yc=Object.prototype.hasOwnProperty,Dx=Array.isArray,Ce={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:Un.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},Lx=function(e){return e.replace(/&#(\d+);/g,function(t,r){return String.fromCharCode(parseInt(r,10))})},Pg=function(e,t){return e&&typeof e=="string"&&t.comma&&e.indexOf(",")>-1?e.split(","):e},Fx="utf8=%26%2310003%3B",Mx="utf8=%E2%9C%93",qx=function(t,r){var n={},i=r.ignoreQueryPrefix?t.replace(/^\?/,""):t,a=r.parameterLimit===1/0?void 0:r.parameterLimit,s=i.split(r.delimiter,a),c=-1,l,f=r.charset;if(r.charsetSentinel)for(l=0;l<s.length;++l)s[l].indexOf("utf8=")===0&&(s[l]===Mx?f="utf-8":s[l]===Fx&&(f="iso-8859-1"),c=l,l=s.length);for(l=0;l<s.length;++l)if(l!==c){var d=s[l],m=d.indexOf("]="),p=m===-1?d.indexOf("="):m+1,y,g;p===-1?(y=r.decoder(d,Ce.decoder,f,"key"),g=r.strictNullHandling?null:""):(y=r.decoder(d.slice(0,p),Ce.decoder,f,"key"),g=Un.maybeMap(Pg(d.slice(p+1),r),function(S){return r.decoder(S,Ce.decoder,f,"value")})),g&&r.interpretNumericEntities&&f==="iso-8859-1"&&(g=Lx(g)),d.indexOf("[]=")>-1&&(g=Dx(g)?[g]:g),Yc.call(n,y)?n[y]=Un.combine(n[y],g):n[y]=g}return n},Nx=function(e,t,r,n){for(var i=n?t:Pg(t,r),a=e.length-1;a>=0;--a){var s,c=e[a];if(c==="[]"&&r.parseArrays)s=[].concat(i);else{s=r.plainObjects?Object.create(null):{};var l=c.charAt(0)==="["&&c.charAt(c.length-1)==="]"?c.slice(1,-1):c,f=parseInt(l,10);!r.parseArrays&&l===""?s={0:i}:!isNaN(f)&&c!==l&&String(f)===l&&f>=0&&r.parseArrays&&f<=r.arrayLimit?(s=[],s[f]=i):l!=="__proto__"&&(s[l]=i)}i=s}return i},Bx=function(t,r,n,i){if(!!t){var a=n.allowDots?t.replace(/\.([^.[]+)/g,"[$1]"):t,s=/(\[[^[\]]*])/,c=/(\[[^[\]]*])/g,l=n.depth>0&&s.exec(a),f=l?a.slice(0,l.index):a,d=[];if(f){if(!n.plainObjects&&Yc.call(Object.prototype,f)&&!n.allowPrototypes)return;d.push(f)}for(var m=0;n.depth>0&&(l=c.exec(a))!==null&&m<n.depth;){if(m+=1,!n.plainObjects&&Yc.call(Object.prototype,l[1].slice(1,-1))&&!n.allowPrototypes)return;d.push(l[1])}return l&&d.push("["+a.slice(l.index)+"]"),Nx(d,r,n,i)}},$x=function(t){if(!t)return Ce;if(t.decoder!==null&&t.decoder!==void 0&&typeof t.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof t.charset<"u"&&t.charset!=="utf-8"&&t.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=typeof t.charset>"u"?Ce.charset:t.charset;return{allowDots:typeof t.allowDots>"u"?Ce.allowDots:!!t.allowDots,allowPrototypes:typeof t.allowPrototypes=="boolean"?t.allowPrototypes:Ce.allowPrototypes,allowSparse:typeof t.allowSparse=="boolean"?t.allowSparse:Ce.allowSparse,arrayLimit:typeof t.arrayLimit=="number"?t.arrayLimit:Ce.arrayLimit,charset:r,charsetSentinel:typeof t.charsetSentinel=="boolean"?t.charsetSentinel:Ce.charsetSentinel,comma:typeof t.comma=="boolean"?t.comma:Ce.comma,decoder:typeof t.decoder=="function"?t.decoder:Ce.decoder,delimiter:typeof t.delimiter=="string"||Un.isRegExp(t.delimiter)?t.delimiter:Ce.delimiter,depth:typeof t.depth=="number"||t.depth===!1?+t.depth:Ce.depth,ignoreQueryPrefix:t.ignoreQueryPrefix===!0,interpretNumericEntities:typeof t.interpretNumericEntities=="boolean"?t.interpretNumericEntities:Ce.interpretNumericEntities,parameterLimit:typeof t.parameterLimit=="number"?t.parameterLimit:Ce.parameterLimit,parseArrays:t.parseArrays!==!1,plainObjects:typeof t.plainObjects=="boolean"?t.plainObjects:Ce.plainObjects,strictNullHandling:typeof t.strictNullHandling=="boolean"?t.strictNullHandling:Ce.strictNullHandling}};Tg.exports=function(e,t){var r=$x(t);if(e===""||e===null||typeof e>"u")return r.plainObjects?Object.create(null):{};for(var n=typeof e=="string"?qx(e,r):e,i=r.plainObjects?Object.create(null):{},a=Object.keys(n),s=0;s<a.length;++s){var c=a[s],l=Bx(c,n[c],r,typeof e=="string");i=Un.merge(i,l,r)}return r.allowSparse===!0?i:Un.compact(i)}});var Cg=_((tW,xg)=>{"use strict";var Gx=Ag(),Wx=Og(),jx=Qo();xg.exports={formats:jx,parse:Wx,stringify:Gx}});var Dg=_(Ze=>{"use strict";var Ko=Ze&&Ze.__assign||function(){return Ko=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Ko.apply(this,arguments)};Object.defineProperty(Ze,"__esModule",{value:!0});Ze.normalizeGifs=Ze.normalizeGif=Ze.USER_BOOL_PROPS=Ze.BOOL_PROPS=void 0;Ze.BOOL_PROPS=["is_anonymous","is_community","is_featured","is_hidden","is_indexable","is_preserve_size","is_realtime","is_removed","is_sticker","is_dynamic"];Ze.USER_BOOL_PROPS=["suppress_chrome","is_public","is_verified"];var Ig=function(e){return function(t){return e[t]=!!e[t]}},Ux=function(e){return typeof e=="string"?e:e.text},kg=function(e){var t=Ko({},e);t.id=String(t.id),t.tags=(t.tags||[]).map(Ux),Ze.BOOL_PROPS.forEach(Ig(t)),Object.keys(t.images||{}).forEach(function(i){var a=t.images[i];a.width=parseInt(a.width),a.height=parseInt(a.height)});var r=t.user;if(r){var n=Ko({},r);Ze.USER_BOOL_PROPS.forEach(Ig(n)),t.user=n}return t},Hx=function(e){return e.data=kg(e.data),e};Ze.normalizeGif=Hx;var zx=function(e){return e.data=e.data.map(function(t){return kg(t)}),e};Ze.normalizeGifs=zx});var Lg=_(ia=>{"use strict";var Yx=ia&&ia.__extends||function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(n[a]=i[a])},e(t,r)};return function(t,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(ia,"__esModule",{value:!0});var Vx=function(e){Yx(t,e);function t(r,n,i){n===void 0&&(n=0),i===void 0&&(i="");var a=e.call(this,r)||this;return a.status=n,a.statusText=i,a}return t}(Error);ia.default=Vx});var Mg=_(Ve=>{"use strict";var Qx=Ve&&Ve.__awaiter||function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function c(d){try{f(n.next(d))}catch(m){s(m)}}function l(d){try{f(n.throw(d))}catch(m){s(m)}}function f(d){d.done?a(d.value):i(d.value).then(c,l)}f((n=n.apply(e,t||[])).next())})},Kx=Ve&&Ve.__generator||function(e,t){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,s;return s={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function c(f){return function(d){return l([f,d])}}function l(f){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(a=f[0]&2?i.return:f[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,f[1])).done)return a;switch(i=0,a&&(f=[f[0]&2,a.value]),f[0]){case 0:case 1:a=f;break;case 4:return r.label++,{value:f[1],done:!1};case 5:r.label++,i=f[1],f=[0];continue;case 7:f=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(f[0]===6||f[0]===2)){r=0;continue}if(f[0]===3&&(!a||f[1]>a[0]&&f[1]<a[3])){r.label=f[1];break}if(f[0]===6&&r.label<a[1]){r.label=a[1],a=f;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(f);break}a[2]&&r.ops.pop(),r.trys.pop();continue}f=t.call(e,r)}catch(d){f=[6,d],i=0}finally{n=a=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},Xx=Ve&&Ve.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ve,"__esModule",{value:!0});Ve.DEFAULT_ERROR=Ve.ERROR_PREFIX=void 0;var Zx=wc(),Fg=Xx(Lg());Ve.ERROR_PREFIX="@giphy/js-fetch-api: ";Ve.DEFAULT_ERROR="Error fetching";var Jx=function(e){return e},_t={},eC=6e4,tC=6e3,rC=function(){var e=Date.now();Object.keys(_t).forEach(function(t){var r=_t[t].isError?tC:eC;e-_t[t].ts>=r&&delete _t[t]})};function nC(e,t,r){var n=this;if(t===void 0&&(t=Jx),r===void 0&&(r=!1),rC(),!_t[e]||r){var i=function(){return Qx(n,void 0,void 0,function(){var a,s,l,c,l,f,d,m;return Kx(this,function(p){switch(p.label){case 0:return p.trys.push([0,9,,10]),[4,fetch(""+Zx.serverUrl+e,{method:"get"})];case 1:return s=p.sent(),s.ok?[4,s.json()]:[3,3];case 2:if(l=p.sent(),(m=l.meta)===null||m===void 0?void 0:m.response_id)return[2,t(l)];throw{message:"synthetic response"};case 3:c=Ve.DEFAULT_ERROR,p.label=4;case 4:return p.trys.push([4,6,,7]),[4,s.json()];case 5:return l=p.sent(),l.message&&(c=l.message),[3,7];case 6:return f=p.sent(),[3,7];case 7:_t[e]&&(_t[e].isError=!0),a=new Fg.default(""+Ve.ERROR_PREFIX+c,s.status,s.statusText),p.label=8;case 8:return[3,10];case 9:return d=p.sent(),a=new Fg.default(d.message),_t[e]&&(_t[e].isError=!0),[3,10];case 10:throw a}})})};_t[e]={request:i(),ts:Date.now()}}return _t[e].request}Ve.default=nC});var Bg=_(Kt=>{"use strict";var Qt=Kt&&Kt.__assign||function(){return Qt=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Qt.apply(this,arguments)},qg=Kt&&Kt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Kt,"__esModule",{value:!0});Kt.GiphyFetch=void 0;var iC=_c(),aC=qg(Cg()),Vt=Dg(),wt=qg(Mg()),Vc=function(e){return e&&e.type?e.type:"gifs"},Ng=function(){function e(t){var r=this;this.getQS=function(n){return n===void 0&&(n={}),aC.default.stringify(Qt(Qt({},n),{api_key:r.apiKey,pingback_id:iC.getPingbackId()}))},this.apiKey=t}return e.prototype.categories=function(t){return wt.default("gifs/categories?"+this.getQS(t))},e.prototype.gif=function(t){return wt.default("gifs/"+t+"?"+this.getQS(),Vt.normalizeGif)},e.prototype.gifs=function(t,r){return Array.isArray(t)?wt.default("gifs?"+this.getQS({ids:t.join(",")}),Vt.normalizeGifs):wt.default("gifs/categories/"+t+"/"+r+"?"+this.getQS(),Vt.normalizeGifs)},e.prototype.emoji=function(t){return wt.default("emoji?"+this.getQS(t),Vt.normalizeGifs)},e.prototype.animate=function(t,r){r===void 0&&(r={});var n=this.getQS(Qt(Qt({},r),{m:t}));return wt.default("text/animate?"+n,Vt.normalizeGifs)},e.prototype.search=function(t,r){r===void 0&&(r={});var n=r.channel?"@"+r.channel+" "+t:t,i;r.type==="text"&&(i=!0);var a=this.getQS(Qt(Qt({},r),{q:n,excludeDynamicResults:i}));return wt.default(Vc(r)+"/search?"+a,Vt.normalizeGifs)},e.prototype.subcategories=function(t,r){return wt.default("gifs/categories/"+t+"?"+this.getQS(r))},e.prototype.trending=function(t){return t===void 0&&(t={}),wt.default(Vc(t)+"/trending?"+this.getQS(t),Vt.normalizeGifs)},e.prototype.random=function(t){return wt.default(Vc(t)+"/random?"+this.getQS(t),Vt.normalizeGif,!0)},e.prototype.related=function(t,r){return wt.default(((r==null?void 0:r.type)==="stickers"?"stickers":"gifs")+"/related?"+this.getQS(Qt({gif_id:t},r)),Vt.normalizeGifs)},e}();Kt.GiphyFetch=Ng;Kt.default=Ng});var Gg=_($g=>{"use strict";Object.defineProperty($g,"__esModule",{value:!0})});var jg=_(It=>{"use strict";var oC=It&&It.__awaiter||function(e,t,r,n){function i(a){return a instanceof r?a:new r(function(s){s(a)})}return new(r||(r=Promise))(function(a,s){function c(d){try{f(n.next(d))}catch(m){s(m)}}function l(d){try{f(n.throw(d))}catch(m){s(m)}}function f(d){d.done?a(d.value):i(d.value).then(c,l)}f((n=n.apply(e,t||[])).next())})},sC=It&&It.__generator||function(e,t){var r={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,i,a,s;return s={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function c(f){return function(d){return l([f,d])}}function l(f){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(a=f[0]&2?i.return:f[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,f[1])).done)return a;switch(i=0,a&&(f=[f[0]&2,a.value]),f[0]){case 0:case 1:a=f;break;case 4:return r.label++,{value:f[1],done:!1};case 5:r.label++,i=f[1],f=[0];continue;case 7:f=r.ops.pop(),r.trys.pop();continue;default:if(a=r.trys,!(a=a.length>0&&a[a.length-1])&&(f[0]===6||f[0]===2)){r=0;continue}if(f[0]===3&&(!a||f[1]>a[0]&&f[1]<a[3])){r.label=f[1];break}if(f[0]===6&&r.label<a[1]){r.label=a[1],a=f;break}if(a&&r.label<a[2]){r.label=a[2],r.ops.push(f);break}a[2]&&r.ops.pop(),r.trys.pop();continue}f=t.call(e,r)}catch(d){f=[6,d],i=0}finally{n=a=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},Wg=It&&It.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e};Object.defineProperty(It,"__esModule",{value:!0});It.gifPaginator=void 0;var uC=function(e,t){t===void 0&&(t=[]);var r=Wg([],t),n=t.map(function(s){return s.id}),i=t.length,a=!1;return function(){return oC(void 0,void 0,void 0,function(){var s,c,l;return sC(this,function(f){switch(f.label){case 0:return a?[2,r]:[4,e(i)];case 1:return s=f.sent(),c=s.pagination,l=s.data,i=c.count+c.offset,a=i===c.total_count,l.forEach(function(d){var m=d.id;n.includes(m)||(r.push(d),n.push(m))}),[2,Wg([],r)]}})})}};It.gifPaginator=uC});var Hg=_(Ug=>{"use strict";Object.defineProperty(Ug,"__esModule",{value:!0})});var zg=_((cW,cC)=>{cC.exports={scripts:{clean:"rm -rf ./dist",dev:"parcel public/test.html",docs:"typedoc src/index.ts",prepublish:"npm run clean && tsc",build:"tsc",test:"jest --config ./jestconfig.js","test:watch":"jest --config ./jestconfig.js --watchAll"},name:"@giphy/js-fetch-api",version:"4.1.2",main:"dist/index.js",description:"Javascript API to fetch gifs and stickers from the GIPHY API.",homepage:"https://github.com/Giphy/giphy-js/tree/master/packages/fetch-api",types:"dist/index.d.ts",files:["dist/**/*","src/**/*"],license:"MIT",publishConfig:{access:"public"},dependencies:{"@giphy/js-types":"^4.1.0","@giphy/js-util":"^4.0.1",qs:"^6.9.4"},devDependencies:{"@types/qs":"^6.9.4","jest-fetch-mock":"^3.0.3","parcel-bundler":"latest",typedoc:"^0.20.36","typedoc-thunder-theme":"^0.0.2",typescript:"^4.3.5"},gitHead:"3f2ca6fc6762db1abdc991a89dcef1932a1547d4"}});var Vg=_(We=>{"use strict";var lC=We&&We.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Yg=We&&We.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&lC(t,e,r)},fC=We&&We.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},Qc;Object.defineProperty(We,"__esModule",{value:!0});We.gifPaginator=We.GiphyFetch=We.serverUrl=void 0;var Kc=_c(),dC=wc();Object.defineProperty(We,"serverUrl",{enumerable:!0,get:function(){return dC.serverUrl}});var hC=Bg();Object.defineProperty(We,"GiphyFetch",{enumerable:!0,get:function(){return fC(hC).default}});Yg(Gg(),We);var pC=jg();Object.defineProperty(We,"gifPaginator",{enumerable:!0,get:function(){return pC.gifPaginator}});Yg(Hg(),We);var mC=zg().version;((Qc=Kc.getGiphySDKRequestHeaders())===null||Qc===void 0?void 0:Qc.get("X-GIPHY-SDK-NAME"))||(Kc.appendGiphySDKRequestHeader("X-GIPHY-SDK-NAME","FetchAPI"),Kc.appendGiphySDKRequestHeader("X-GIPHY-SDK-VERSION",mC))});var uy=_((WW,sy)=>{sy.exports=oy;oy.sync=_C;var iy=require("fs");function SC(e,t){var r=t.pathExt!==void 0?t.pathExt:process.env.PATHEXT;if(!r||(r=r.split(";"),r.indexOf("")!==-1))return!0;for(var n=0;n<r.length;n++){var i=r[n].toLowerCase();if(i&&e.substr(-i.length).toLowerCase()===i)return!0}return!1}function ay(e,t,r){return!e.isSymbolicLink()&&!e.isFile()?!1:SC(t,r)}function oy(e,t,r){iy.stat(e,function(n,i){r(n,n?!1:ay(i,e,t))})}function _C(e,t){return ay(iy.statSync(e),e,t)}});var hy=_((jW,dy)=>{dy.exports=ly;ly.sync=wC;var cy=require("fs");function ly(e,t,r){cy.stat(e,function(n,i){r(n,n?!1:fy(i,t))})}function wC(e,t){return fy(cy.statSync(e),t)}function fy(e,t){return e.isFile()&&EC(e,t)}function EC(e,t){var r=e.mode,n=e.uid,i=e.gid,a=t.uid!==void 0?t.uid:process.getuid&&process.getuid(),s=t.gid!==void 0?t.gid:process.getgid&&process.getgid(),c=parseInt("100",8),l=parseInt("010",8),f=parseInt("001",8),d=c|l,m=r&f||r&l&&i===s||r&c&&n===a||r&d&&a===0;return m}});var my=_((HW,py)=>{var UW=require("fs"),es;process.platform==="win32"||global.TESTING_WINDOWS?es=uy():es=hy();py.exports=ul;ul.sync=RC;function ul(e,t,r){if(typeof t=="function"&&(r=t,t={}),!r){if(typeof Promise!="function")throw new TypeError("callback not provided");return new Promise(function(n,i){ul(e,t||{},function(a,s){a?i(a):n(s)})})}es(e,t||{},function(n,i){n&&(n.code==="EACCES"||t&&t.ignoreErrors)&&(n=null,i=!1),r(n,i)})}function RC(e,t){try{return es.sync(e,t||{})}catch(r){if(t&&t.ignoreErrors||r.code==="EACCES")return!1;throw r}}});var wy=_((zW,_y)=>{var zn=process.platform==="win32"||process.env.OSTYPE==="cygwin"||process.env.OSTYPE==="msys",gy=require("path"),AC=zn?";":":",yy=my(),by=e=>Object.assign(new Error(`not found: ${e}`),{code:"ENOENT"}),vy=(e,t)=>{let r=t.colon||AC,n=e.match(/\//)||zn&&e.match(/\\/)?[""]:[...zn?[process.cwd()]:[],...(t.path||process.env.PATH||"").split(r)],i=zn?t.pathExt||process.env.PATHEXT||".EXE;.CMD;.BAT;.COM":"",a=zn?i.split(r):[""];return zn&&e.indexOf(".")!==-1&&a[0]!==""&&a.unshift(""),{pathEnv:n,pathExt:a,pathExtExe:i}},Sy=(e,t,r)=>{typeof t=="function"&&(r=t,t={}),t||(t={});let{pathEnv:n,pathExt:i,pathExtExe:a}=vy(e,t),s=[],c=f=>new Promise((d,m)=>{if(f===n.length)return t.all&&s.length?d(s):m(by(e));let p=n[f],y=/^".*"$/.test(p)?p.slice(1,-1):p,g=gy.join(y,e),S=!y&&/^\.[\\\/]/.test(e)?e.slice(0,2)+g:g;d(l(S,f,0))}),l=(f,d,m)=>new Promise((p,y)=>{if(m===i.length)return p(c(d+1));let g=i[m];yy(f+g,{pathExt:a},(S,v)=>{if(!S&&v)if(t.all)s.push(f+g);else return p(f+g);return p(l(f,d,m+1))})});return r?c(0).then(f=>r(null,f),r):c(0)},PC=(e,t)=>{t=t||{};let{pathEnv:r,pathExt:n,pathExtExe:i}=vy(e,t),a=[];for(let s=0;s<r.length;s++){let c=r[s],l=/^".*"$/.test(c)?c.slice(1,-1):c,f=gy.join(l,e),d=!l&&/^\.[\\\/]/.test(e)?e.slice(0,2)+f:f;for(let m=0;m<n.length;m++){let p=d+n[m];try{if(yy.sync(p,{pathExt:i}))if(t.all)a.push(p);else return p}catch{}}}if(t.all&&a.length)return a;if(t.nothrow)return null;throw by(e)};_y.exports=Sy;Sy.sync=PC});var ll=_((YW,cl)=>{"use strict";var Ey=(e={})=>{let t=e.env||process.env;return(e.platform||process.platform)!=="win32"?"PATH":Object.keys(t).reverse().find(n=>n.toUpperCase()==="PATH")||"Path"};cl.exports=Ey;cl.exports.default=Ey});var Ty=_((VW,Py)=>{"use strict";var Ry=require("path"),TC=wy(),OC=ll();function Ay(e,t){let r=e.options.env||process.env,n=process.cwd(),i=e.options.cwd!=null,a=i&&process.chdir!==void 0&&!process.chdir.disabled;if(a)try{process.chdir(e.options.cwd)}catch{}let s;try{s=TC.sync(e.command,{path:r[OC({env:r})],pathExt:t?Ry.delimiter:void 0})}catch{}finally{a&&process.chdir(n)}return s&&(s=Ry.resolve(i?e.options.cwd:"",s)),s}function xC(e){return Ay(e)||Ay(e,!0)}Py.exports=xC});var Oy=_((QW,dl)=>{"use strict";var fl=/([()\][%!^"`<>&|;, *?])/g;function CC(e){return e=e.replace(fl,"^$1"),e}function IC(e,t){return e=`${e}`,e=e.replace(/(\\*)"/g,'$1$1\\"'),e=e.replace(/(\\*)$/,"$1$1"),e=`"${e}"`,e=e.replace(fl,"^$1"),t&&(e=e.replace(fl,"^$1")),e}dl.exports.command=CC;dl.exports.argument=IC});var Cy=_((KW,xy)=>{"use strict";xy.exports=/^#!(.*)/});var ky=_((XW,Iy)=>{"use strict";var kC=Cy();Iy.exports=(e="")=>{let t=e.match(kC);if(!t)return null;let[r,n]=t[0].replace(/#! ?/,"").split(" "),i=r.split("/").pop();return i==="env"?n:n?`${i} ${n}`:i}});var Ly=_((ZW,Dy)=>{"use strict";var hl=require("fs"),DC=ky();function LC(e){let r=Buffer.alloc(150),n;try{n=hl.openSync(e,"r"),hl.readSync(n,r,0,150,0),hl.closeSync(n)}catch{}return DC(r.toString())}Dy.exports=LC});var Ny=_((JW,qy)=>{"use strict";var FC=require("path"),Fy=Ty(),My=Oy(),MC=Ly(),qC=process.platform==="win32",NC=/\.(?:com|exe)$/i,BC=/node_modules[\\/].bin[\\/][^\\/]+\.cmd$/i;function $C(e){e.file=Fy(e);let t=e.file&&MC(e.file);return t?(e.args.unshift(e.file),e.command=t,Fy(e)):e.file}function GC(e){if(!qC)return e;let t=$C(e),r=!NC.test(t);if(e.options.forceShell||r){let n=BC.test(t);e.command=FC.normalize(e.command),e.command=My.command(e.command),e.args=e.args.map(a=>My.argument(a,n));let i=[e.command].concat(e.args).join(" ");e.args=["/d","/s","/c",`"${i}"`],e.command=process.env.comspec||"cmd.exe",e.options.windowsVerbatimArguments=!0}return e}function WC(e,t,r){t&&!Array.isArray(t)&&(r=t,t=null),t=t?t.slice(0):[],r=Object.assign({},r);let n={command:e,args:t,options:r,file:void 0,original:{command:e,args:t}};return r.shell?n:GC(n)}qy.exports=WC});var Gy=_((ej,$y)=>{"use strict";var pl=process.platform==="win32";function ml(e,t){return Object.assign(new Error(`${t} ${e.command} ENOENT`),{code:"ENOENT",errno:"ENOENT",syscall:`${t} ${e.command}`,path:e.command,spawnargs:e.args})}function jC(e,t){if(!pl)return;let r=e.emit;e.emit=function(n,i){if(n==="exit"){let a=By(i,t,"spawn");if(a)return r.call(e,"error",a)}return r.apply(e,arguments)}}function By(e,t){return pl&&e===1&&!t.file?ml(t.original,"spawn"):null}function UC(e,t){return pl&&e===1&&!t.file?ml(t.original,"spawnSync"):null}$y.exports={hookChildProcess:jC,verifyENOENT:By,verifyENOENTSync:UC,notFoundError:ml}});var Uy=_((tj,Yn)=>{"use strict";var Wy=require("child_process"),gl=Ny(),yl=Gy();function jy(e,t,r){let n=gl(e,t,r),i=Wy.spawn(n.command,n.args,n.options);return yl.hookChildProcess(i,n),i}function HC(e,t,r){let n=gl(e,t,r),i=Wy.spawnSync(n.command,n.args,n.options);return i.error=i.error||yl.verifyENOENTSync(i.status,n),i}Yn.exports=jy;Yn.exports.spawn=jy;Yn.exports.sync=HC;Yn.exports._parse=gl;Yn.exports._enoent=yl});var zy=_((rj,Hy)=>{"use strict";Hy.exports=e=>{let t=typeof e=="string"?`
`:`
`.charCodeAt(),r=typeof e=="string"?"\r":"\r".charCodeAt();return e[e.length-1]===t&&(e=e.slice(0,e.length-1)),e[e.length-1]===r&&(e=e.slice(0,e.length-1)),e}});var Qy=_((nj,oa)=>{"use strict";var aa=require("path"),Yy=ll(),Vy=e=>{e=j({cwd:process.cwd(),path:process.env[Yy()],execPath:process.execPath},e);let t,r=aa.resolve(e.cwd),n=[];for(;t!==r;)n.push(aa.join(r,"node_modules/.bin")),t=r,r=aa.resolve(r,"..");let i=aa.resolve(e.cwd,e.execPath,"..");return n.push(i),n.concat(e.path).join(aa.delimiter)};oa.exports=Vy;oa.exports.default=Vy;oa.exports.env=e=>{e=j({env:process.env},e);let t=j({},e.env),r=Yy({env:t});return e.path=t[r],t[r]=oa.exports(e),t}});var Xy=_((ij,bl)=>{"use strict";var Ky=(e,t)=>{for(let r of Reflect.ownKeys(t))Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r));return e};bl.exports=Ky;bl.exports.default=Ky});var Jy=_((aj,rs)=>{"use strict";var zC=Xy(),ts=new WeakMap,Zy=(e,t={})=>{if(typeof e!="function")throw new TypeError("Expected a function");let r,n=0,i=e.displayName||e.name||"<anonymous>",a=function(...s){if(ts.set(a,++n),n===1)r=e.apply(this,s),e=null;else if(t.throw===!0)throw new Error(`Function \`${i}\` can only be called once`);return r};return zC(a,e),ts.set(a,n),a};rs.exports=Zy;rs.exports.default=Zy;rs.exports.callCount=e=>{if(!ts.has(e))throw new Error(`The given function \`${e.name}\` is not wrapped by the \`onetime\` package`);return ts.get(e)}});var eb=_(ns=>{"use strict";Object.defineProperty(ns,"__esModule",{value:!0});ns.SIGNALS=void 0;var YC=[{name:"SIGHUP",number:1,action:"terminate",description:"Terminal closed",standard:"posix"},{name:"SIGINT",number:2,action:"terminate",description:"User interruption with CTRL-C",standard:"ansi"},{name:"SIGQUIT",number:3,action:"core",description:"User interruption with CTRL-\\",standard:"posix"},{name:"SIGILL",number:4,action:"core",description:"Invalid machine instruction",standard:"ansi"},{name:"SIGTRAP",number:5,action:"core",description:"Debugger breakpoint",standard:"posix"},{name:"SIGABRT",number:6,action:"core",description:"Aborted",standard:"ansi"},{name:"SIGIOT",number:6,action:"core",description:"Aborted",standard:"bsd"},{name:"SIGBUS",number:7,action:"core",description:"Bus error due to misaligned, non-existing address or paging error",standard:"bsd"},{name:"SIGEMT",number:7,action:"terminate",description:"Command should be emulated but is not implemented",standard:"other"},{name:"SIGFPE",number:8,action:"core",description:"Floating point arithmetic error",standard:"ansi"},{name:"SIGKILL",number:9,action:"terminate",description:"Forced termination",standard:"posix",forced:!0},{name:"SIGUSR1",number:10,action:"terminate",description:"Application-specific signal",standard:"posix"},{name:"SIGSEGV",number:11,action:"core",description:"Segmentation fault",standard:"ansi"},{name:"SIGUSR2",number:12,action:"terminate",description:"Application-specific signal",standard:"posix"},{name:"SIGPIPE",number:13,action:"terminate",description:"Broken pipe or socket",standard:"posix"},{name:"SIGALRM",number:14,action:"terminate",description:"Timeout or timer",standard:"posix"},{name:"SIGTERM",number:15,action:"terminate",description:"Termination",standard:"ansi"},{name:"SIGSTKFLT",number:16,action:"terminate",description:"Stack is empty or overflowed",standard:"other"},{name:"SIGCHLD",number:17,action:"ignore",description:"Child process terminated, paused or unpaused",standard:"posix"},{name:"SIGCLD",number:17,action:"ignore",description:"Child process terminated, paused or unpaused",standard:"other"},{name:"SIGCONT",number:18,action:"unpause",description:"Unpaused",standard:"posix",forced:!0},{name:"SIGSTOP",number:19,action:"pause",description:"Paused",standard:"posix",forced:!0},{name:"SIGTSTP",number:20,action:"pause",description:'Paused using CTRL-Z or "suspend"',standard:"posix"},{name:"SIGTTIN",number:21,action:"pause",description:"Background process cannot read terminal input",standard:"posix"},{name:"SIGBREAK",number:21,action:"terminate",description:"User interruption with CTRL-BREAK",standard:"other"},{name:"SIGTTOU",number:22,action:"pause",description:"Background process cannot write to terminal output",standard:"posix"},{name:"SIGURG",number:23,action:"ignore",description:"Socket received out-of-band data",standard:"bsd"},{name:"SIGXCPU",number:24,action:"core",description:"Process timed out",standard:"bsd"},{name:"SIGXFSZ",number:25,action:"core",description:"File too big",standard:"bsd"},{name:"SIGVTALRM",number:26,action:"terminate",description:"Timeout or timer",standard:"bsd"},{name:"SIGPROF",number:27,action:"terminate",description:"Timeout or timer",standard:"bsd"},{name:"SIGWINCH",number:28,action:"ignore",description:"Terminal window size changed",standard:"bsd"},{name:"SIGIO",number:29,action:"terminate",description:"I/O is available",standard:"other"},{name:"SIGPOLL",number:29,action:"terminate",description:"Watched event",standard:"other"},{name:"SIGINFO",number:29,action:"ignore",description:"Request for process information",standard:"other"},{name:"SIGPWR",number:30,action:"terminate",description:"Device running out of power",standard:"systemv"},{name:"SIGSYS",number:31,action:"core",description:"Invalid system call",standard:"other"},{name:"SIGUNUSED",number:31,action:"terminate",description:"Invalid system call",standard:"other"}];ns.SIGNALS=YC});var vl=_(Vn=>{"use strict";Object.defineProperty(Vn,"__esModule",{value:!0});Vn.SIGRTMAX=Vn.getRealtimeSignals=void 0;var VC=function(){let e=rb-tb+1;return Array.from({length:e},QC)};Vn.getRealtimeSignals=VC;var QC=function(e,t){return{name:`SIGRT${t+1}`,number:tb+t,action:"terminate",description:"Application-specific signal (realtime)",standard:"posix"}},tb=34,rb=64;Vn.SIGRTMAX=rb});var nb=_(is=>{"use strict";Object.defineProperty(is,"__esModule",{value:!0});is.getSignals=void 0;var KC=require("os"),XC=eb(),ZC=vl(),JC=function(){let e=(0,ZC.getRealtimeSignals)();return[...XC.SIGNALS,...e].map(eI)};is.getSignals=JC;var eI=function({name:e,number:t,description:r,action:n,forced:i=!1,standard:a}){let{signals:{[e]:s}}=KC.constants,c=s!==void 0;return{name:e,number:c?s:t,description:r,supported:c,action:n,forced:i,standard:a}}});var ab=_(Qn=>{"use strict";Object.defineProperty(Qn,"__esModule",{value:!0});Qn.signalsByNumber=Qn.signalsByName=void 0;var tI=require("os"),ib=nb(),rI=vl(),nI=function(){return(0,ib.getSignals)().reduce(iI,{})},iI=function(e,{name:t,number:r,description:n,supported:i,action:a,forced:s,standard:c}){return ue(j({},e),{[t]:{name:t,number:r,description:n,supported:i,action:a,forced:s,standard:c}})},aI=nI();Qn.signalsByName=aI;var oI=function(){let e=(0,ib.getSignals)(),t=rI.SIGRTMAX+1,r=Array.from({length:t},(n,i)=>sI(i,e));return Object.assign({},...r)},sI=function(e,t){let r=uI(e,t);if(r===void 0)return{};let{name:n,description:i,supported:a,action:s,forced:c,standard:l}=r;return{[e]:{name:n,number:e,description:i,supported:a,action:s,forced:c,standard:l}}},uI=function(e,t){let r=t.find(({name:n})=>tI.constants.signals[n]===e);return r!==void 0?r:t.find(n=>n.number===e)},cI=oI();Qn.signalsByNumber=cI});var sb=_((lj,ob)=>{"use strict";var{signalsByName:lI}=ab(),fI=({timedOut:e,timeout:t,errorCode:r,signal:n,signalDescription:i,exitCode:a,isCanceled:s})=>e?`timed out after ${t} milliseconds`:s?"was canceled":r!==void 0?`failed with ${r}`:n!==void 0?`was killed with ${n} (${i})`:a!==void 0?`failed with exit code ${a}`:"failed",dI=({stdout:e,stderr:t,all:r,error:n,signal:i,exitCode:a,command:s,escapedCommand:c,timedOut:l,isCanceled:f,killed:d,parsed:{options:{timeout:m}}})=>{a=a===null?void 0:a,i=i===null?void 0:i;let p=i===void 0?void 0:lI[i].description,y=n&&n.code,S=`Command ${fI({timedOut:l,timeout:m,errorCode:y,signal:i,signalDescription:p,exitCode:a,isCanceled:f})}: ${s}`,v=Object.prototype.toString.call(n)==="[object Error]",A=v?`${S}
${n.message}`:S,O=[A,t,e].filter(Boolean).join(`
`);return v?(n.originalMessage=n.message,n.message=O):n=new Error(O),n.shortMessage=A,n.command=s,n.escapedCommand=c,n.exitCode=a,n.signal=i,n.signalDescription=p,n.stdout=e,n.stderr=t,r!==void 0&&(n.all=r),"bufferedData"in n&&delete n.bufferedData,n.failed=!0,n.timedOut=Boolean(l),n.isCanceled=f,n.killed=d&&!l,n};ob.exports=dI});var cb=_((fj,Sl)=>{"use strict";var as=["stdin","stdout","stderr"],hI=e=>as.some(t=>e[t]!==void 0),ub=e=>{if(!e)return;let{stdio:t}=e;if(t===void 0)return as.map(n=>e[n]);if(hI(e))throw new Error(`It's not possible to provide \`stdio\` in combination with one of ${as.map(n=>`\`${n}\``).join(", ")}`);if(typeof t=="string")return t;if(!Array.isArray(t))throw new TypeError(`Expected \`stdio\` to be of type \`string\` or \`Array\`, got \`${typeof t}\``);let r=Math.max(t.length,as.length);return Array.from({length:r},(n,i)=>t[i])};Sl.exports=ub;Sl.exports.node=e=>{let t=ub(e);return t==="ipc"?"ipc":t===void 0||typeof t=="string"?[t,t,t,"ipc"]:t.includes("ipc")?t:[...t,"ipc"]}});var lb=_((dj,os)=>{os.exports=["SIGABRT","SIGALRM","SIGHUP","SIGINT","SIGTERM"];process.platform!=="win32"&&os.exports.push("SIGVTALRM","SIGXCPU","SIGXFSZ","SIGUSR2","SIGTRAP","SIGSYS","SIGQUIT","SIGIOT");process.platform==="linux"&&os.exports.push("SIGIO","SIGPOLL","SIGPWR","SIGSTKFLT","SIGUNUSED")});var mb=_((hj,Zn)=>{var ge=global.process,tn=function(e){return e&&typeof e=="object"&&typeof e.removeListener=="function"&&typeof e.emit=="function"&&typeof e.reallyExit=="function"&&typeof e.listeners=="function"&&typeof e.kill=="function"&&typeof e.pid=="number"&&typeof e.on=="function"};tn(ge)?(fb=require("assert"),Kn=lb(),db=/^win/i.test(ge.platform),sa=require("events"),typeof sa!="function"&&(sa=sa.EventEmitter),ge.__signal_exit_emitter__?Ie=ge.__signal_exit_emitter__:(Ie=ge.__signal_exit_emitter__=new sa,Ie.count=0,Ie.emitted={}),Ie.infinite||(Ie.setMaxListeners(1/0),Ie.infinite=!0),Zn.exports=function(e,t){if(!tn(global.process))return function(){};fb.equal(typeof e,"function","a callback must be provided for exit handler"),Xn===!1&&_l();var r="exit";t&&t.alwaysLast&&(r="afterexit");var n=function(){Ie.removeListener(r,e),Ie.listeners("exit").length===0&&Ie.listeners("afterexit").length===0&&ss()};return Ie.on(r,e),n},ss=function(){!Xn||!tn(global.process)||(Xn=!1,Kn.forEach(function(t){try{ge.removeListener(t,us[t])}catch{}}),ge.emit=cs,ge.reallyExit=wl,Ie.count-=1)},Zn.exports.unload=ss,rn=function(t,r,n){Ie.emitted[t]||(Ie.emitted[t]=!0,Ie.emit(t,r,n))},us={},Kn.forEach(function(e){us[e]=function(){if(!!tn(global.process)){var r=ge.listeners(e);r.length===Ie.count&&(ss(),rn("exit",null,e),rn("afterexit",null,e),db&&e==="SIGHUP"&&(e="SIGINT"),ge.kill(ge.pid,e))}}}),Zn.exports.signals=function(){return Kn},Xn=!1,_l=function(){Xn||!tn(global.process)||(Xn=!0,Ie.count+=1,Kn=Kn.filter(function(t){try{return ge.on(t,us[t]),!0}catch{return!1}}),ge.emit=pb,ge.reallyExit=hb)},Zn.exports.load=_l,wl=ge.reallyExit,hb=function(t){!tn(global.process)||(ge.exitCode=t||0,rn("exit",ge.exitCode,null),rn("afterexit",ge.exitCode,null),wl.call(ge,ge.exitCode))},cs=ge.emit,pb=function(t,r){if(t==="exit"&&tn(global.process)){r!==void 0&&(ge.exitCode=r);var n=cs.apply(this,arguments);return rn("exit",ge.exitCode,null),rn("afterexit",ge.exitCode,null),n}else return cs.apply(this,arguments)}):Zn.exports=function(){return function(){}};var fb,Kn,db,sa,Ie,ss,rn,us,Xn,_l,wl,hb,cs,pb});var yb=_((pj,gb)=>{"use strict";var pI=require("os"),mI=mb(),gI=1e3*5,yI=(e,t="SIGTERM",r={})=>{let n=e(t);return bI(e,t,r,n),n},bI=(e,t,r,n)=>{if(!vI(t,r,n))return;let i=_I(r),a=setTimeout(()=>{e("SIGKILL")},i);a.unref&&a.unref()},vI=(e,{forceKillAfterTimeout:t},r)=>SI(e)&&t!==!1&&r,SI=e=>e===pI.constants.signals.SIGTERM||typeof e=="string"&&e.toUpperCase()==="SIGTERM",_I=({forceKillAfterTimeout:e=!0})=>{if(e===!0)return gI;if(!Number.isFinite(e)||e<0)throw new TypeError(`Expected the \`forceKillAfterTimeout\` option to be a non-negative integer, got \`${e}\` (${typeof e})`);return e},wI=(e,t)=>{e.kill()&&(t.isCanceled=!0)},EI=(e,t,r)=>{e.kill(t),r(Object.assign(new Error("Timed out"),{timedOut:!0,signal:t}))},RI=(e,{timeout:t,killSignal:r="SIGTERM"},n)=>{if(t===0||t===void 0)return n;let i,a=new Promise((c,l)=>{i=setTimeout(()=>{EI(e,r,l)},t)}),s=n.finally(()=>{clearTimeout(i)});return Promise.race([a,s])},AI=({timeout:e})=>{if(e!==void 0&&(!Number.isFinite(e)||e<0))throw new TypeError(`Expected the \`timeout\` option to be a non-negative integer, got \`${e}\` (${typeof e})`)},PI=async(e,{cleanup:t,detached:r},n)=>{if(!t||r)return n;let i=mI(()=>{e.kill()});return n.finally(()=>{i()})};gb.exports={spawnedKill:yI,spawnedCancel:wI,setupTimeout:RI,validateTimeout:AI,setExitHandler:PI}});var vb=_((mj,bb)=>{"use strict";var Dt=e=>e!==null&&typeof e=="object"&&typeof e.pipe=="function";Dt.writable=e=>Dt(e)&&e.writable!==!1&&typeof e._write=="function"&&typeof e._writableState=="object";Dt.readable=e=>Dt(e)&&e.readable!==!1&&typeof e._read=="function"&&typeof e._readableState=="object";Dt.duplex=e=>Dt.writable(e)&&Dt.readable(e);Dt.transform=e=>Dt.duplex(e)&&typeof e._transform=="function";bb.exports=Dt});var _b=_((gj,Sb)=>{"use strict";var{PassThrough:TI}=require("stream");Sb.exports=e=>{e=j({},e);let{array:t}=e,{encoding:r}=e,n=r==="buffer",i=!1;t?i=!(r||n):r=r||"utf8",n&&(r=null);let a=new TI({objectMode:i});r&&a.setEncoding(r);let s=0,c=[];return a.on("data",l=>{c.push(l),i?s=c.length:s+=l.length}),a.getBufferedValue=()=>t?c:n?Buffer.concat(c,s):c.join(""),a.getBufferedLength=()=>s,a}});var wb=_((yj,ua)=>{"use strict";var{constants:OI}=require("buffer"),xI=require("stream"),{promisify:CI}=require("util"),II=_b(),kI=CI(xI.pipeline),El=class extends Error{constructor(){super("maxBuffer exceeded");this.name="MaxBufferError"}};async function Rl(e,t){if(!e)throw new Error("Expected a stream");t=j({maxBuffer:1/0},t);let{maxBuffer:r}=t,n=II(t);return await new Promise((i,a)=>{let s=c=>{c&&n.getBufferedLength()<=OI.MAX_LENGTH&&(c.bufferedData=n.getBufferedValue()),a(c)};(async()=>{try{await kI(e,n),i()}catch(c){s(c)}})(),n.on("data",()=>{n.getBufferedLength()>r&&s(new El)})}),n.getBufferedValue()}ua.exports=Rl;ua.exports.buffer=(e,t)=>Rl(e,ue(j({},t),{encoding:"buffer"}));ua.exports.array=(e,t)=>Rl(e,ue(j({},t),{array:!0}));ua.exports.MaxBufferError=El});var Rb=_((bj,Eb)=>{"use strict";var{PassThrough:DI}=require("stream");Eb.exports=function(){var e=[],t=new DI({objectMode:!0});return t.setMaxListeners(0),t.add=r,t.isEmpty=n,t.on("unpipe",i),Array.prototype.slice.call(arguments).forEach(r),t;function r(a){return Array.isArray(a)?(a.forEach(r),this):(e.push(a),a.once("end",i.bind(null,a)),a.once("error",t.emit.bind(t,"error")),a.pipe(t,{end:!1}),this)}function n(){return e.length==0}function i(a){e=e.filter(function(s){return s!==a}),!e.length&&t.readable&&t.end()}}});var Ob=_((vj,Tb)=>{"use strict";var Pb=vb(),Ab=wb(),LI=Rb(),FI=(e,t)=>{t===void 0||e.stdin===void 0||(Pb(t)?t.pipe(e.stdin):e.stdin.end(t))},MI=(e,{all:t})=>{if(!t||!e.stdout&&!e.stderr)return;let r=LI();return e.stdout&&r.add(e.stdout),e.stderr&&r.add(e.stderr),r},Al=async(e,t)=>{if(!!e){e.destroy();try{return await t}catch(r){return r.bufferedData}}},Pl=(e,{encoding:t,buffer:r,maxBuffer:n})=>{if(!(!e||!r))return t?Ab(e,{encoding:t,maxBuffer:n}):Ab.buffer(e,{maxBuffer:n})},qI=async({stdout:e,stderr:t,all:r},{encoding:n,buffer:i,maxBuffer:a},s)=>{let c=Pl(e,{encoding:n,buffer:i,maxBuffer:a}),l=Pl(t,{encoding:n,buffer:i,maxBuffer:a}),f=Pl(r,{encoding:n,buffer:i,maxBuffer:a*2});try{return await Promise.all([s,c,l,f])}catch(d){return Promise.all([{error:d,signal:d.signal,timedOut:d.timedOut},Al(e,c),Al(t,l),Al(r,f)])}},NI=({input:e})=>{if(Pb(e))throw new TypeError("The `input` option cannot be a stream in sync mode")};Tb.exports={handleInput:FI,makeAllStream:MI,getSpawnedResult:qI,validateInputSync:NI}});var Cb=_((Sj,xb)=>{"use strict";var BI=(async()=>{})().constructor.prototype,$I=["then","catch","finally"].map(e=>[e,Reflect.getOwnPropertyDescriptor(BI,e)]),GI=(e,t)=>{for(let[r,n]of $I){let i=typeof t=="function"?(...a)=>Reflect.apply(n.value,t(),a):n.value.bind(t);Reflect.defineProperty(e,r,ue(j({},n),{value:i}))}return e},WI=e=>new Promise((t,r)=>{e.on("exit",(n,i)=>{t({exitCode:n,signal:i})}),e.on("error",n=>{r(n)}),e.stdin&&e.stdin.on("error",n=>{r(n)})});xb.exports={mergePromise:GI,getSpawnedPromise:WI}});var Db=_((_j,kb)=>{"use strict";var Ib=(e,t=[])=>Array.isArray(t)?[e,...t]:[e],jI=/^[\w.-]+$/,UI=/"/g,HI=e=>typeof e!="string"||jI.test(e)?e:`"${e.replace(UI,'\\"')}"`,zI=(e,t)=>Ib(e,t).join(" "),YI=(e,t)=>Ib(e,t).map(r=>HI(r)).join(" "),VI=/ +/g,QI=e=>{let t=[];for(let r of e.trim().split(VI)){let n=t[t.length-1];n&&n.endsWith("\\")?t[t.length-1]=`${n.slice(0,-1)} ${r}`:t.push(r)}return t};kb.exports={joinCommand:zI,getEscapedCommand:YI,parseCommand:QI}});var $b=_((wj,Jn)=>{"use strict";var KI=require("path"),Tl=require("child_process"),XI=Uy(),ZI=zy(),JI=Qy(),ek=Jy(),ls=sb(),Fb=cb(),{spawnedKill:tk,spawnedCancel:rk,setupTimeout:nk,validateTimeout:ik,setExitHandler:ak}=yb(),{handleInput:ok,getSpawnedResult:sk,makeAllStream:uk,validateInputSync:ck}=Ob(),{mergePromise:Lb,getSpawnedPromise:lk}=Cb(),{joinCommand:Mb,parseCommand:qb,getEscapedCommand:Nb}=Db(),fk=1e3*1e3*100,dk=({env:e,extendEnv:t,preferLocal:r,localDir:n,execPath:i})=>{let a=t?j(j({},process.env),e):e;return r?JI.env({env:a,cwd:n,execPath:i}):a},Bb=(e,t,r={})=>{let n=XI._parse(e,t,r);return e=n.command,t=n.args,r=n.options,r=j({maxBuffer:fk,buffer:!0,stripFinalNewline:!0,extendEnv:!0,preferLocal:!1,localDir:r.cwd||process.cwd(),execPath:process.execPath,encoding:"utf8",reject:!0,cleanup:!0,all:!1,windowsHide:!0},r),r.env=dk(r),r.stdio=Fb(r),process.platform==="win32"&&KI.basename(e,".exe")==="cmd"&&t.unshift("/q"),{file:e,args:t,options:r,parsed:n}},ca=(e,t,r)=>typeof t!="string"&&!Buffer.isBuffer(t)?r===void 0?void 0:"":e.stripFinalNewline?ZI(t):t,fs=(e,t,r)=>{let n=Bb(e,t,r),i=Mb(e,t),a=Nb(e,t);ik(n.options);let s;try{s=Tl.spawn(n.file,n.args,n.options)}catch(y){let g=new Tl.ChildProcess,S=Promise.reject(ls({error:y,stdout:"",stderr:"",all:"",command:i,escapedCommand:a,parsed:n,timedOut:!1,isCanceled:!1,killed:!1}));return Lb(g,S)}let c=lk(s),l=nk(s,n.options,c),f=ak(s,n.options,l),d={isCanceled:!1};s.kill=tk.bind(null,s.kill.bind(s)),s.cancel=rk.bind(null,s,d);let p=ek(async()=>{let[{error:y,exitCode:g,signal:S,timedOut:v},A,O,F]=await sk(s,n.options,f),k=ca(n.options,A),I=ca(n.options,O),M=ca(n.options,F);if(y||g!==0||S!==null){let q=ls({error:y,exitCode:g,signal:S,stdout:k,stderr:I,all:M,command:i,escapedCommand:a,parsed:n,timedOut:v,isCanceled:d.isCanceled,killed:s.killed});if(!n.options.reject)return q;throw q}return{command:i,escapedCommand:a,exitCode:0,stdout:k,stderr:I,all:M,failed:!1,timedOut:!1,isCanceled:!1,killed:!1}});return ok(s,n.options.input),s.all=uk(s,n.options),Lb(s,p)};Jn.exports=fs;Jn.exports.sync=(e,t,r)=>{let n=Bb(e,t,r),i=Mb(e,t),a=Nb(e,t);ck(n.options);let s;try{s=Tl.spawnSync(n.file,n.args,n.options)}catch(f){throw ls({error:f,stdout:"",stderr:"",all:"",command:i,escapedCommand:a,parsed:n,timedOut:!1,isCanceled:!1,killed:!1})}let c=ca(n.options,s.stdout,s.error),l=ca(n.options,s.stderr,s.error);if(s.error||s.status!==0||s.signal!==null){let f=ls({stdout:c,stderr:l,error:s.error,signal:s.signal,exitCode:s.status,command:i,escapedCommand:a,parsed:n,timedOut:s.error&&s.error.code==="ETIMEDOUT",isCanceled:!1,killed:s.signal!==null});if(!n.options.reject)return f;throw f}return{command:i,escapedCommand:a,exitCode:0,stdout:c,stderr:l,failed:!1,timedOut:!1,isCanceled:!1,killed:!1}};Jn.exports.command=(e,t)=>{let[r,...n]=qb(e);return fs(r,n,t)};Jn.exports.commandSync=(e,t)=>{let[r,...n]=qb(e);return fs.sync(r,n,t)};Jn.exports.node=(e,t,r={})=>{t&&!Array.isArray(t)&&typeof t=="object"&&(r=t,t=[]);let n=Fb.node(r),i=process.execArgv.filter(c=>!c.startsWith("--inspect")),{nodePath:a=process.execPath,nodeOptions:s=i}=r;return fs(a,[...s,e,...Array.isArray(t)?t:[]],ue(j({},r),{stdin:void 0,stdout:void 0,stderr:void 0,stdio:n,shell:!1}))}});var Kb=_((Tj,Qb)=>{"use strict";var Ek=require("fs"),Rk=require("os"),xl=Symbol.for("__RESOLVED_TEMP_DIRECTORY__");global[xl]||Object.defineProperty(global,xl,{value:Ek.realpathSync(Rk.tmpdir())});Qb.exports=global[xl]});var Jb=_((xj,Zb)=>{"use strict";Zb.exports=(...e)=>[...new Set([].concat(...e))]});var Cl=_((Cj,rv)=>{"use strict";var Ak=require("stream"),ev=Ak.PassThrough,Pk=Array.prototype.slice;rv.exports=Tk;function Tk(){let e=[],t=Pk.call(arguments),r=!1,n=t[t.length-1];n&&!Array.isArray(n)&&n.pipe==null?t.pop():n={};let i=n.end!==!1,a=n.pipeError===!0;n.objectMode==null&&(n.objectMode=!0),n.highWaterMark==null&&(n.highWaterMark=64*1024);let s=ev(n);function c(){for(let d=0,m=arguments.length;d<m;d++)e.push(tv(arguments[d],n));return l(),this}function l(){if(r)return;r=!0;let d=e.shift();if(!d){process.nextTick(f);return}Array.isArray(d)||(d=[d]);let m=d.length+1;function p(){--m>0||(r=!1,l())}function y(g){function S(){g.removeListener("merge2UnpipeEnd",S),g.removeListener("end",S),a&&g.removeListener("error",v),p()}function v(A){s.emit("error",A)}if(g._readableState.endEmitted)return p();g.on("merge2UnpipeEnd",S),g.on("end",S),a&&g.on("error",v),g.pipe(s,{end:!1}),g.resume()}for(let g=0;g<d.length;g++)y(d[g]);p()}function f(){r=!1,s.emit("queueDrain"),i&&s.end()}return s.setMaxListeners(0),s.add=c,s.on("unpipe",function(d){d.emit("merge2UnpipeEnd")}),t.length&&c.apply(null,t),s}function tv(e,t){if(Array.isArray(e))for(let r=0,n=e.length;r<n;r++)e[r]=tv(e[r],t);else{if(!e._readableState&&e.pipe&&(e=e.pipe(ev(t))),!e._readableState||!e.pause||!e.pipe)throw new Error("Only readable stream can be merged.");e.pause()}return e}});var nv=_(ei=>{"use strict";Object.defineProperty(ei,"__esModule",{value:!0});ei.splitWhen=ei.flatten=void 0;function Ok(e){return e.reduce((t,r)=>[].concat(t,r),[])}ei.flatten=Ok;function xk(e,t){let r=[[]],n=0;for(let i of e)t(i)?(n++,r[n]=[]):r[n].push(i);return r}ei.splitWhen=xk});var iv=_(hs=>{"use strict";Object.defineProperty(hs,"__esModule",{value:!0});hs.isEnoentCodeError=void 0;function Ck(e){return e.code==="ENOENT"}hs.isEnoentCodeError=Ck});var ov=_(ps=>{"use strict";Object.defineProperty(ps,"__esModule",{value:!0});ps.createDirentFromStats=void 0;var av=class{constructor(t,r){this.name=t,this.isBlockDevice=r.isBlockDevice.bind(r),this.isCharacterDevice=r.isCharacterDevice.bind(r),this.isDirectory=r.isDirectory.bind(r),this.isFIFO=r.isFIFO.bind(r),this.isFile=r.isFile.bind(r),this.isSocket=r.isSocket.bind(r),this.isSymbolicLink=r.isSymbolicLink.bind(r)}};function Ik(e,t){return new av(e,t)}ps.createDirentFromStats=Ik});var sv=_(Lt=>{"use strict";Object.defineProperty(Lt,"__esModule",{value:!0});Lt.removeLeadingDotSegment=Lt.escape=Lt.makeAbsolute=Lt.unixify=void 0;var kk=require("path"),Dk=2,Lk=/(\\?)([()*?[\]{|}]|^!|[!+@](?=\())/g;function Fk(e){return e.replace(/\\/g,"/")}Lt.unixify=Fk;function Mk(e,t){return kk.resolve(e,t)}Lt.makeAbsolute=Mk;function qk(e){return e.replace(Lk,"\\$2")}Lt.escape=qk;function Nk(e){if(e.charAt(0)==="."){let t=e.charAt(1);if(t==="/"||t==="\\")return e.slice(Dk)}return e}Lt.removeLeadingDotSegment=Nk});var cv=_((Fj,uv)=>{uv.exports=function(t){if(typeof t!="string"||t==="")return!1;for(var r;r=/(\\).|([@?!+*]\(.*\))/g.exec(t);){if(r[2])return!0;t=t.slice(r.index+r[0].length)}return!1}});var Il=_((Mj,fv)=>{var Bk=cv(),lv={"{":"}","(":")","[":"]"},$k=function(e){if(e[0]==="!")return!0;for(var t=0,r=-2,n=-2,i=-2,a=-2,s=-2;t<e.length;){if(e[t]==="*"||e[t+1]==="?"&&/[\].+)]/.test(e[t])||n!==-1&&e[t]==="["&&e[t+1]!=="]"&&(n<t&&(n=e.indexOf("]",t)),n>t&&(s===-1||s>n||(s=e.indexOf("\\",t),s===-1||s>n)))||i!==-1&&e[t]==="{"&&e[t+1]!=="}"&&(i=e.indexOf("}",t),i>t&&(s=e.indexOf("\\",t),s===-1||s>i))||a!==-1&&e[t]==="("&&e[t+1]==="?"&&/[:!=]/.test(e[t+2])&&e[t+3]!==")"&&(a=e.indexOf(")",t),a>t&&(s=e.indexOf("\\",t),s===-1||s>a))||r!==-1&&e[t]==="("&&e[t+1]!=="|"&&(r<t&&(r=e.indexOf("|",t)),r!==-1&&e[r+1]!==")"&&(a=e.indexOf(")",r),a>r&&(s=e.indexOf("\\",r),s===-1||s>a))))return!0;if(e[t]==="\\"){var c=e[t+1];t+=2;var l=lv[c];if(l){var f=e.indexOf(l,t);f!==-1&&(t=f+1)}if(e[t]==="!")return!0}else t++}return!1},Gk=function(e){if(e[0]==="!")return!0;for(var t=0;t<e.length;){if(/[*?{}()[\]]/.test(e[t]))return!0;if(e[t]==="\\"){var r=e[t+1];t+=2;var n=lv[r];if(n){var i=e.indexOf(n,t);i!==-1&&(t=i+1)}if(e[t]==="!")return!0}else t++}return!1};fv.exports=function(t,r){if(typeof t!="string"||t==="")return!1;if(Bk(t))return!0;var n=$k;return r&&r.strict===!1&&(n=Gk),n(t)}});var hv=_((qj,dv)=>{"use strict";var Wk=Il(),jk=require("path").posix.dirname,Uk=require("os").platform()==="win32",kl="/",Hk=/\\/g,zk=/[\{\[].*[\}\]]$/,Yk=/(^|[^\\])([\{\[]|\([^\)]+$)/,Vk=/\\([\!\*\?\|\[\]\(\)\{\}])/g;dv.exports=function(t,r){var n=Object.assign({flipBackslashes:!0},r);n.flipBackslashes&&Uk&&t.indexOf(kl)<0&&(t=t.replace(Hk,kl)),zk.test(t)&&(t+=kl),t+="a";do t=jk(t);while(Wk(t)||Yk.test(t));return t.replace(Vk,"$1")}});var ms=_(ft=>{"use strict";ft.isInteger=e=>typeof e=="number"?Number.isInteger(e):typeof e=="string"&&e.trim()!==""?Number.isInteger(Number(e)):!1;ft.find=(e,t)=>e.nodes.find(r=>r.type===t);ft.exceedsLimit=(e,t,r=1,n)=>n===!1||!ft.isInteger(e)||!ft.isInteger(t)?!1:(Number(t)-Number(e))/Number(r)>=n;ft.escapeNode=(e,t=0,r)=>{let n=e.nodes[t];!n||(r&&n.type===r||n.type==="open"||n.type==="close")&&n.escaped!==!0&&(n.value="\\"+n.value,n.escaped=!0)};ft.encloseBrace=e=>e.type!=="brace"?!1:e.commas>>0+e.ranges>>0===0?(e.invalid=!0,!0):!1;ft.isInvalidBrace=e=>e.type!=="brace"?!1:e.invalid===!0||e.dollar?!0:e.commas>>0+e.ranges>>0===0||e.open!==!0||e.close!==!0?(e.invalid=!0,!0):!1;ft.isOpenOrClose=e=>e.type==="open"||e.type==="close"?!0:e.open===!0||e.close===!0;ft.reduce=e=>e.reduce((t,r)=>(r.type==="text"&&t.push(r.value),r.type==="range"&&(r.type="text"),t),[]);ft.flatten=(...e)=>{let t=[],r=n=>{for(let i=0;i<n.length;i++){let a=n[i];Array.isArray(a)?r(a,t):a!==void 0&&t.push(a)}return t};return r(e),t}});var gs=_((Bj,mv)=>{"use strict";var pv=ms();mv.exports=(e,t={})=>{let r=(n,i={})=>{let a=t.escapeInvalid&&pv.isInvalidBrace(i),s=n.invalid===!0&&t.escapeInvalid===!0,c="";if(n.value)return(a||s)&&pv.isOpenOrClose(n)?"\\"+n.value:n.value;if(n.value)return n.value;if(n.nodes)for(let l of n.nodes)c+=r(l);return c};return r(e)}});var yv=_(($j,gv)=>{"use strict";gv.exports=function(e){return typeof e=="number"?e-e===0:typeof e=="string"&&e.trim()!==""?Number.isFinite?Number.isFinite(+e):isFinite(+e):!1}});var Pv=_((Gj,Av)=>{"use strict";var bv=yv(),nn=(e,t,r)=>{if(bv(e)===!1)throw new TypeError("toRegexRange: expected the first argument to be a number");if(t===void 0||e===t)return String(e);if(bv(t)===!1)throw new TypeError("toRegexRange: expected the second argument to be a number.");let n=j({relaxZeros:!0},r);typeof n.strictZeros=="boolean"&&(n.relaxZeros=n.strictZeros===!1);let i=String(n.relaxZeros),a=String(n.shorthand),s=String(n.capture),c=String(n.wrap),l=e+":"+t+"="+i+a+s+c;if(nn.cache.hasOwnProperty(l))return nn.cache[l].result;let f=Math.min(e,t),d=Math.max(e,t);if(Math.abs(f-d)===1){let S=e+"|"+t;return n.capture?`(${S})`:n.wrap===!1?S:`(?:${S})`}let m=Rv(e)||Rv(t),p={min:e,max:t,a:f,b:d},y=[],g=[];if(m&&(p.isPadded=m,p.maxLen=String(p.max).length),f<0){let S=d<0?Math.abs(d):1;g=vv(S,Math.abs(f),p,n),f=p.a=0}return d>=0&&(y=vv(f,d,p,n)),p.negatives=g,p.positives=y,p.result=Qk(g,y,n),n.capture===!0?p.result=`(${p.result})`:n.wrap!==!1&&y.length+g.length>1&&(p.result=`(?:${p.result})`),nn.cache[l]=p,p.result};function Qk(e,t,r){let n=Dl(e,t,"-",!1,r)||[],i=Dl(t,e,"",!1,r)||[],a=Dl(e,t,"-?",!0,r)||[];return n.concat(a).concat(i).join("|")}function Kk(e,t){let r=1,n=1,i=_v(e,r),a=new Set([t]);for(;e<=i&&i<=t;)a.add(i),r+=1,i=_v(e,r);for(i=wv(t+1,n)-1;e<i&&i<=t;)a.add(i),n+=1,i=wv(t+1,n)-1;return a=[...a],a.sort(Jk),a}function Xk(e,t,r){if(e===t)return{pattern:e,count:[],digits:0};let n=Zk(e,t),i=n.length,a="",s=0;for(let c=0;c<i;c++){let[l,f]=n[c];l===f?a+=l:l!=="0"||f!=="9"?a+=eD(l,f,r):s++}return s&&(a+=r.shorthand===!0?"\\d":"[0-9]"),{pattern:a,count:[s],digits:i}}function vv(e,t,r,n){let i=Kk(e,t),a=[],s=e,c;for(let l=0;l<i.length;l++){let f=i[l],d=Xk(String(s),String(f),n),m="";if(!r.isPadded&&c&&c.pattern===d.pattern){c.count.length>1&&c.count.pop(),c.count.push(d.count[0]),c.string=c.pattern+Ev(c.count),s=f+1;continue}r.isPadded&&(m=tD(f,r,n)),d.string=m+d.pattern+Ev(d.count),a.push(d),s=f+1,c=d}return a}function Dl(e,t,r,n,i){let a=[];for(let s of e){let{string:c}=s;!n&&!Sv(t,"string",c)&&a.push(r+c),n&&Sv(t,"string",c)&&a.push(r+c)}return a}function Zk(e,t){let r=[];for(let n=0;n<e.length;n++)r.push([e[n],t[n]]);return r}function Jk(e,t){return e>t?1:t>e?-1:0}function Sv(e,t,r){return e.some(n=>n[t]===r)}function _v(e,t){return Number(String(e).slice(0,-t)+"9".repeat(t))}function wv(e,t){return e-e%Math.pow(10,t)}function Ev(e){let[t=0,r=""]=e;return r||t>1?`{${t+(r?","+r:"")}}`:""}function eD(e,t,r){return`[${e}${t-e===1?"":"-"}${t}]`}function Rv(e){return/^-?(0+)\d/.test(e)}function tD(e,t,r){if(!t.isPadded)return e;let n=Math.abs(t.maxLen-String(e).length),i=r.relaxZeros!==!1;switch(n){case 0:return"";case 1:return i?"0?":"0";case 2:return i?"0{0,2}":"00";default:return i?`0{0,${n}}`:`0{${n}}`}}nn.cache={};nn.clearCache=()=>nn.cache={};Av.exports=nn});var Ml=_((Wj,Lv)=>{"use strict";var rD=require("util"),xv=Pv(),Tv=e=>e!==null&&typeof e=="object"&&!Array.isArray(e),nD=e=>t=>e===!0?Number(t):String(t),Ll=e=>typeof e=="number"||typeof e=="string"&&e!=="",la=e=>Number.isInteger(+e),Fl=e=>{let t=`${e}`,r=-1;if(t[0]==="-"&&(t=t.slice(1)),t==="0")return!1;for(;t[++r]==="0";);return r>0},iD=(e,t,r)=>typeof e=="string"||typeof t=="string"?!0:r.stringify===!0,aD=(e,t,r)=>{if(t>0){let n=e[0]==="-"?"-":"";n&&(e=e.slice(1)),e=n+e.padStart(n?t-1:t,"0")}return r===!1?String(e):e},Ov=(e,t)=>{let r=e[0]==="-"?"-":"";for(r&&(e=e.slice(1),t--);e.length<t;)e="0"+e;return r?"-"+e:e},oD=(e,t)=>{e.negatives.sort((s,c)=>s<c?-1:s>c?1:0),e.positives.sort((s,c)=>s<c?-1:s>c?1:0);let r=t.capture?"":"?:",n="",i="",a;return e.positives.length&&(n=e.positives.join("|")),e.negatives.length&&(i=`-(${r}${e.negatives.join("|")})`),n&&i?a=`${n}|${i}`:a=n||i,t.wrap?`(${r}${a})`:a},Cv=(e,t,r,n)=>{if(r)return xv(e,t,j({wrap:!1},n));let i=String.fromCharCode(e);if(e===t)return i;let a=String.fromCharCode(t);return`[${i}-${a}]`},Iv=(e,t,r)=>{if(Array.isArray(e)){let n=r.wrap===!0,i=r.capture?"":"?:";return n?`(${i}${e.join("|")})`:e.join("|")}return xv(e,t,r)},kv=(...e)=>new RangeError("Invalid range arguments: "+rD.inspect(...e)),Dv=(e,t,r)=>{if(r.strictRanges===!0)throw kv([e,t]);return[]},sD=(e,t)=>{if(t.strictRanges===!0)throw new TypeError(`Expected step "${e}" to be a number`);return[]},uD=(e,t,r=1,n={})=>{let i=Number(e),a=Number(t);if(!Number.isInteger(i)||!Number.isInteger(a)){if(n.strictRanges===!0)throw kv([e,t]);return[]}i===0&&(i=0),a===0&&(a=0);let s=i>a,c=String(e),l=String(t),f=String(r);r=Math.max(Math.abs(r),1);let d=Fl(c)||Fl(l)||Fl(f),m=d?Math.max(c.length,l.length,f.length):0,p=d===!1&&iD(e,t,n)===!1,y=n.transform||nD(p);if(n.toRegex&&r===1)return Cv(Ov(e,m),Ov(t,m),!0,n);let g={negatives:[],positives:[]},S=O=>g[O<0?"negatives":"positives"].push(Math.abs(O)),v=[],A=0;for(;s?i>=a:i<=a;)n.toRegex===!0&&r>1?S(i):v.push(aD(y(i,A),m,p)),i=s?i-r:i+r,A++;return n.toRegex===!0?r>1?oD(g,n):Iv(v,null,j({wrap:!1},n)):v},cD=(e,t,r=1,n={})=>{if(!la(e)&&e.length>1||!la(t)&&t.length>1)return Dv(e,t,n);let i=n.transform||(p=>String.fromCharCode(p)),a=`${e}`.charCodeAt(0),s=`${t}`.charCodeAt(0),c=a>s,l=Math.min(a,s),f=Math.max(a,s);if(n.toRegex&&r===1)return Cv(l,f,!1,n);let d=[],m=0;for(;c?a>=s:a<=s;)d.push(i(a,m)),a=c?a-r:a+r,m++;return n.toRegex===!0?Iv(d,null,{wrap:!1,options:n}):d},ys=(e,t,r,n={})=>{if(t==null&&Ll(e))return[e];if(!Ll(e)||!Ll(t))return Dv(e,t,n);if(typeof r=="function")return ys(e,t,1,{transform:r});if(Tv(r))return ys(e,t,0,r);let i=j({},n);return i.capture===!0&&(i.wrap=!0),r=r||i.step||1,la(r)?la(e)&&la(t)?uD(e,t,r,i):cD(e,t,Math.max(Math.abs(r),1),i):r!=null&&!Tv(r)?sD(r,i):ys(e,t,1,r)};Lv.exports=ys});var qv=_((jj,Mv)=>{"use strict";var lD=Ml(),Fv=ms(),fD=(e,t={})=>{let r=(n,i={})=>{let a=Fv.isInvalidBrace(i),s=n.invalid===!0&&t.escapeInvalid===!0,c=a===!0||s===!0,l=t.escapeInvalid===!0?"\\":"",f="";if(n.isOpen===!0||n.isClose===!0)return l+n.value;if(n.type==="open")return c?l+n.value:"(";if(n.type==="close")return c?l+n.value:")";if(n.type==="comma")return n.prev.type==="comma"?"":c?n.value:"|";if(n.value)return n.value;if(n.nodes&&n.ranges>0){let d=Fv.reduce(n.nodes),m=lD(...d,ue(j({},t),{wrap:!1,toRegex:!0}));if(m.length!==0)return d.length>1&&m.length>1?`(${m})`:m}if(n.nodes)for(let d of n.nodes)f+=r(d,n);return f};return r(e)};Mv.exports=fD});var $v=_((Uj,Bv)=>{"use strict";var dD=Ml(),Nv=gs(),ti=ms(),an=(e="",t="",r=!1)=>{let n=[];if(e=[].concat(e),t=[].concat(t),!t.length)return e;if(!e.length)return r?ti.flatten(t).map(i=>`{${i}}`):t;for(let i of e)if(Array.isArray(i))for(let a of i)n.push(an(a,t,r));else for(let a of t)r===!0&&typeof a=="string"&&(a=`{${a}}`),n.push(Array.isArray(a)?an(i,a,r):i+a);return ti.flatten(n)},hD=(e,t={})=>{let r=t.rangeLimit===void 0?1e3:t.rangeLimit,n=(i,a={})=>{i.queue=[];let s=a,c=a.queue;for(;s.type!=="brace"&&s.type!=="root"&&s.parent;)s=s.parent,c=s.queue;if(i.invalid||i.dollar){c.push(an(c.pop(),Nv(i,t)));return}if(i.type==="brace"&&i.invalid!==!0&&i.nodes.length===2){c.push(an(c.pop(),["{}"]));return}if(i.nodes&&i.ranges>0){let m=ti.reduce(i.nodes);if(ti.exceedsLimit(...m,t.step,r))throw new RangeError("expanded array length exceeds range limit. Use options.rangeLimit to increase or disable the limit.");let p=dD(...m,t);p.length===0&&(p=Nv(i,t)),c.push(an(c.pop(),p)),i.nodes=[];return}let l=ti.encloseBrace(i),f=i.queue,d=i;for(;d.type!=="brace"&&d.type!=="root"&&d.parent;)d=d.parent,f=d.queue;for(let m=0;m<i.nodes.length;m++){let p=i.nodes[m];if(p.type==="comma"&&i.type==="brace"){m===1&&f.push(""),f.push("");continue}if(p.type==="close"){c.push(an(c.pop(),f,l));continue}if(p.value&&p.type!=="open"){f.push(an(f.pop(),p.value));continue}p.nodes&&n(p,i)}return f};return ti.flatten(n(e))};Bv.exports=hD});var Wv=_((Hj,Gv)=>{"use strict";Gv.exports={MAX_LENGTH:1024*64,CHAR_0:"0",CHAR_9:"9",CHAR_UPPERCASE_A:"A",CHAR_LOWERCASE_A:"a",CHAR_UPPERCASE_Z:"Z",CHAR_LOWERCASE_Z:"z",CHAR_LEFT_PARENTHESES:"(",CHAR_RIGHT_PARENTHESES:")",CHAR_ASTERISK:"*",CHAR_AMPERSAND:"&",CHAR_AT:"@",CHAR_BACKSLASH:"\\",CHAR_BACKTICK:"`",CHAR_CARRIAGE_RETURN:"\r",CHAR_CIRCUMFLEX_ACCENT:"^",CHAR_COLON:":",CHAR_COMMA:",",CHAR_DOLLAR:"$",CHAR_DOT:".",CHAR_DOUBLE_QUOTE:'"',CHAR_EQUAL:"=",CHAR_EXCLAMATION_MARK:"!",CHAR_FORM_FEED:"\f",CHAR_FORWARD_SLASH:"/",CHAR_HASH:"#",CHAR_HYPHEN_MINUS:"-",CHAR_LEFT_ANGLE_BRACKET:"<",CHAR_LEFT_CURLY_BRACE:"{",CHAR_LEFT_SQUARE_BRACKET:"[",CHAR_LINE_FEED:`
`,CHAR_NO_BREAK_SPACE:"\xA0",CHAR_PERCENT:"%",CHAR_PLUS:"+",CHAR_QUESTION_MARK:"?",CHAR_RIGHT_ANGLE_BRACKET:">",CHAR_RIGHT_CURLY_BRACE:"}",CHAR_RIGHT_SQUARE_BRACKET:"]",CHAR_SEMICOLON:";",CHAR_SINGLE_QUOTE:"'",CHAR_SPACE:" ",CHAR_TAB:"	",CHAR_UNDERSCORE:"_",CHAR_VERTICAL_LINE:"|",CHAR_ZERO_WIDTH_NOBREAK_SPACE:"\uFEFF"}});var Yv=_((zj,zv)=>{"use strict";var pD=gs(),{MAX_LENGTH:jv,CHAR_BACKSLASH:ql,CHAR_BACKTICK:mD,CHAR_COMMA:gD,CHAR_DOT:yD,CHAR_LEFT_PARENTHESES:bD,CHAR_RIGHT_PARENTHESES:vD,CHAR_LEFT_CURLY_BRACE:SD,CHAR_RIGHT_CURLY_BRACE:_D,CHAR_LEFT_SQUARE_BRACKET:Uv,CHAR_RIGHT_SQUARE_BRACKET:Hv,CHAR_DOUBLE_QUOTE:wD,CHAR_SINGLE_QUOTE:ED,CHAR_NO_BREAK_SPACE:RD,CHAR_ZERO_WIDTH_NOBREAK_SPACE:AD}=Wv(),PD=(e,t={})=>{if(typeof e!="string")throw new TypeError("Expected a string");let r=t||{},n=typeof r.maxLength=="number"?Math.min(jv,r.maxLength):jv;if(e.length>n)throw new SyntaxError(`Input length (${e.length}), exceeds max characters (${n})`);let i={type:"root",input:e,nodes:[]},a=[i],s=i,c=i,l=0,f=e.length,d=0,m=0,p,y={},g=()=>e[d++],S=v=>{if(v.type==="text"&&c.type==="dot"&&(c.type="text"),c&&c.type==="text"&&v.type==="text"){c.value+=v.value;return}return s.nodes.push(v),v.parent=s,v.prev=c,c=v,v};for(S({type:"bos"});d<f;)if(s=a[a.length-1],p=g(),!(p===AD||p===RD)){if(p===ql){S({type:"text",value:(t.keepEscaping?p:"")+g()});continue}if(p===Hv){S({type:"text",value:"\\"+p});continue}if(p===Uv){l++;let v=!0,A;for(;d<f&&(A=g());){if(p+=A,A===Uv){l++;continue}if(A===ql){p+=g();continue}if(A===Hv&&(l--,l===0))break}S({type:"text",value:p});continue}if(p===bD){s=S({type:"paren",nodes:[]}),a.push(s),S({type:"text",value:p});continue}if(p===vD){if(s.type!=="paren"){S({type:"text",value:p});continue}s=a.pop(),S({type:"text",value:p}),s=a[a.length-1];continue}if(p===wD||p===ED||p===mD){let v=p,A;for(t.keepQuotes!==!0&&(p="");d<f&&(A=g());){if(A===ql){p+=A+g();continue}if(A===v){t.keepQuotes===!0&&(p+=A);break}p+=A}S({type:"text",value:p});continue}if(p===SD){m++;let v=c.value&&c.value.slice(-1)==="$"||s.dollar===!0;s=S({type:"brace",open:!0,close:!1,dollar:v,depth:m,commas:0,ranges:0,nodes:[]}),a.push(s),S({type:"open",value:p});continue}if(p===_D){if(s.type!=="brace"){S({type:"text",value:p});continue}let v="close";s=a.pop(),s.close=!0,S({type:v,value:p}),m--,s=a[a.length-1];continue}if(p===gD&&m>0){if(s.ranges>0){s.ranges=0;let v=s.nodes.shift();s.nodes=[v,{type:"text",value:pD(s)}]}S({type:"comma",value:p}),s.commas++;continue}if(p===yD&&m>0&&s.commas===0){let v=s.nodes;if(m===0||v.length===0){S({type:"text",value:p});continue}if(c.type==="dot"){if(s.range=[],c.value+=p,c.type="range",s.nodes.length!==3&&s.nodes.length!==5){s.invalid=!0,s.ranges=0,c.type="text";continue}s.ranges++,s.args=[];continue}if(c.type==="range"){v.pop();let A=v[v.length-1];A.value+=c.value+p,c=A,s.ranges--;continue}S({type:"dot",value:p});continue}S({type:"text",value:p})}do if(s=a.pop(),s.type!=="root"){s.nodes.forEach(O=>{O.nodes||(O.type==="open"&&(O.isOpen=!0),O.type==="close"&&(O.isClose=!0),O.nodes||(O.type="text"),O.invalid=!0)});let v=a[a.length-1],A=v.nodes.indexOf(s);v.nodes.splice(A,1,...s.nodes)}while(a.length>0);return S({type:"eos"}),i};zv.exports=PD});var Kv=_((Yj,Qv)=>{"use strict";var Vv=gs(),TD=qv(),OD=$v(),xD=Yv(),it=(e,t={})=>{let r=[];if(Array.isArray(e))for(let n of e){let i=it.create(n,t);Array.isArray(i)?r.push(...i):r.push(i)}else r=[].concat(it.create(e,t));return t&&t.expand===!0&&t.nodupes===!0&&(r=[...new Set(r)]),r};it.parse=(e,t={})=>xD(e,t);it.stringify=(e,t={})=>Vv(typeof e=="string"?it.parse(e,t):e,t);it.compile=(e,t={})=>(typeof e=="string"&&(e=it.parse(e,t)),TD(e,t));it.expand=(e,t={})=>{typeof e=="string"&&(e=it.parse(e,t));let r=OD(e,t);return t.noempty===!0&&(r=r.filter(Boolean)),t.nodupes===!0&&(r=[...new Set(r)]),r};it.create=(e,t={})=>e===""||e.length<3?[e]:t.expand!==!0?it.compile(e,t):it.expand(e,t);Qv.exports=it});var fa=_((Vj,tS)=>{"use strict";var CD=require("path"),Ft="\\\\/",Xv=`[^${Ft}]`,Xt="\\.",ID="\\+",kD="\\?",bs="\\/",DD="(?=.)",Zv="[^/]",Nl=`(?:${bs}|$)`,Jv=`(?:^|${bs})`,Bl=`${Xt}{1,2}${Nl}`,LD=`(?!${Xt})`,FD=`(?!${Jv}${Bl})`,MD=`(?!${Xt}{0,1}${Nl})`,qD=`(?!${Bl})`,ND=`[^.${bs}]`,BD=`${Zv}*?`,eS={DOT_LITERAL:Xt,PLUS_LITERAL:ID,QMARK_LITERAL:kD,SLASH_LITERAL:bs,ONE_CHAR:DD,QMARK:Zv,END_ANCHOR:Nl,DOTS_SLASH:Bl,NO_DOT:LD,NO_DOTS:FD,NO_DOT_SLASH:MD,NO_DOTS_SLASH:qD,QMARK_NO_DOT:ND,STAR:BD,START_ANCHOR:Jv},$D=ue(j({},eS),{SLASH_LITERAL:`[${Ft}]`,QMARK:Xv,STAR:`${Xv}*?`,DOTS_SLASH:`${Xt}{1,2}(?:[${Ft}]|$)`,NO_DOT:`(?!${Xt})`,NO_DOTS:`(?!(?:^|[${Ft}])${Xt}{1,2}(?:[${Ft}]|$))`,NO_DOT_SLASH:`(?!${Xt}{0,1}(?:[${Ft}]|$))`,NO_DOTS_SLASH:`(?!${Xt}{1,2}(?:[${Ft}]|$))`,QMARK_NO_DOT:`[^.${Ft}]`,START_ANCHOR:`(?:^|[${Ft}])`,END_ANCHOR:`(?:[${Ft}]|$)`}),GD={alnum:"a-zA-Z0-9",alpha:"a-zA-Z",ascii:"\\x00-\\x7F",blank:" \\t",cntrl:"\\x00-\\x1F\\x7F",digit:"0-9",graph:"\\x21-\\x7E",lower:"a-z",print:"\\x20-\\x7E ",punct:"\\-!\"#$%&'()\\*+,./:;<=>?@[\\]^_`{|}~",space:" \\t\\r\\n\\v\\f",upper:"A-Z",word:"A-Za-z0-9_",xdigit:"A-Fa-f0-9"};tS.exports={MAX_LENGTH:1024*64,POSIX_REGEX_SOURCE:GD,REGEX_BACKSLASH:/\\(?![*+?^${}(|)[\]])/g,REGEX_NON_SPECIAL_CHARS:/^[^@![\].,$*+?^{}()|\\/]+/,REGEX_SPECIAL_CHARS:/[-*+?.^${}(|)[\]]/,REGEX_SPECIAL_CHARS_BACKREF:/(\\?)((\W)(\3*))/g,REGEX_SPECIAL_CHARS_GLOBAL:/([-*+?.^${}(|)[\]])/g,REGEX_REMOVE_BACKSLASH:/(?:\[.*?[^\\]\]|\\(?=.))/g,REPLACEMENTS:{"***":"*","**/**":"**","**/**/**":"**"},CHAR_0:48,CHAR_9:57,CHAR_UPPERCASE_A:65,CHAR_LOWERCASE_A:97,CHAR_UPPERCASE_Z:90,CHAR_LOWERCASE_Z:122,CHAR_LEFT_PARENTHESES:40,CHAR_RIGHT_PARENTHESES:41,CHAR_ASTERISK:42,CHAR_AMPERSAND:38,CHAR_AT:64,CHAR_BACKWARD_SLASH:92,CHAR_CARRIAGE_RETURN:13,CHAR_CIRCUMFLEX_ACCENT:94,CHAR_COLON:58,CHAR_COMMA:44,CHAR_DOT:46,CHAR_DOUBLE_QUOTE:34,CHAR_EQUAL:61,CHAR_EXCLAMATION_MARK:33,CHAR_FORM_FEED:12,CHAR_FORWARD_SLASH:47,CHAR_GRAVE_ACCENT:96,CHAR_HASH:35,CHAR_HYPHEN_MINUS:45,CHAR_LEFT_ANGLE_BRACKET:60,CHAR_LEFT_CURLY_BRACE:123,CHAR_LEFT_SQUARE_BRACKET:91,CHAR_LINE_FEED:10,CHAR_NO_BREAK_SPACE:160,CHAR_PERCENT:37,CHAR_PLUS:43,CHAR_QUESTION_MARK:63,CHAR_RIGHT_ANGLE_BRACKET:62,CHAR_RIGHT_CURLY_BRACE:125,CHAR_RIGHT_SQUARE_BRACKET:93,CHAR_SEMICOLON:59,CHAR_SINGLE_QUOTE:39,CHAR_SPACE:32,CHAR_TAB:9,CHAR_UNDERSCORE:95,CHAR_VERTICAL_LINE:124,CHAR_ZERO_WIDTH_NOBREAK_SPACE:65279,SEP:CD.sep,extglobChars(e){return{"!":{type:"negate",open:"(?:(?!(?:",close:`))${e.STAR})`},"?":{type:"qmark",open:"(?:",close:")?"},"+":{type:"plus",open:"(?:",close:")+"},"*":{type:"star",open:"(?:",close:")*"},"@":{type:"at",open:"(?:",close:")"}}},globChars(e){return e===!0?$D:eS}}});var da=_(Je=>{"use strict";var WD=require("path"),jD=process.platform==="win32",{REGEX_BACKSLASH:UD,REGEX_REMOVE_BACKSLASH:HD,REGEX_SPECIAL_CHARS:zD,REGEX_SPECIAL_CHARS_GLOBAL:YD}=fa();Je.isObject=e=>e!==null&&typeof e=="object"&&!Array.isArray(e);Je.hasRegexChars=e=>zD.test(e);Je.isRegexChar=e=>e.length===1&&Je.hasRegexChars(e);Je.escapeRegex=e=>e.replace(YD,"\\$1");Je.toPosixSlashes=e=>e.replace(UD,"/");Je.removeBackslashes=e=>e.replace(HD,t=>t==="\\"?"":t);Je.supportsLookbehinds=()=>{let e=process.version.slice(1).split(".").map(Number);return e.length===3&&e[0]>=9||e[0]===8&&e[1]>=10};Je.isWindows=e=>e&&typeof e.windows=="boolean"?e.windows:jD===!0||WD.sep==="\\";Je.escapeLast=(e,t,r)=>{let n=e.lastIndexOf(t,r);return n===-1?e:e[n-1]==="\\"?Je.escapeLast(e,t,n-1):`${e.slice(0,n)}\\${e.slice(n)}`};Je.removePrefix=(e,t={})=>{let r=e;return r.startsWith("./")&&(r=r.slice(2),t.prefix="./"),r};Je.wrapOutput=(e,t={},r={})=>{let n=r.contains?"":"^",i=r.contains?"":"$",a=`${n}(?:${e})${i}`;return t.negated===!0&&(a=`(?:^(?!${a}).*$)`),a}});var cS=_((Kj,uS)=>{"use strict";var rS=da(),{CHAR_ASTERISK:$l,CHAR_AT:VD,CHAR_BACKWARD_SLASH:ha,CHAR_COMMA:QD,CHAR_DOT:Gl,CHAR_EXCLAMATION_MARK:Wl,CHAR_FORWARD_SLASH:sS,CHAR_LEFT_CURLY_BRACE:jl,CHAR_LEFT_PARENTHESES:Ul,CHAR_LEFT_SQUARE_BRACKET:KD,CHAR_PLUS:XD,CHAR_QUESTION_MARK:nS,CHAR_RIGHT_CURLY_BRACE:ZD,CHAR_RIGHT_PARENTHESES:iS,CHAR_RIGHT_SQUARE_BRACKET:JD}=fa(),aS=e=>e===sS||e===ha,oS=e=>{e.isPrefix!==!0&&(e.depth=e.isGlobstar?1/0:1)},e1=(e,t)=>{let r=t||{},n=e.length-1,i=r.parts===!0||r.scanToEnd===!0,a=[],s=[],c=[],l=e,f=-1,d=0,m=0,p=!1,y=!1,g=!1,S=!1,v=!1,A=!1,O=!1,F=!1,k=!1,I=!1,M=0,q,T,D={value:"",depth:0,isGlob:!1},B=()=>f>=n,P=()=>l.charCodeAt(f+1),G=()=>(q=T,l.charCodeAt(++f));for(;f<n;){T=G();let K;if(T===ha){O=D.backslashes=!0,T=G(),T===jl&&(A=!0);continue}if(A===!0||T===jl){for(M++;B()!==!0&&(T=G());){if(T===ha){O=D.backslashes=!0,G();continue}if(T===jl){M++;continue}if(A!==!0&&T===Gl&&(T=G())===Gl){if(p=D.isBrace=!0,g=D.isGlob=!0,I=!0,i===!0)continue;break}if(A!==!0&&T===QD){if(p=D.isBrace=!0,g=D.isGlob=!0,I=!0,i===!0)continue;break}if(T===ZD&&(M--,M===0)){A=!1,p=D.isBrace=!0,I=!0;break}}if(i===!0)continue;break}if(T===sS){if(a.push(f),s.push(D),D={value:"",depth:0,isGlob:!1},I===!0)continue;if(q===Gl&&f===d+1){d+=2;continue}m=f+1;continue}if(r.noext!==!0&&(T===XD||T===VD||T===$l||T===nS||T===Wl)===!0&&P()===Ul){if(g=D.isGlob=!0,S=D.isExtglob=!0,I=!0,T===Wl&&f===d&&(k=!0),i===!0){for(;B()!==!0&&(T=G());){if(T===ha){O=D.backslashes=!0,T=G();continue}if(T===iS){g=D.isGlob=!0,I=!0;break}}continue}break}if(T===$l){if(q===$l&&(v=D.isGlobstar=!0),g=D.isGlob=!0,I=!0,i===!0)continue;break}if(T===nS){if(g=D.isGlob=!0,I=!0,i===!0)continue;break}if(T===KD){for(;B()!==!0&&(K=G());){if(K===ha){O=D.backslashes=!0,G();continue}if(K===JD){y=D.isBracket=!0,g=D.isGlob=!0,I=!0;break}}if(i===!0)continue;break}if(r.nonegate!==!0&&T===Wl&&f===d){F=D.negated=!0,d++;continue}if(r.noparen!==!0&&T===Ul){if(g=D.isGlob=!0,i===!0){for(;B()!==!0&&(T=G());){if(T===Ul){O=D.backslashes=!0,T=G();continue}if(T===iS){I=!0;break}}continue}break}if(g===!0){if(I=!0,i===!0)continue;break}}r.noext===!0&&(S=!1,g=!1);let N=l,H="",R="";d>0&&(H=l.slice(0,d),l=l.slice(d),m-=d),N&&g===!0&&m>0?(N=l.slice(0,m),R=l.slice(m)):g===!0?(N="",R=l):N=l,N&&N!==""&&N!=="/"&&N!==l&&aS(N.charCodeAt(N.length-1))&&(N=N.slice(0,-1)),r.unescape===!0&&(R&&(R=rS.removeBackslashes(R)),N&&O===!0&&(N=rS.removeBackslashes(N)));let E={prefix:H,input:e,start:d,base:N,glob:R,isBrace:p,isBracket:y,isGlob:g,isExtglob:S,isGlobstar:v,negated:F,negatedExtglob:k};if(r.tokens===!0&&(E.maxDepth=0,aS(T)||s.push(D),E.tokens=s),r.parts===!0||r.tokens===!0){let K;for(let U=0;U<a.length;U++){let Oe=K?K+1:d,Be=a[U],Ae=e.slice(Oe,Be);r.tokens&&(U===0&&d!==0?(s[U].isPrefix=!0,s[U].value=H):s[U].value=Ae,oS(s[U]),E.maxDepth+=s[U].depth),(U!==0||Ae!=="")&&c.push(Ae),K=Be}if(K&&K+1<e.length){let U=e.slice(K+1);c.push(U),r.tokens&&(s[s.length-1].value=U,oS(s[s.length-1]),E.maxDepth+=s[s.length-1].depth)}E.slashes=a,E.parts=c}return E};uS.exports=e1});var dS=_((Xj,fS)=>{"use strict";var vs=fa(),at=da(),{MAX_LENGTH:Ss,POSIX_REGEX_SOURCE:t1,REGEX_NON_SPECIAL_CHARS:r1,REGEX_SPECIAL_CHARS_BACKREF:n1,REPLACEMENTS:lS}=vs,i1=(e,t)=>{if(typeof t.expandRange=="function")return t.expandRange(...e,t);e.sort();let r=`[${e.join("-")}]`;try{new RegExp(r)}catch{return e.map(i=>at.escapeRegex(i)).join("..")}return r},ri=(e,t)=>`Missing ${e}: "${t}" - use "\\\\${t}" to match literal characters`,Hl=(e,t)=>{if(typeof e!="string")throw new TypeError("Expected a string");e=lS[e]||e;let r=j({},t),n=typeof r.maxLength=="number"?Math.min(Ss,r.maxLength):Ss,i=e.length;if(i>n)throw new SyntaxError(`Input length: ${i}, exceeds maximum allowed length: ${n}`);let a={type:"bos",value:"",output:r.prepend||""},s=[a],c=r.capture?"":"?:",l=at.isWindows(t),f=vs.globChars(l),d=vs.extglobChars(f),{DOT_LITERAL:m,PLUS_LITERAL:p,SLASH_LITERAL:y,ONE_CHAR:g,DOTS_SLASH:S,NO_DOT:v,NO_DOT_SLASH:A,NO_DOTS_SLASH:O,QMARK:F,QMARK_NO_DOT:k,STAR:I,START_ANCHOR:M}=f,q=$=>`(${c}(?:(?!${M}${$.dot?S:m}).)*?)`,T=r.dot?"":v,D=r.dot?F:k,B=r.bash===!0?q(r):I;r.capture&&(B=`(${B})`),typeof r.noext=="boolean"&&(r.noextglob=r.noext);let P={input:e,index:-1,start:0,dot:r.dot===!0,consumed:"",output:"",prefix:"",backtrack:!1,negated:!1,brackets:0,braces:0,parens:0,quotes:0,globstar:!1,tokens:s};e=at.removePrefix(e,P),i=e.length;let G=[],N=[],H=[],R=a,E,K=()=>P.index===i-1,U=P.peek=($=1)=>e[P.index+$],Oe=P.advance=()=>e[++P.index]||"",Be=()=>e.slice(P.index+1),Ae=($="",ee=0)=>{P.consumed+=$,P.index+=ee},st=$=>{P.output+=$.output!=null?$.output:$.value,Ae($.value)},_a=()=>{let $=1;for(;U()==="!"&&(U(2)!=="("||U(3)==="?");)Oe(),P.start++,$++;return $%2===0?!1:(P.negated=!0,P.start++,!0)},bn=$=>{P[$]++,H.push($)},Bt=$=>{P[$]--,H.pop()},Y=$=>{if(R.type==="globstar"){let ee=P.braces>0&&($.type==="comma"||$.type==="brace"),L=$.extglob===!0||G.length&&($.type==="pipe"||$.type==="paren");$.type!=="slash"&&$.type!=="paren"&&!ee&&!L&&(P.output=P.output.slice(0,-R.output.length),R.type="star",R.value="*",R.output=B,P.output+=R.output)}if(G.length&&$.type!=="paren"&&(G[G.length-1].inner+=$.value),($.value||$.output)&&st($),R&&R.type==="text"&&$.type==="text"){R.value+=$.value,R.output=(R.output||"")+$.value;return}$.prev=R,s.push($),R=$},$e=($,ee)=>{let L=ue(j({},d[ee]),{conditions:1,inner:""});L.prev=R,L.parens=P.parens,L.output=P.output;let Q=(r.capture?"(":"")+L.open;bn("parens"),Y({type:$,value:ee,output:P.output?"":g}),Y({type:"paren",extglob:!0,value:Oe(),output:Q}),G.push(L)},ou=$=>{let ee=$.close+(r.capture?")":""),L;if($.type==="negate"){let Q=B;if($.inner&&$.inner.length>1&&$.inner.includes("/")&&(Q=q(r)),(Q!==B||K()||/^\)+$/.test(Be()))&&(ee=$.close=`)$))${Q}`),$.inner.includes("*")&&(L=Be())&&/^\.[^\\/.]+$/.test(L)){let he=Hl(L,ue(j({},t),{fastpaths:!1})).output;ee=$.close=`)${he})${Q})`}$.prev.type==="bos"&&(P.negatedExtglob=!0)}Y({type:"paren",extglob:!0,value:E,output:ee}),Bt("parens")};if(r.fastpaths!==!1&&!/(^[*!]|[/()[\]{}"])/.test(e)){let $=!1,ee=e.replace(n1,(L,Q,he,ke,ve,kr)=>ke==="\\"?($=!0,L):ke==="?"?Q?Q+ke+(ve?F.repeat(ve.length):""):kr===0?D+(ve?F.repeat(ve.length):""):F.repeat(he.length):ke==="."?m.repeat(he.length):ke==="*"?Q?Q+ke+(ve?B:""):B:Q?L:`\\${L}`);return $===!0&&(r.unescape===!0?ee=ee.replace(/\\/g,""):ee=ee.replace(/\\+/g,L=>L.length%2===0?"\\\\":L?"\\":"")),ee===e&&r.contains===!0?(P.output=e,P):(P.output=at.wrapOutput(ee,P,t),P)}for(;!K();){if(E=Oe(),E==="\0")continue;if(E==="\\"){let L=U();if(L==="/"&&r.bash!==!0||L==="."||L===";")continue;if(!L){E+="\\",Y({type:"text",value:E});continue}let Q=/^\\+/.exec(Be()),he=0;if(Q&&Q[0].length>2&&(he=Q[0].length,P.index+=he,he%2!==0&&(E+="\\")),r.unescape===!0?E=Oe():E+=Oe(),P.brackets===0){Y({type:"text",value:E});continue}}if(P.brackets>0&&(E!=="]"||R.value==="["||R.value==="[^")){if(r.posix!==!1&&E===":"){let L=R.value.slice(1);if(L.includes("[")&&(R.posix=!0,L.includes(":"))){let Q=R.value.lastIndexOf("["),he=R.value.slice(0,Q),ke=R.value.slice(Q+2),ve=t1[ke];if(ve){R.value=he+ve,P.backtrack=!0,Oe(),!a.output&&s.indexOf(R)===1&&(a.output=g);continue}}}(E==="["&&U()!==":"||E==="-"&&U()==="]")&&(E=`\\${E}`),E==="]"&&(R.value==="["||R.value==="[^")&&(E=`\\${E}`),r.posix===!0&&E==="!"&&R.value==="["&&(E="^"),R.value+=E,st({value:E});continue}if(P.quotes===1&&E!=='"'){E=at.escapeRegex(E),R.value+=E,st({value:E});continue}if(E==='"'){P.quotes=P.quotes===1?0:1,r.keepQuotes===!0&&Y({type:"text",value:E});continue}if(E==="("){bn("parens"),Y({type:"paren",value:E});continue}if(E===")"){if(P.parens===0&&r.strictBrackets===!0)throw new SyntaxError(ri("opening","("));let L=G[G.length-1];if(L&&P.parens===L.parens+1){ou(G.pop());continue}Y({type:"paren",value:E,output:P.parens?")":"\\)"}),Bt("parens");continue}if(E==="["){if(r.nobracket===!0||!Be().includes("]")){if(r.nobracket!==!0&&r.strictBrackets===!0)throw new SyntaxError(ri("closing","]"));E=`\\${E}`}else bn("brackets");Y({type:"bracket",value:E});continue}if(E==="]"){if(r.nobracket===!0||R&&R.type==="bracket"&&R.value.length===1){Y({type:"text",value:E,output:`\\${E}`});continue}if(P.brackets===0){if(r.strictBrackets===!0)throw new SyntaxError(ri("opening","["));Y({type:"text",value:E,output:`\\${E}`});continue}Bt("brackets");let L=R.value.slice(1);if(R.posix!==!0&&L[0]==="^"&&!L.includes("/")&&(E=`/${E}`),R.value+=E,st({value:E}),r.literalBrackets===!1||at.hasRegexChars(L))continue;let Q=at.escapeRegex(R.value);if(P.output=P.output.slice(0,-R.value.length),r.literalBrackets===!0){P.output+=Q,R.value=Q;continue}R.value=`(${c}${Q}|${R.value})`,P.output+=R.value;continue}if(E==="{"&&r.nobrace!==!0){bn("braces");let L={type:"brace",value:E,output:"(",outputIndex:P.output.length,tokensIndex:P.tokens.length};N.push(L),Y(L);continue}if(E==="}"){let L=N[N.length-1];if(r.nobrace===!0||!L){Y({type:"text",value:E,output:E});continue}let Q=")";if(L.dots===!0){let he=s.slice(),ke=[];for(let ve=he.length-1;ve>=0&&(s.pop(),he[ve].type!=="brace");ve--)he[ve].type!=="dots"&&ke.unshift(he[ve].value);Q=i1(ke,r),P.backtrack=!0}if(L.comma!==!0&&L.dots!==!0){let he=P.output.slice(0,L.outputIndex),ke=P.tokens.slice(L.tokensIndex);L.value=L.output="\\{",E=Q="\\}",P.output=he;for(let ve of ke)P.output+=ve.output||ve.value}Y({type:"brace",value:E,output:Q}),Bt("braces"),N.pop();continue}if(E==="|"){G.length>0&&G[G.length-1].conditions++,Y({type:"text",value:E});continue}if(E===","){let L=E,Q=N[N.length-1];Q&&H[H.length-1]==="braces"&&(Q.comma=!0,L="|"),Y({type:"comma",value:E,output:L});continue}if(E==="/"){if(R.type==="dot"&&P.index===P.start+1){P.start=P.index+1,P.consumed="",P.output="",s.pop(),R=a;continue}Y({type:"slash",value:E,output:y});continue}if(E==="."){if(P.braces>0&&R.type==="dot"){R.value==="."&&(R.output=m);let L=N[N.length-1];R.type="dots",R.output+=E,R.value+=E,L.dots=!0;continue}if(P.braces+P.parens===0&&R.type!=="bos"&&R.type!=="slash"){Y({type:"text",value:E,output:m});continue}Y({type:"dot",value:E,output:m});continue}if(E==="?"){if(!(R&&R.value==="(")&&r.noextglob!==!0&&U()==="("&&U(2)!=="?"){$e("qmark",E);continue}if(R&&R.type==="paren"){let Q=U(),he=E;if(Q==="<"&&!at.supportsLookbehinds())throw new Error("Node.js v10 or higher is required for regex lookbehinds");(R.value==="("&&!/[!=<:]/.test(Q)||Q==="<"&&!/<([!=]|\w+>)/.test(Be()))&&(he=`\\${E}`),Y({type:"text",value:E,output:he});continue}if(r.dot!==!0&&(R.type==="slash"||R.type==="bos")){Y({type:"qmark",value:E,output:k});continue}Y({type:"qmark",value:E,output:F});continue}if(E==="!"){if(r.noextglob!==!0&&U()==="("&&(U(2)!=="?"||!/[!=<:]/.test(U(3)))){$e("negate",E);continue}if(r.nonegate!==!0&&P.index===0){_a();continue}}if(E==="+"){if(r.noextglob!==!0&&U()==="("&&U(2)!=="?"){$e("plus",E);continue}if(R&&R.value==="("||r.regex===!1){Y({type:"plus",value:E,output:p});continue}if(R&&(R.type==="bracket"||R.type==="paren"||R.type==="brace")||P.parens>0){Y({type:"plus",value:E});continue}Y({type:"plus",value:p});continue}if(E==="@"){if(r.noextglob!==!0&&U()==="("&&U(2)!=="?"){Y({type:"at",extglob:!0,value:E,output:""});continue}Y({type:"text",value:E});continue}if(E!=="*"){(E==="$"||E==="^")&&(E=`\\${E}`);let L=r1.exec(Be());L&&(E+=L[0],P.index+=L[0].length),Y({type:"text",value:E});continue}if(R&&(R.type==="globstar"||R.star===!0)){R.type="star",R.star=!0,R.value+=E,R.output=B,P.backtrack=!0,P.globstar=!0,Ae(E);continue}let $=Be();if(r.noextglob!==!0&&/^\([^?]/.test($)){$e("star",E);continue}if(R.type==="star"){if(r.noglobstar===!0){Ae(E);continue}let L=R.prev,Q=L.prev,he=L.type==="slash"||L.type==="bos",ke=Q&&(Q.type==="star"||Q.type==="globstar");if(r.bash===!0&&(!he||$[0]&&$[0]!=="/")){Y({type:"star",value:E,output:""});continue}let ve=P.braces>0&&(L.type==="comma"||L.type==="brace"),kr=G.length&&(L.type==="pipe"||L.type==="paren");if(!he&&L.type!=="paren"&&!ve&&!kr){Y({type:"star",value:E,output:""});continue}for(;$.slice(0,3)==="/**";){let mt=e[P.index+4];if(mt&&mt!=="/")break;$=$.slice(3),Ae("/**",3)}if(L.type==="bos"&&K()){R.type="globstar",R.value+=E,R.output=q(r),P.output=R.output,P.globstar=!0,Ae(E);continue}if(L.type==="slash"&&L.prev.type!=="bos"&&!ke&&K()){P.output=P.output.slice(0,-(L.output+R.output).length),L.output=`(?:${L.output}`,R.type="globstar",R.output=q(r)+(r.strictSlashes?")":"|$)"),R.value+=E,P.globstar=!0,P.output+=L.output+R.output,Ae(E);continue}if(L.type==="slash"&&L.prev.type!=="bos"&&$[0]==="/"){let mt=$[1]!==void 0?"|$":"";P.output=P.output.slice(0,-(L.output+R.output).length),L.output=`(?:${L.output}`,R.type="globstar",R.output=`${q(r)}${y}|${y}${mt})`,R.value+=E,P.output+=L.output+R.output,P.globstar=!0,Ae(E+Oe()),Y({type:"slash",value:"/",output:""});continue}if(L.type==="bos"&&$[0]==="/"){R.type="globstar",R.value+=E,R.output=`(?:^|${y}|${q(r)}${y})`,P.output=R.output,P.globstar=!0,Ae(E+Oe()),Y({type:"slash",value:"/",output:""});continue}P.output=P.output.slice(0,-R.output.length),R.type="globstar",R.output=q(r),R.value+=E,P.output+=R.output,P.globstar=!0,Ae(E);continue}let ee={type:"star",value:E,output:B};if(r.bash===!0){ee.output=".*?",(R.type==="bos"||R.type==="slash")&&(ee.output=T+ee.output),Y(ee);continue}if(R&&(R.type==="bracket"||R.type==="paren")&&r.regex===!0){ee.output=E,Y(ee);continue}(P.index===P.start||R.type==="slash"||R.type==="dot")&&(R.type==="dot"?(P.output+=A,R.output+=A):r.dot===!0?(P.output+=O,R.output+=O):(P.output+=T,R.output+=T),U()!=="*"&&(P.output+=g,R.output+=g)),Y(ee)}for(;P.brackets>0;){if(r.strictBrackets===!0)throw new SyntaxError(ri("closing","]"));P.output=at.escapeLast(P.output,"["),Bt("brackets")}for(;P.parens>0;){if(r.strictBrackets===!0)throw new SyntaxError(ri("closing",")"));P.output=at.escapeLast(P.output,"("),Bt("parens")}for(;P.braces>0;){if(r.strictBrackets===!0)throw new SyntaxError(ri("closing","}"));P.output=at.escapeLast(P.output,"{"),Bt("braces")}if(r.strictSlashes!==!0&&(R.type==="star"||R.type==="bracket")&&Y({type:"maybe_slash",value:"",output:`${y}?`}),P.backtrack===!0){P.output="";for(let $ of P.tokens)P.output+=$.output!=null?$.output:$.value,$.suffix&&(P.output+=$.suffix)}return P};Hl.fastpaths=(e,t)=>{let r=j({},t),n=typeof r.maxLength=="number"?Math.min(Ss,r.maxLength):Ss,i=e.length;if(i>n)throw new SyntaxError(`Input length: ${i}, exceeds maximum allowed length: ${n}`);e=lS[e]||e;let a=at.isWindows(t),{DOT_LITERAL:s,SLASH_LITERAL:c,ONE_CHAR:l,DOTS_SLASH:f,NO_DOT:d,NO_DOTS:m,NO_DOTS_SLASH:p,STAR:y,START_ANCHOR:g}=vs.globChars(a),S=r.dot?m:d,v=r.dot?p:d,A=r.capture?"":"?:",O={negated:!1,prefix:""},F=r.bash===!0?".*?":y;r.capture&&(F=`(${F})`);let k=T=>T.noglobstar===!0?F:`(${A}(?:(?!${g}${T.dot?f:s}).)*?)`,I=T=>{switch(T){case"*":return`${S}${l}${F}`;case".*":return`${s}${l}${F}`;case"*.*":return`${S}${F}${s}${l}${F}`;case"*/*":return`${S}${F}${c}${l}${v}${F}`;case"**":return S+k(r);case"**/*":return`(?:${S}${k(r)}${c})?${v}${l}${F}`;case"**/*.*":return`(?:${S}${k(r)}${c})?${v}${F}${s}${l}${F}`;case"**/.*":return`(?:${S}${k(r)}${c})?${s}${l}${F}`;default:{let D=/^(.*?)\.(\w+)$/.exec(T);if(!D)return;let B=I(D[1]);return B?B+s+D[2]:void 0}}},M=at.removePrefix(e,O),q=I(M);return q&&r.strictSlashes!==!0&&(q+=`${c}?`),q};fS.exports=Hl});var pS=_((Zj,hS)=>{"use strict";var a1=require("path"),o1=cS(),zl=dS(),Yl=da(),s1=fa(),u1=e=>e&&typeof e=="object"&&!Array.isArray(e),Re=(e,t,r=!1)=>{if(Array.isArray(e)){let d=e.map(p=>Re(p,t,r));return p=>{for(let y of d){let g=y(p);if(g)return g}return!1}}let n=u1(e)&&e.tokens&&e.input;if(e===""||typeof e!="string"&&!n)throw new TypeError("Expected pattern to be a non-empty string");let i=t||{},a=Yl.isWindows(t),s=n?Re.compileRe(e,t):Re.makeRe(e,t,!1,!0),c=s.state;delete s.state;let l=()=>!1;if(i.ignore){let d=ue(j({},t),{ignore:null,onMatch:null,onResult:null});l=Re(i.ignore,d,r)}let f=(d,m=!1)=>{let{isMatch:p,match:y,output:g}=Re.test(d,s,t,{glob:e,posix:a}),S={glob:e,state:c,regex:s,posix:a,input:d,output:g,match:y,isMatch:p};return typeof i.onResult=="function"&&i.onResult(S),p===!1?(S.isMatch=!1,m?S:!1):l(d)?(typeof i.onIgnore=="function"&&i.onIgnore(S),S.isMatch=!1,m?S:!1):(typeof i.onMatch=="function"&&i.onMatch(S),m?S:!0)};return r&&(f.state=c),f};Re.test=(e,t,r,{glob:n,posix:i}={})=>{if(typeof e!="string")throw new TypeError("Expected input to be a string");if(e==="")return{isMatch:!1,output:""};let a=r||{},s=a.format||(i?Yl.toPosixSlashes:null),c=e===n,l=c&&s?s(e):e;return c===!1&&(l=s?s(e):e,c=l===n),(c===!1||a.capture===!0)&&(a.matchBase===!0||a.basename===!0?c=Re.matchBase(e,t,r,i):c=t.exec(l)),{isMatch:Boolean(c),match:c,output:l}};Re.matchBase=(e,t,r,n=Yl.isWindows(r))=>(t instanceof RegExp?t:Re.makeRe(t,r)).test(a1.basename(e));Re.isMatch=(e,t,r)=>Re(t,r)(e);Re.parse=(e,t)=>Array.isArray(e)?e.map(r=>Re.parse(r,t)):zl(e,ue(j({},t),{fastpaths:!1}));Re.scan=(e,t)=>o1(e,t);Re.compileRe=(e,t,r=!1,n=!1)=>{if(r===!0)return e.output;let i=t||{},a=i.contains?"":"^",s=i.contains?"":"$",c=`${a}(?:${e.output})${s}`;e&&e.negated===!0&&(c=`^(?!${c}).*$`);let l=Re.toRegex(c,t);return n===!0&&(l.state=e),l};Re.makeRe=(e,t={},r=!1,n=!1)=>{if(!e||typeof e!="string")throw new TypeError("Expected a non-empty string");let i={negated:!1,fastpaths:!0};return t.fastpaths!==!1&&(e[0]==="."||e[0]==="*")&&(i.output=zl.fastpaths(e,t)),i.output||(i=zl(e,t)),Re.compileRe(i,t,r,n)};Re.toRegex=(e,t)=>{try{let r=t||{};return new RegExp(e,r.flags||(r.nocase?"i":""))}catch(r){if(t&&t.debug===!0)throw r;return/$^/}};Re.constants=s1;hS.exports=Re});var gS=_((Jj,mS)=>{"use strict";mS.exports=pS()});var _S=_((eU,SS)=>{"use strict";var bS=require("util"),vS=Kv(),Mt=gS(),Vl=da(),yS=e=>e===""||e==="./",ye=(e,t,r)=>{t=[].concat(t),e=[].concat(e);let n=new Set,i=new Set,a=new Set,s=0,c=d=>{a.add(d.output),r&&r.onResult&&r.onResult(d)};for(let d=0;d<t.length;d++){let m=Mt(String(t[d]),ue(j({},r),{onResult:c}),!0),p=m.state.negated||m.state.negatedExtglob;p&&s++;for(let y of e){let g=m(y,!0);!(p?!g.isMatch:g.isMatch)||(p?n.add(g.output):(n.delete(g.output),i.add(g.output)))}}let f=(s===t.length?[...a]:[...i]).filter(d=>!n.has(d));if(r&&f.length===0){if(r.failglob===!0)throw new Error(`No matches found for "${t.join(", ")}"`);if(r.nonull===!0||r.nullglob===!0)return r.unescape?t.map(d=>d.replace(/\\/g,"")):t}return f};ye.match=ye;ye.matcher=(e,t)=>Mt(e,t);ye.isMatch=(e,t,r)=>Mt(t,r)(e);ye.any=ye.isMatch;ye.not=(e,t,r={})=>{t=[].concat(t).map(String);let n=new Set,i=[],a=c=>{r.onResult&&r.onResult(c),i.push(c.output)},s=ye(e,t,ue(j({},r),{onResult:a}));for(let c of i)s.includes(c)||n.add(c);return[...n]};ye.contains=(e,t,r)=>{if(typeof e!="string")throw new TypeError(`Expected a string: "${bS.inspect(e)}"`);if(Array.isArray(t))return t.some(n=>ye.contains(e,n,r));if(typeof t=="string"){if(yS(e)||yS(t))return!1;if(e.includes(t)||e.startsWith("./")&&e.slice(2).includes(t))return!0}return ye.isMatch(e,t,ue(j({},r),{contains:!0}))};ye.matchKeys=(e,t,r)=>{if(!Vl.isObject(e))throw new TypeError("Expected the first argument to be an object");let n=ye(Object.keys(e),t,r),i={};for(let a of n)i[a]=e[a];return i};ye.some=(e,t,r)=>{let n=[].concat(e);for(let i of[].concat(t)){let a=Mt(String(i),r);if(n.some(s=>a(s)))return!0}return!1};ye.every=(e,t,r)=>{let n=[].concat(e);for(let i of[].concat(t)){let a=Mt(String(i),r);if(!n.every(s=>a(s)))return!1}return!0};ye.all=(e,t,r)=>{if(typeof e!="string")throw new TypeError(`Expected a string: "${bS.inspect(e)}"`);return[].concat(t).every(n=>Mt(n,r)(e))};ye.capture=(e,t,r)=>{let n=Vl.isWindows(r),a=Mt.makeRe(String(e),ue(j({},r),{capture:!0})).exec(n?Vl.toPosixSlashes(t):t);if(a)return a.slice(1).map(s=>s===void 0?"":s)};ye.makeRe=(...e)=>Mt.makeRe(...e);ye.scan=(...e)=>Mt.scan(...e);ye.parse=(e,t)=>{let r=[];for(let n of[].concat(e||[]))for(let i of vS(String(n),t))r.push(Mt.parse(i,t));return r};ye.braces=(e,t)=>{if(typeof e!="string")throw new TypeError("Expected a string");return t&&t.nobrace===!0||!/\{.*\}/.test(e)?[e]:vS(e,t)};ye.braceExpand=(e,t)=>{if(typeof e!="string")throw new TypeError("Expected a string");return ye.braces(e,ue(j({},t),{expand:!0}))};SS.exports=ye});var xS=_(V=>{"use strict";Object.defineProperty(V,"__esModule",{value:!0});V.matchAny=V.convertPatternsToRe=V.makeRe=V.getPatternParts=V.expandBraceExpansion=V.expandPatternsWithBraceExpansion=V.isAffectDepthOfReadingPattern=V.endsWithSlashGlobStar=V.hasGlobStar=V.getBaseDirectory=V.isPatternRelatedToParentDirectory=V.getPatternsOutsideCurrentDirectory=V.getPatternsInsideCurrentDirectory=V.getPositivePatterns=V.getNegativePatterns=V.isPositivePattern=V.isNegativePattern=V.convertToNegativePattern=V.convertToPositivePattern=V.isDynamicPattern=V.isStaticPattern=void 0;var c1=require("path"),l1=hv(),Ql=_S(),wS="**",f1="\\",d1=/[*?]|^!/,h1=/\[[^[]*]/,p1=/(?:^|[^!*+?@])\([^(]*\|[^|]*\)/,m1=/[!*+?@]\([^(]*\)/,g1=/,|\.\./;function ES(e,t={}){return!RS(e,t)}V.isStaticPattern=ES;function RS(e,t={}){return e===""?!1:!!(t.caseSensitiveMatch===!1||e.includes(f1)||d1.test(e)||h1.test(e)||p1.test(e)||t.extglob!==!1&&m1.test(e)||t.braceExpansion!==!1&&y1(e))}V.isDynamicPattern=RS;function y1(e){let t=e.indexOf("{");if(t===-1)return!1;let r=e.indexOf("}",t+1);if(r===-1)return!1;let n=e.slice(t,r);return g1.test(n)}function b1(e){return _s(e)?e.slice(1):e}V.convertToPositivePattern=b1;function v1(e){return"!"+e}V.convertToNegativePattern=v1;function _s(e){return e.startsWith("!")&&e[1]!=="("}V.isNegativePattern=_s;function AS(e){return!_s(e)}V.isPositivePattern=AS;function S1(e){return e.filter(_s)}V.getNegativePatterns=S1;function _1(e){return e.filter(AS)}V.getPositivePatterns=_1;function w1(e){return e.filter(t=>!Kl(t))}V.getPatternsInsideCurrentDirectory=w1;function E1(e){return e.filter(Kl)}V.getPatternsOutsideCurrentDirectory=E1;function Kl(e){return e.startsWith("..")||e.startsWith("./..")}V.isPatternRelatedToParentDirectory=Kl;function R1(e){return l1(e,{flipBackslashes:!1})}V.getBaseDirectory=R1;function A1(e){return e.includes(wS)}V.hasGlobStar=A1;function PS(e){return e.endsWith("/"+wS)}V.endsWithSlashGlobStar=PS;function P1(e){let t=c1.basename(e);return PS(e)||ES(t)}V.isAffectDepthOfReadingPattern=P1;function T1(e){return e.reduce((t,r)=>t.concat(TS(r)),[])}V.expandPatternsWithBraceExpansion=T1;function TS(e){return Ql.braces(e,{expand:!0,nodupes:!0})}V.expandBraceExpansion=TS;function O1(e,t){let{parts:r}=Ql.scan(e,Object.assign(Object.assign({},t),{parts:!0}));return r.length===0&&(r=[e]),r[0].startsWith("/")&&(r[0]=r[0].slice(1),r.unshift("")),r}V.getPatternParts=O1;function OS(e,t){return Ql.makeRe(e,t)}V.makeRe=OS;function x1(e,t){return e.map(r=>OS(r,t))}V.convertPatternsToRe=x1;function C1(e,t){return t.some(r=>r.test(e))}V.matchAny=C1});var IS=_(ws=>{"use strict";Object.defineProperty(ws,"__esModule",{value:!0});ws.merge=void 0;var I1=Cl();function k1(e){let t=I1(e);return e.forEach(r=>{r.once("error",n=>t.emit("error",n))}),t.once("close",()=>CS(e)),t.once("end",()=>CS(e)),t}ws.merge=k1;function CS(e){e.forEach(t=>t.emit("close"))}});var kS=_(ni=>{"use strict";Object.defineProperty(ni,"__esModule",{value:!0});ni.isEmpty=ni.isString=void 0;function D1(e){return typeof e=="string"}ni.isString=D1;function L1(e){return e===""}ni.isEmpty=L1});var Zt=_(je=>{"use strict";Object.defineProperty(je,"__esModule",{value:!0});je.string=je.stream=je.pattern=je.path=je.fs=je.errno=je.array=void 0;var F1=nv();je.array=F1;var M1=iv();je.errno=M1;var q1=ov();je.fs=q1;var N1=sv();je.path=N1;var B1=xS();je.pattern=B1;var $1=IS();je.stream=$1;var G1=kS();je.string=G1});var FS=_(Ue=>{"use strict";Object.defineProperty(Ue,"__esModule",{value:!0});Ue.convertPatternGroupToTask=Ue.convertPatternGroupsToTasks=Ue.groupPatternsByBaseDirectory=Ue.getNegativePatternsAsPositive=Ue.getPositivePatterns=Ue.convertPatternsToTasks=Ue.generate=void 0;var Jt=Zt();function W1(e,t){let r=DS(e),n=LS(e,t.ignore),i=r.filter(l=>Jt.pattern.isStaticPattern(l,t)),a=r.filter(l=>Jt.pattern.isDynamicPattern(l,t)),s=Xl(i,n,!1),c=Xl(a,n,!0);return s.concat(c)}Ue.generate=W1;function Xl(e,t,r){let n=[],i=Jt.pattern.getPatternsOutsideCurrentDirectory(e),a=Jt.pattern.getPatternsInsideCurrentDirectory(e),s=Zl(i),c=Zl(a);return n.push(...Jl(s,t,r)),"."in c?n.push(ef(".",a,t,r)):n.push(...Jl(c,t,r)),n}Ue.convertPatternsToTasks=Xl;function DS(e){return Jt.pattern.getPositivePatterns(e)}Ue.getPositivePatterns=DS;function LS(e,t){return Jt.pattern.getNegativePatterns(e).concat(t).map(Jt.pattern.convertToPositivePattern)}Ue.getNegativePatternsAsPositive=LS;function Zl(e){let t={};return e.reduce((r,n)=>{let i=Jt.pattern.getBaseDirectory(n);return i in r?r[i].push(n):r[i]=[n],r},t)}Ue.groupPatternsByBaseDirectory=Zl;function Jl(e,t,r){return Object.keys(e).map(n=>ef(n,e[n],t,r))}Ue.convertPatternGroupsToTasks=Jl;function ef(e,t,r,n){return{dynamic:n,positive:t,negative:r,base:e,patterns:[].concat(t,r.map(Jt.pattern.convertToNegativePattern))}}Ue.convertPatternGroupToTask=ef});var qS=_(ii=>{"use strict";Object.defineProperty(ii,"__esModule",{value:!0});ii.removeDuplicateSlashes=ii.transform=void 0;var j1=/(?!^)\/{2,}/g;function U1(e){return e.map(t=>MS(t))}ii.transform=U1;function MS(e){return e.replace(j1,"/")}ii.removeDuplicateSlashes=MS});var BS=_(Es=>{"use strict";Object.defineProperty(Es,"__esModule",{value:!0});Es.read=void 0;function H1(e,t,r){t.fs.lstat(e,(n,i)=>{if(n!==null){NS(r,n);return}if(!i.isSymbolicLink()||!t.followSymbolicLink){tf(r,i);return}t.fs.stat(e,(a,s)=>{if(a!==null){if(t.throwErrorOnBrokenSymbolicLink){NS(r,a);return}tf(r,i);return}t.markSymbolicLink&&(s.isSymbolicLink=()=>!0),tf(r,s)})})}Es.read=H1;function NS(e,t){e(t)}function tf(e,t){e(null,t)}});var $S=_(Rs=>{"use strict";Object.defineProperty(Rs,"__esModule",{value:!0});Rs.read=void 0;function z1(e,t){let r=t.fs.lstatSync(e);if(!r.isSymbolicLink()||!t.followSymbolicLink)return r;try{let n=t.fs.statSync(e);return t.markSymbolicLink&&(n.isSymbolicLink=()=>!0),n}catch(n){if(!t.throwErrorOnBrokenSymbolicLink)return r;throw n}}Rs.read=z1});var GS=_(Sr=>{"use strict";Object.defineProperty(Sr,"__esModule",{value:!0});Sr.createFileSystemAdapter=Sr.FILE_SYSTEM_ADAPTER=void 0;var As=require("fs");Sr.FILE_SYSTEM_ADAPTER={lstat:As.lstat,stat:As.stat,lstatSync:As.lstatSync,statSync:As.statSync};function Y1(e){return e===void 0?Sr.FILE_SYSTEM_ADAPTER:Object.assign(Object.assign({},Sr.FILE_SYSTEM_ADAPTER),e)}Sr.createFileSystemAdapter=Y1});var jS=_(rf=>{"use strict";Object.defineProperty(rf,"__esModule",{value:!0});var V1=GS(),WS=class{constructor(t={}){this._options=t,this.followSymbolicLink=this._getValue(this._options.followSymbolicLink,!0),this.fs=V1.createFileSystemAdapter(this._options.fs),this.markSymbolicLink=this._getValue(this._options.markSymbolicLink,!1),this.throwErrorOnBrokenSymbolicLink=this._getValue(this._options.throwErrorOnBrokenSymbolicLink,!0)}_getValue(t,r){return t??r}};rf.default=WS});var on=_(_r=>{"use strict";Object.defineProperty(_r,"__esModule",{value:!0});_r.statSync=_r.stat=_r.Settings=void 0;var US=BS(),Q1=$S(),nf=jS();_r.Settings=nf.default;function K1(e,t,r){if(typeof t=="function"){US.read(e,af(),t);return}US.read(e,af(t),r)}_r.stat=K1;function X1(e,t){let r=af(t);return Q1.read(e,r)}_r.statSync=X1;function af(e={}){return e instanceof nf.default?e:new nf.default(e)}});var YS=_((dU,zS)=>{var HS;zS.exports=typeof queueMicrotask=="function"?queueMicrotask.bind(typeof window<"u"?window:global):e=>(HS||(HS=Promise.resolve())).then(e).catch(t=>setTimeout(()=>{throw t},0))});var QS=_((hU,VS)=>{VS.exports=J1;var Z1=YS();function J1(e,t){let r,n,i,a=!0;Array.isArray(e)?(r=[],n=e.length):(i=Object.keys(e),r={},n=i.length);function s(l){function f(){t&&t(l,r),t=null}a?Z1(f):f()}function c(l,f,d){r[l]=d,(--n===0||f)&&s(f)}n?i?i.forEach(function(l){e[l](function(f,d){c(l,f,d)})}):e.forEach(function(l,f){l(function(d,m){c(f,d,m)})}):s(null),a=!1}});var of=_(Ts=>{"use strict";Object.defineProperty(Ts,"__esModule",{value:!0});Ts.IS_SUPPORT_READDIR_WITH_FILE_TYPES=void 0;var Ps=process.versions.node.split(".");if(Ps[0]===void 0||Ps[1]===void 0)throw new Error(`Unexpected behavior. The 'process.versions.node' variable has invalid value: ${process.versions.node}`);var KS=Number.parseInt(Ps[0],10),eL=Number.parseInt(Ps[1],10),XS=10,tL=10,rL=KS>XS,nL=KS===XS&&eL>=tL;Ts.IS_SUPPORT_READDIR_WITH_FILE_TYPES=rL||nL});var JS=_(Os=>{"use strict";Object.defineProperty(Os,"__esModule",{value:!0});Os.createDirentFromStats=void 0;var ZS=class{constructor(t,r){this.name=t,this.isBlockDevice=r.isBlockDevice.bind(r),this.isCharacterDevice=r.isCharacterDevice.bind(r),this.isDirectory=r.isDirectory.bind(r),this.isFIFO=r.isFIFO.bind(r),this.isFile=r.isFile.bind(r),this.isSocket=r.isSocket.bind(r),this.isSymbolicLink=r.isSymbolicLink.bind(r)}};function iL(e,t){return new ZS(e,t)}Os.createDirentFromStats=iL});var sf=_(xs=>{"use strict";Object.defineProperty(xs,"__esModule",{value:!0});xs.fs=void 0;var aL=JS();xs.fs=aL});var uf=_(Cs=>{"use strict";Object.defineProperty(Cs,"__esModule",{value:!0});Cs.joinPathSegments=void 0;function oL(e,t,r){return e.endsWith(r)?e+t:e+r+t}Cs.joinPathSegments=oL});var a_=_(wr=>{"use strict";Object.defineProperty(wr,"__esModule",{value:!0});wr.readdir=wr.readdirWithFileTypes=wr.read=void 0;var sL=on(),e_=QS(),uL=of(),t_=sf(),r_=uf();function cL(e,t,r){if(!t.stats&&uL.IS_SUPPORT_READDIR_WITH_FILE_TYPES){n_(e,t,r);return}i_(e,t,r)}wr.read=cL;function n_(e,t,r){t.fs.readdir(e,{withFileTypes:!0},(n,i)=>{if(n!==null){Is(r,n);return}let a=i.map(c=>({dirent:c,name:c.name,path:r_.joinPathSegments(e,c.name,t.pathSegmentSeparator)}));if(!t.followSymbolicLinks){cf(r,a);return}let s=a.map(c=>lL(c,t));e_(s,(c,l)=>{if(c!==null){Is(r,c);return}cf(r,l)})})}wr.readdirWithFileTypes=n_;function lL(e,t){return r=>{if(!e.dirent.isSymbolicLink()){r(null,e);return}t.fs.stat(e.path,(n,i)=>{if(n!==null){if(t.throwErrorOnBrokenSymbolicLink){r(n);return}r(null,e);return}e.dirent=t_.fs.createDirentFromStats(e.name,i),r(null,e)})}}function i_(e,t,r){t.fs.readdir(e,(n,i)=>{if(n!==null){Is(r,n);return}let a=i.map(s=>{let c=r_.joinPathSegments(e,s,t.pathSegmentSeparator);return l=>{sL.stat(c,t.fsStatSettings,(f,d)=>{if(f!==null){l(f);return}let m={name:s,path:c,dirent:t_.fs.createDirentFromStats(s,d)};t.stats&&(m.stats=d),l(null,m)})}});e_(a,(s,c)=>{if(s!==null){Is(r,s);return}cf(r,c)})})}wr.readdir=i_;function Is(e,t){e(t)}function cf(e,t){e(null,t)}});var l_=_(Er=>{"use strict";Object.defineProperty(Er,"__esModule",{value:!0});Er.readdir=Er.readdirWithFileTypes=Er.read=void 0;var fL=on(),dL=of(),o_=sf(),s_=uf();function hL(e,t){return!t.stats&&dL.IS_SUPPORT_READDIR_WITH_FILE_TYPES?u_(e,t):c_(e,t)}Er.read=hL;function u_(e,t){return t.fs.readdirSync(e,{withFileTypes:!0}).map(n=>{let i={dirent:n,name:n.name,path:s_.joinPathSegments(e,n.name,t.pathSegmentSeparator)};if(i.dirent.isSymbolicLink()&&t.followSymbolicLinks)try{let a=t.fs.statSync(i.path);i.dirent=o_.fs.createDirentFromStats(i.name,a)}catch(a){if(t.throwErrorOnBrokenSymbolicLink)throw a}return i})}Er.readdirWithFileTypes=u_;function c_(e,t){return t.fs.readdirSync(e).map(n=>{let i=s_.joinPathSegments(e,n,t.pathSegmentSeparator),a=fL.statSync(i,t.fsStatSettings),s={name:n,path:i,dirent:o_.fs.createDirentFromStats(n,a)};return t.stats&&(s.stats=a),s})}Er.readdir=c_});var f_=_(Rr=>{"use strict";Object.defineProperty(Rr,"__esModule",{value:!0});Rr.createFileSystemAdapter=Rr.FILE_SYSTEM_ADAPTER=void 0;var ai=require("fs");Rr.FILE_SYSTEM_ADAPTER={lstat:ai.lstat,stat:ai.stat,lstatSync:ai.lstatSync,statSync:ai.statSync,readdir:ai.readdir,readdirSync:ai.readdirSync};function pL(e){return e===void 0?Rr.FILE_SYSTEM_ADAPTER:Object.assign(Object.assign({},Rr.FILE_SYSTEM_ADAPTER),e)}Rr.createFileSystemAdapter=pL});var h_=_(lf=>{"use strict";Object.defineProperty(lf,"__esModule",{value:!0});var mL=require("path"),gL=on(),yL=f_(),d_=class{constructor(t={}){this._options=t,this.followSymbolicLinks=this._getValue(this._options.followSymbolicLinks,!1),this.fs=yL.createFileSystemAdapter(this._options.fs),this.pathSegmentSeparator=this._getValue(this._options.pathSegmentSeparator,mL.sep),this.stats=this._getValue(this._options.stats,!1),this.throwErrorOnBrokenSymbolicLink=this._getValue(this._options.throwErrorOnBrokenSymbolicLink,!0),this.fsStatSettings=new gL.Settings({followSymbolicLink:this.followSymbolicLinks,fs:this.fs,throwErrorOnBrokenSymbolicLink:this.throwErrorOnBrokenSymbolicLink})}_getValue(t,r){return t??r}};lf.default=d_});var ks=_(Ar=>{"use strict";Object.defineProperty(Ar,"__esModule",{value:!0});Ar.Settings=Ar.scandirSync=Ar.scandir=void 0;var p_=a_(),bL=l_(),ff=h_();Ar.Settings=ff.default;function vL(e,t,r){if(typeof t=="function"){p_.read(e,df(),t);return}p_.read(e,df(t),r)}Ar.scandir=vL;function SL(e,t){let r=df(t);return bL.read(e,r)}Ar.scandirSync=SL;function df(e={}){return e instanceof ff.default?e:new ff.default(e)}});var g_=_((EU,m_)=>{"use strict";function _L(e){var t=new e,r=t;function n(){var a=t;return a.next?t=a.next:(t=new e,r=t),a.next=null,a}function i(a){r.next=a,r=a}return{get:n,release:i}}m_.exports=_L});var b_=_((RU,hf)=>{"use strict";var wL=g_();function y_(e,t,r){if(typeof e=="function"&&(r=t,t=e,e=null),r<1)throw new Error("fastqueue concurrency must be greater than 1");var n=wL(EL),i=null,a=null,s=0,c=null,l={push:S,drain:dt,saturated:dt,pause:d,paused:!1,concurrency:r,running:f,resume:y,idle:g,length:m,getQueue:p,unshift:v,empty:dt,kill:O,killAndDrain:F,error:k};return l;function f(){return s}function d(){l.paused=!0}function m(){for(var I=i,M=0;I;)I=I.next,M++;return M}function p(){for(var I=i,M=[];I;)M.push(I.value),I=I.next;return M}function y(){if(!!l.paused){l.paused=!1;for(var I=0;I<l.concurrency;I++)s++,A()}}function g(){return s===0&&l.length()===0}function S(I,M){var q=n.get();q.context=e,q.release=A,q.value=I,q.callback=M||dt,q.errorHandler=c,s===l.concurrency||l.paused?a?(a.next=q,a=q):(i=q,a=q,l.saturated()):(s++,t.call(e,q.value,q.worked))}function v(I,M){var q=n.get();q.context=e,q.release=A,q.value=I,q.callback=M||dt,s===l.concurrency||l.paused?i?(q.next=i,i=q):(i=q,a=q,l.saturated()):(s++,t.call(e,q.value,q.worked))}function A(I){I&&n.release(I);var M=i;M?l.paused?s--:(a===i&&(a=null),i=M.next,M.next=null,t.call(e,M.value,M.worked),a===null&&l.empty()):--s===0&&l.drain()}function O(){i=null,a=null,l.drain=dt}function F(){i=null,a=null,l.drain(),l.drain=dt}function k(I){c=I}}function dt(){}function EL(){this.value=null,this.callback=dt,this.next=null,this.release=dt,this.context=null,this.errorHandler=null;var e=this;this.worked=function(r,n){var i=e.callback,a=e.errorHandler,s=e.value;e.value=null,e.callback=dt,e.errorHandler&&a(r,s),i.call(e.context,r,n),e.release(e)}}function RL(e,t,r){typeof e=="function"&&(r=t,t=e,e=null);function n(d,m){t.call(this,d).then(function(p){m(null,p)},m)}var i=y_(e,n,r),a=i.push,s=i.unshift;return i.push=c,i.unshift=l,i.drained=f,i;function c(d){var m=new Promise(function(p,y){a(d,function(g,S){if(g){y(g);return}p(S)})});return m.catch(dt),m}function l(d){var m=new Promise(function(p,y){s(d,function(g,S){if(g){y(g);return}p(S)})});return m.catch(dt),m}function f(){var d=i.drain,m=new Promise(function(p){i.drain=function(){d(),p()}});return m}}hf.exports=y_;hf.exports.promise=RL});var Ds=_(qt=>{"use strict";Object.defineProperty(qt,"__esModule",{value:!0});qt.joinPathSegments=qt.replacePathSegmentSeparator=qt.isAppliedFilter=qt.isFatalError=void 0;function AL(e,t){return e.errorFilter===null?!0:!e.errorFilter(t)}qt.isFatalError=AL;function PL(e,t){return e===null||e(t)}qt.isAppliedFilter=PL;function TL(e,t){return e.split(/[/\\]/).join(t)}qt.replacePathSegmentSeparator=TL;function OL(e,t,r){return e===""?t:e.endsWith(r)?e+t:e+r+t}qt.joinPathSegments=OL});var mf=_(pf=>{"use strict";Object.defineProperty(pf,"__esModule",{value:!0});var xL=Ds(),v_=class{constructor(t,r){this._root=t,this._settings=r,this._root=xL.replacePathSegmentSeparator(t,r.pathSegmentSeparator)}};pf.default=v_});var yf=_(gf=>{"use strict";Object.defineProperty(gf,"__esModule",{value:!0});var CL=require("events"),IL=ks(),kL=b_(),Ls=Ds(),DL=mf(),S_=class extends DL.default{constructor(t,r){super(t,r);this._settings=r,this._scandir=IL.scandir,this._emitter=new CL.EventEmitter,this._queue=kL(this._worker.bind(this),this._settings.concurrency),this._isFatalError=!1,this._isDestroyed=!1,this._queue.drain=()=>{this._isFatalError||this._emitter.emit("end")}}read(){return this._isFatalError=!1,this._isDestroyed=!1,setImmediate(()=>{this._pushToQueue(this._root,this._settings.basePath)}),this._emitter}get isDestroyed(){return this._isDestroyed}destroy(){if(this._isDestroyed)throw new Error("The reader is already destroyed");this._isDestroyed=!0,this._queue.killAndDrain()}onEntry(t){this._emitter.on("entry",t)}onError(t){this._emitter.once("error",t)}onEnd(t){this._emitter.once("end",t)}_pushToQueue(t,r){let n={directory:t,base:r};this._queue.push(n,i=>{i!==null&&this._handleError(i)})}_worker(t,r){this._scandir(t.directory,this._settings.fsScandirSettings,(n,i)=>{if(n!==null){r(n,void 0);return}for(let a of i)this._handleEntry(a,t.base);r(null,void 0)})}_handleError(t){this._isDestroyed||!Ls.isFatalError(this._settings,t)||(this._isFatalError=!0,this._isDestroyed=!0,this._emitter.emit("error",t))}_handleEntry(t,r){if(this._isDestroyed||this._isFatalError)return;let n=t.path;r!==void 0&&(t.path=Ls.joinPathSegments(r,t.name,this._settings.pathSegmentSeparator)),Ls.isAppliedFilter(this._settings.entryFilter,t)&&this._emitEntry(t),t.dirent.isDirectory()&&Ls.isAppliedFilter(this._settings.deepFilter,t)&&this._pushToQueue(n,r===void 0?void 0:t.path)}_emitEntry(t){this._emitter.emit("entry",t)}};gf.default=S_});var w_=_(bf=>{"use strict";Object.defineProperty(bf,"__esModule",{value:!0});var LL=yf(),__=class{constructor(t,r){this._root=t,this._settings=r,this._reader=new LL.default(this._root,this._settings),this._storage=[]}read(t){this._reader.onError(r=>{FL(t,r)}),this._reader.onEntry(r=>{this._storage.push(r)}),this._reader.onEnd(()=>{ML(t,this._storage)}),this._reader.read()}};bf.default=__;function FL(e,t){e(t)}function ML(e,t){e(null,t)}});var R_=_(vf=>{"use strict";Object.defineProperty(vf,"__esModule",{value:!0});var qL=require("stream"),NL=yf(),E_=class{constructor(t,r){this._root=t,this._settings=r,this._reader=new NL.default(this._root,this._settings),this._stream=new qL.Readable({objectMode:!0,read:()=>{},destroy:()=>{this._reader.isDestroyed||this._reader.destroy()}})}read(){return this._reader.onError(t=>{this._stream.emit("error",t)}),this._reader.onEntry(t=>{this._stream.push(t)}),this._reader.onEnd(()=>{this._stream.push(null)}),this._reader.read(),this._stream}};vf.default=E_});var P_=_(Sf=>{"use strict";Object.defineProperty(Sf,"__esModule",{value:!0});var BL=ks(),Fs=Ds(),$L=mf(),A_=class extends $L.default{constructor(){super(...arguments);this._scandir=BL.scandirSync,this._storage=[],this._queue=new Set}read(){return this._pushToQueue(this._root,this._settings.basePath),this._handleQueue(),this._storage}_pushToQueue(t,r){this._queue.add({directory:t,base:r})}_handleQueue(){for(let t of this._queue.values())this._handleDirectory(t.directory,t.base)}_handleDirectory(t,r){try{let n=this._scandir(t,this._settings.fsScandirSettings);for(let i of n)this._handleEntry(i,r)}catch(n){this._handleError(n)}}_handleError(t){if(!!Fs.isFatalError(this._settings,t))throw t}_handleEntry(t,r){let n=t.path;r!==void 0&&(t.path=Fs.joinPathSegments(r,t.name,this._settings.pathSegmentSeparator)),Fs.isAppliedFilter(this._settings.entryFilter,t)&&this._pushToStorage(t),t.dirent.isDirectory()&&Fs.isAppliedFilter(this._settings.deepFilter,t)&&this._pushToQueue(n,r===void 0?void 0:t.path)}_pushToStorage(t){this._storage.push(t)}};Sf.default=A_});var O_=_(_f=>{"use strict";Object.defineProperty(_f,"__esModule",{value:!0});var GL=P_(),T_=class{constructor(t,r){this._root=t,this._settings=r,this._reader=new GL.default(this._root,this._settings)}read(){return this._reader.read()}};_f.default=T_});var C_=_(wf=>{"use strict";Object.defineProperty(wf,"__esModule",{value:!0});var WL=require("path"),jL=ks(),x_=class{constructor(t={}){this._options=t,this.basePath=this._getValue(this._options.basePath,void 0),this.concurrency=this._getValue(this._options.concurrency,Number.POSITIVE_INFINITY),this.deepFilter=this._getValue(this._options.deepFilter,null),this.entryFilter=this._getValue(this._options.entryFilter,null),this.errorFilter=this._getValue(this._options.errorFilter,null),this.pathSegmentSeparator=this._getValue(this._options.pathSegmentSeparator,WL.sep),this.fsScandirSettings=new jL.Settings({followSymbolicLinks:this._options.followSymbolicLinks,fs:this._options.fs,pathSegmentSeparator:this._options.pathSegmentSeparator,stats:this._options.stats,throwErrorOnBrokenSymbolicLink:this._options.throwErrorOnBrokenSymbolicLink})}_getValue(t,r){return t??r}};wf.default=x_});var Rf=_(Nt=>{"use strict";Object.defineProperty(Nt,"__esModule",{value:!0});Nt.Settings=Nt.walkStream=Nt.walkSync=Nt.walk=void 0;var I_=w_(),UL=R_(),HL=O_(),Ef=C_();Nt.Settings=Ef.default;function zL(e,t,r){if(typeof t=="function"){new I_.default(e,Ms()).read(t);return}new I_.default(e,Ms(t)).read(r)}Nt.walk=zL;function YL(e,t){let r=Ms(t);return new HL.default(e,r).read()}Nt.walkSync=YL;function VL(e,t){let r=Ms(t);return new UL.default(e,r).read()}Nt.walkStream=VL;function Ms(e={}){return e instanceof Ef.default?e:new Ef.default(e)}});var Pf=_(Af=>{"use strict";Object.defineProperty(Af,"__esModule",{value:!0});var QL=require("path"),KL=on(),k_=Zt(),D_=class{constructor(t){this._settings=t,this._fsStatSettings=new KL.Settings({followSymbolicLink:this._settings.followSymbolicLinks,fs:this._settings.fs,throwErrorOnBrokenSymbolicLink:this._settings.followSymbolicLinks})}_getFullEntryPath(t){return QL.resolve(this._settings.cwd,t)}_makeEntry(t,r){let n={name:r,path:r,dirent:k_.fs.createDirentFromStats(r,t)};return this._settings.stats&&(n.stats=t),n}_isFatalError(t){return!k_.errno.isEnoentCodeError(t)&&!this._settings.suppressErrors}};Af.default=D_});var Of=_(Tf=>{"use strict";Object.defineProperty(Tf,"__esModule",{value:!0});var XL=require("stream"),ZL=on(),JL=Rf(),eF=Pf(),L_=class extends eF.default{constructor(){super(...arguments);this._walkStream=JL.walkStream,this._stat=ZL.stat}dynamic(t,r){return this._walkStream(t,r)}static(t,r){let n=t.map(this._getFullEntryPath,this),i=new XL.PassThrough({objectMode:!0});i._write=(a,s,c)=>this._getEntry(n[a],t[a],r).then(l=>{l!==null&&r.entryFilter(l)&&i.push(l),a===n.length-1&&i.end(),c()}).catch(c);for(let a=0;a<n.length;a++)i.write(a);return i}_getEntry(t,r,n){return this._getStat(t).then(i=>this._makeEntry(i,r)).catch(i=>{if(n.errorFilter(i))return null;throw i})}_getStat(t){return new Promise((r,n)=>{this._stat(t,this._fsStatSettings,(i,a)=>i===null?r(a):n(i))})}};Tf.default=L_});var M_=_(xf=>{"use strict";Object.defineProperty(xf,"__esModule",{value:!0});var oi=Zt(),F_=class{constructor(t,r,n){this._patterns=t,this._settings=r,this._micromatchOptions=n,this._storage=[],this._fillStorage()}_fillStorage(){let t=oi.pattern.expandPatternsWithBraceExpansion(this._patterns);for(let r of t){let n=this._getPatternSegments(r),i=this._splitSegmentsIntoSections(n);this._storage.push({complete:i.length<=1,pattern:r,segments:n,sections:i})}}_getPatternSegments(t){return oi.pattern.getPatternParts(t,this._micromatchOptions).map(n=>oi.pattern.isDynamicPattern(n,this._settings)?{dynamic:!0,pattern:n,patternRe:oi.pattern.makeRe(n,this._micromatchOptions)}:{dynamic:!1,pattern:n})}_splitSegmentsIntoSections(t){return oi.array.splitWhen(t,r=>r.dynamic&&oi.pattern.hasGlobStar(r.pattern))}};xf.default=F_});var N_=_(Cf=>{"use strict";Object.defineProperty(Cf,"__esModule",{value:!0});var tF=M_(),q_=class extends tF.default{match(t){let r=t.split("/"),n=r.length,i=this._storage.filter(a=>!a.complete||a.segments.length>n);for(let a of i){let s=a.sections[0];if(!a.complete&&n>s.length||r.every((l,f)=>{let d=a.segments[f];return!!(d.dynamic&&d.patternRe.test(l)||!d.dynamic&&d.pattern===l)}))return!0}return!1}};Cf.default=q_});var $_=_(If=>{"use strict";Object.defineProperty(If,"__esModule",{value:!0});var qs=Zt(),rF=N_(),B_=class{constructor(t,r){this._settings=t,this._micromatchOptions=r}getFilter(t,r,n){let i=this._getMatcher(r),a=this._getNegativePatternsRe(n);return s=>this._filter(t,s,i,a)}_getMatcher(t){return new rF.default(t,this._settings,this._micromatchOptions)}_getNegativePatternsRe(t){let r=t.filter(qs.pattern.isAffectDepthOfReadingPattern);return qs.pattern.convertPatternsToRe(r,this._micromatchOptions)}_filter(t,r,n,i){if(this._isSkippedByDeep(t,r.path)||this._isSkippedSymbolicLink(r))return!1;let a=qs.path.removeLeadingDotSegment(r.path);return this._isSkippedByPositivePatterns(a,n)?!1:this._isSkippedByNegativePatterns(a,i)}_isSkippedByDeep(t,r){return this._settings.deep===1/0?!1:this._getEntryLevel(t,r)>=this._settings.deep}_getEntryLevel(t,r){let n=r.split("/").length;if(t==="")return n;let i=t.split("/").length;return n-i}_isSkippedSymbolicLink(t){return!this._settings.followSymbolicLinks&&t.dirent.isSymbolicLink()}_isSkippedByPositivePatterns(t,r){return!this._settings.baseNameMatch&&!r.match(t)}_isSkippedByNegativePatterns(t,r){return!qs.pattern.matchAny(t,r)}};If.default=B_});var W_=_(kf=>{"use strict";Object.defineProperty(kf,"__esModule",{value:!0});var sn=Zt(),G_=class{constructor(t,r){this._settings=t,this._micromatchOptions=r,this.index=new Map}getFilter(t,r){let n=sn.pattern.convertPatternsToRe(t,this._micromatchOptions),i=sn.pattern.convertPatternsToRe(r,this._micromatchOptions);return a=>this._filter(a,n,i)}_filter(t,r,n){if(this._settings.unique&&this._isDuplicateEntry(t)||this._onlyFileFilter(t)||this._onlyDirectoryFilter(t)||this._isSkippedByAbsoluteNegativePatterns(t.path,n))return!1;let i=this._settings.baseNameMatch?t.name:t.path,a=this._isMatchToPatterns(i,r)&&!this._isMatchToPatterns(t.path,n);return this._settings.unique&&a&&this._createIndexRecord(t),a}_isDuplicateEntry(t){return this.index.has(t.path)}_createIndexRecord(t){this.index.set(t.path,void 0)}_onlyFileFilter(t){return this._settings.onlyFiles&&!t.dirent.isFile()}_onlyDirectoryFilter(t){return this._settings.onlyDirectories&&!t.dirent.isDirectory()}_isSkippedByAbsoluteNegativePatterns(t,r){if(!this._settings.absolute)return!1;let n=sn.path.makeAbsolute(this._settings.cwd,t);return sn.pattern.matchAny(n,r)}_isMatchToPatterns(t,r){let n=sn.path.removeLeadingDotSegment(t);return sn.pattern.matchAny(n,r)||sn.pattern.matchAny(n+"/",r)}};kf.default=G_});var U_=_(Df=>{"use strict";Object.defineProperty(Df,"__esModule",{value:!0});var nF=Zt(),j_=class{constructor(t){this._settings=t}getFilter(){return t=>this._isNonFatalError(t)}_isNonFatalError(t){return nF.errno.isEnoentCodeError(t)||this._settings.suppressErrors}};Df.default=j_});var Y_=_(Lf=>{"use strict";Object.defineProperty(Lf,"__esModule",{value:!0});var H_=Zt(),z_=class{constructor(t){this._settings=t}getTransformer(){return t=>this._transform(t)}_transform(t){let r=t.path;return this._settings.absolute&&(r=H_.path.makeAbsolute(this._settings.cwd,r),r=H_.path.unixify(r)),this._settings.markDirectories&&t.dirent.isDirectory()&&(r+="/"),this._settings.objectMode?Object.assign(Object.assign({},t),{path:r}):r}};Lf.default=z_});var Ns=_(Ff=>{"use strict";Object.defineProperty(Ff,"__esModule",{value:!0});var iF=require("path"),aF=$_(),oF=W_(),sF=U_(),uF=Y_(),V_=class{constructor(t){this._settings=t,this.errorFilter=new sF.default(this._settings),this.entryFilter=new oF.default(this._settings,this._getMicromatchOptions()),this.deepFilter=new aF.default(this._settings,this._getMicromatchOptions()),this.entryTransformer=new uF.default(this._settings)}_getRootDirectory(t){return iF.resolve(this._settings.cwd,t.base)}_getReaderOptions(t){let r=t.base==="."?"":t.base;return{basePath:r,pathSegmentSeparator:"/",concurrency:this._settings.concurrency,deepFilter:this.deepFilter.getFilter(r,t.positive,t.negative),entryFilter:this.entryFilter.getFilter(t.positive,t.negative),errorFilter:this.errorFilter.getFilter(),followSymbolicLinks:this._settings.followSymbolicLinks,fs:this._settings.fs,stats:this._settings.stats,throwErrorOnBrokenSymbolicLink:this._settings.throwErrorOnBrokenSymbolicLink,transform:this.entryTransformer.getTransformer()}}_getMicromatchOptions(){return{dot:this._settings.dot,matchBase:this._settings.baseNameMatch,nobrace:!this._settings.braceExpansion,nocase:!this._settings.caseSensitiveMatch,noext:!this._settings.extglob,noglobstar:!this._settings.globstar,posix:!0,strictSlashes:!1}}};Ff.default=V_});var K_=_(Mf=>{"use strict";Object.defineProperty(Mf,"__esModule",{value:!0});var cF=Of(),lF=Ns(),Q_=class extends lF.default{constructor(){super(...arguments);this._reader=new cF.default(this._settings)}read(t){let r=this._getRootDirectory(t),n=this._getReaderOptions(t),i=[];return new Promise((a,s)=>{let c=this.api(r,t,n);c.once("error",s),c.on("data",l=>i.push(n.transform(l))),c.once("end",()=>a(i))})}api(t,r,n){return r.dynamic?this._reader.dynamic(t,n):this._reader.static(r.patterns,n)}};Mf.default=Q_});var Z_=_(qf=>{"use strict";Object.defineProperty(qf,"__esModule",{value:!0});var fF=require("stream"),dF=Of(),hF=Ns(),X_=class extends hF.default{constructor(){super(...arguments);this._reader=new dF.default(this._settings)}read(t){let r=this._getRootDirectory(t),n=this._getReaderOptions(t),i=this.api(r,t,n),a=new fF.Readable({objectMode:!0,read:()=>{}});return i.once("error",s=>a.emit("error",s)).on("data",s=>a.emit("data",n.transform(s))).once("end",()=>a.emit("end")),a.once("close",()=>i.destroy()),a}api(t,r,n){return r.dynamic?this._reader.dynamic(t,n):this._reader.static(r.patterns,n)}};qf.default=X_});var ew=_(Nf=>{"use strict";Object.defineProperty(Nf,"__esModule",{value:!0});var pF=on(),mF=Rf(),gF=Pf(),J_=class extends gF.default{constructor(){super(...arguments);this._walkSync=mF.walkSync,this._statSync=pF.statSync}dynamic(t,r){return this._walkSync(t,r)}static(t,r){let n=[];for(let i of t){let a=this._getFullEntryPath(i),s=this._getEntry(a,i,r);s===null||!r.entryFilter(s)||n.push(s)}return n}_getEntry(t,r,n){try{let i=this._getStat(t);return this._makeEntry(i,r)}catch(i){if(n.errorFilter(i))return null;throw i}}_getStat(t){return this._statSync(t,this._fsStatSettings)}};Nf.default=J_});var rw=_(Bf=>{"use strict";Object.defineProperty(Bf,"__esModule",{value:!0});var yF=ew(),bF=Ns(),tw=class extends bF.default{constructor(){super(...arguments);this._reader=new yF.default(this._settings)}read(t){let r=this._getRootDirectory(t),n=this._getReaderOptions(t);return this.api(r,t,n).map(n.transform)}api(t,r,n){return r.dynamic?this._reader.dynamic(t,n):this._reader.static(r.patterns,n)}};Bf.default=tw});var iw=_(ui=>{"use strict";Object.defineProperty(ui,"__esModule",{value:!0});ui.DEFAULT_FILE_SYSTEM_ADAPTER=void 0;var si=require("fs"),vF=require("os"),SF=Math.max(vF.cpus().length,1);ui.DEFAULT_FILE_SYSTEM_ADAPTER={lstat:si.lstat,lstatSync:si.lstatSync,stat:si.stat,statSync:si.statSync,readdir:si.readdir,readdirSync:si.readdirSync};var nw=class{constructor(t={}){this._options=t,this.absolute=this._getValue(this._options.absolute,!1),this.baseNameMatch=this._getValue(this._options.baseNameMatch,!1),this.braceExpansion=this._getValue(this._options.braceExpansion,!0),this.caseSensitiveMatch=this._getValue(this._options.caseSensitiveMatch,!0),this.concurrency=this._getValue(this._options.concurrency,SF),this.cwd=this._getValue(this._options.cwd,process.cwd()),this.deep=this._getValue(this._options.deep,1/0),this.dot=this._getValue(this._options.dot,!1),this.extglob=this._getValue(this._options.extglob,!0),this.followSymbolicLinks=this._getValue(this._options.followSymbolicLinks,!0),this.fs=this._getFileSystemMethods(this._options.fs),this.globstar=this._getValue(this._options.globstar,!0),this.ignore=this._getValue(this._options.ignore,[]),this.markDirectories=this._getValue(this._options.markDirectories,!1),this.objectMode=this._getValue(this._options.objectMode,!1),this.onlyDirectories=this._getValue(this._options.onlyDirectories,!1),this.onlyFiles=this._getValue(this._options.onlyFiles,!0),this.stats=this._getValue(this._options.stats,!1),this.suppressErrors=this._getValue(this._options.suppressErrors,!1),this.throwErrorOnBrokenSymbolicLink=this._getValue(this._options.throwErrorOnBrokenSymbolicLink,!1),this.unique=this._getValue(this._options.unique,!0),this.onlyDirectories&&(this.onlyFiles=!1),this.stats&&(this.objectMode=!0)}_getValue(t,r){return t===void 0?r:t}_getFileSystemMethods(t={}){return Object.assign(Object.assign({},ui.DEFAULT_FILE_SYSTEM_ADAPTER),t)}};ui.default=nw});var jf=_((VU,sw)=>{"use strict";var aw=FS(),ow=qS(),_F=K_(),wF=Z_(),EF=rw(),$f=iw(),un=Zt();async function Gf(e,t){ci(e);let r=Wf(e,_F.default,t),n=await Promise.all(r);return un.array.flatten(n)}(function(e){function t(s,c){ci(s);let l=Wf(s,EF.default,c);return un.array.flatten(l)}e.sync=t;function r(s,c){ci(s);let l=Wf(s,wF.default,c);return un.stream.merge(l)}e.stream=r;function n(s,c){ci(s);let l=ow.transform([].concat(s)),f=new $f.default(c);return aw.generate(l,f)}e.generateTasks=n;function i(s,c){ci(s);let l=new $f.default(c);return un.pattern.isDynamicPattern(s,l)}e.isDynamicPattern=i;function a(s){return ci(s),un.path.escape(s)}e.escapePath=a})(Gf||(Gf={}));function Wf(e,t,r){let n=ow.transform([].concat(e)),i=new $f.default(r),a=aw.generate(n,i),s=new t(i);return a.map(s.read,s)}function ci(e){if(![].concat(e).every(n=>un.string.isString(n)&&!un.string.isEmpty(n)))throw new TypeError("Patterns must be a string (non empty) or an array of strings")}sw.exports=Gf});var cw=_(cn=>{"use strict";var{promisify:RF}=require("util"),uw=require("fs");async function Uf(e,t,r){if(typeof r!="string")throw new TypeError(`Expected a string, got ${typeof r}`);try{return(await RF(uw[e])(r))[t]()}catch(n){if(n.code==="ENOENT")return!1;throw n}}function Hf(e,t,r){if(typeof r!="string")throw new TypeError(`Expected a string, got ${typeof r}`);try{return uw[e](r)[t]()}catch(n){if(n.code==="ENOENT")return!1;throw n}}cn.isFile=Uf.bind(null,"stat","isFile");cn.isDirectory=Uf.bind(null,"stat","isDirectory");cn.isSymlink=Uf.bind(null,"lstat","isSymbolicLink");cn.isFileSync=Hf.bind(null,"statSync","isFile");cn.isDirectorySync=Hf.bind(null,"statSync","isDirectory");cn.isSymlinkSync=Hf.bind(null,"lstatSync","isSymbolicLink")});var pw=_((KU,zf)=>{"use strict";var ln=require("path"),lw=cw(),fw=e=>e.length>1?`{${e.join(",")}}`:e[0],dw=(e,t)=>{let r=e[0]==="!"?e.slice(1):e;return ln.isAbsolute(r)?r:ln.join(t,r)},AF=(e,t)=>ln.extname(e)?`**/${e}`:`**/${e}.${fw(t)}`,hw=(e,t)=>{if(t.files&&!Array.isArray(t.files))throw new TypeError(`Expected \`files\` to be of type \`Array\` but received type \`${typeof t.files}\``);if(t.extensions&&!Array.isArray(t.extensions))throw new TypeError(`Expected \`extensions\` to be of type \`Array\` but received type \`${typeof t.extensions}\``);return t.files&&t.extensions?t.files.map(r=>ln.posix.join(e,AF(r,t.extensions))):t.files?t.files.map(r=>ln.posix.join(e,`**/${r}`)):t.extensions?[ln.posix.join(e,`**/*.${fw(t.extensions)}`)]:[ln.posix.join(e,"**")]};zf.exports=async(e,t)=>{if(t=j({cwd:process.cwd()},t),typeof t.cwd!="string")throw new TypeError(`Expected \`cwd\` to be of type \`string\` but received type \`${typeof t.cwd}\``);let r=await Promise.all([].concat(e).map(async n=>await lw.isDirectory(dw(n,t.cwd))?hw(n,t):n));return[].concat.apply([],r)};zf.exports.sync=(e,t)=>{if(t=j({cwd:process.cwd()},t),typeof t.cwd!="string")throw new TypeError(`Expected \`cwd\` to be of type \`string\` but received type \`${typeof t.cwd}\``);let r=[].concat(e).map(n=>lw.isDirectorySync(dw(n,t.cwd))?hw(n,t):n);return[].concat.apply([],r)}});var Aw=_((XU,Rw)=>{function mw(e){return Array.isArray(e)?e:[e]}var vw="",gw=" ",Yf="\\",PF=/^\s+$/,TF=/^\\!/,OF=/^\\#/,xF=/\r?\n/g,CF=/^\.*\/|^\.+$/,Vf="/",yw=typeof Symbol<"u"?Symbol.for("node-ignore"):"node-ignore",IF=(e,t,r)=>Object.defineProperty(e,t,{value:r}),kF=/([0-z])-([0-z])/g,Sw=()=>!1,DF=e=>e.replace(kF,(t,r,n)=>r.charCodeAt(0)<=n.charCodeAt(0)?t:vw),LF=e=>{let{length:t}=e;return e.slice(0,t-t%2)},FF=[[/\\?\s+$/,e=>e.indexOf("\\")===0?gw:vw],[/\\\s/g,()=>gw],[/[\\$.|*+(){^]/g,e=>`\\${e}`],[/(?!\\)\?/g,()=>"[^/]"],[/^\//,()=>"^"],[/\//g,()=>"\\/"],[/^\^*\\\*\\\*\\\//,()=>"^(?:.*\\/)?"],[/^(?=[^^])/,function(){return/\/(?!$)/.test(this)?"^":"(?:^|\\/)"}],[/\\\/\\\*\\\*(?=\\\/|$)/g,(e,t,r)=>t+6<r.length?"(?:\\/[^\\/]+)*":"\\/.+"],[/(^|[^\\]+)\\\*(?=.+)/g,(e,t)=>`${t}[^\\/]*`],[/\\\\\\(?=[$.|*+(){^])/g,()=>Yf],[/\\\\/g,()=>Yf],[/(\\)?\[([^\]/]*?)(\\*)($|\])/g,(e,t,r,n,i)=>t===Yf?`\\[${r}${LF(n)}${i}`:i==="]"&&n.length%2===0?`[${DF(r)}${n}]`:"[]"],[/(?:[^*])$/,e=>/\/$/.test(e)?`${e}$`:`${e}(?=$|\\/$)`],[/(\^|\\\/)?\\\*$/,(e,t)=>`${t?`${t}[^/]+`:"[^/]*"}(?=$|\\/$)`]],bw=Object.create(null),MF=(e,t)=>{let r=bw[e];return r||(r=FF.reduce((n,i)=>n.replace(i[0],i[1].bind(e)),e),bw[e]=r),t?new RegExp(r,"i"):new RegExp(r)},Qf=e=>typeof e=="string",qF=e=>e&&Qf(e)&&!PF.test(e)&&e.indexOf("#")!==0,NF=e=>e.split(xF),_w=class{constructor(t,r,n,i){this.origin=t,this.pattern=r,this.negative=n,this.regex=i}},BF=(e,t)=>{let r=e,n=!1;e.indexOf("!")===0&&(n=!0,e=e.substr(1)),e=e.replace(TF,"!").replace(OF,"#");let i=MF(e,t);return new _w(r,e,n,i)},$F=(e,t)=>{throw new t(e)},er=(e,t,r)=>Qf(e)?e?er.isNotRelative(e)?r(`path should be a \`path.relative()\`d string, but got "${t}"`,RangeError):!0:r("path must not be empty",TypeError):r(`path must be a string, but got \`${t}\``,TypeError),ww=e=>CF.test(e);er.isNotRelative=ww;er.convert=e=>e;var Ew=class{constructor({ignorecase:t=!0,ignoreCase:r=t,allowRelativePaths:n=!1}={}){IF(this,yw,!0),this._rules=[],this._ignoreCase=r,this._allowRelativePaths=n,this._initCache()}_initCache(){this._ignoreCache=Object.create(null),this._testCache=Object.create(null)}_addPattern(t){if(t&&t[yw]){this._rules=this._rules.concat(t._rules),this._added=!0;return}if(qF(t)){let r=BF(t,this._ignoreCase);this._added=!0,this._rules.push(r)}}add(t){return this._added=!1,mw(Qf(t)?NF(t):t).forEach(this._addPattern,this),this._added&&this._initCache(),this}addPattern(t){return this.add(t)}_testOne(t,r){let n=!1,i=!1;return this._rules.forEach(a=>{let{negative:s}=a;if(i===s&&n!==i||s&&!n&&!i&&!r)return;a.regex.test(t)&&(n=!s,i=s)}),{ignored:n,unignored:i}}_test(t,r,n,i){let a=t&&er.convert(t);return er(a,t,this._allowRelativePaths?Sw:$F),this._t(a,r,n,i)}_t(t,r,n,i){if(t in r)return r[t];if(i||(i=t.split(Vf)),i.pop(),!i.length)return r[t]=this._testOne(t,n);let a=this._t(i.join(Vf)+Vf,r,n,i);return r[t]=a.ignored?a:this._testOne(t,n)}ignores(t){return this._test(t,this._ignoreCache,!1).ignored}createFilter(){return t=>!this.ignores(t)}filter(t){return mw(t).filter(this.createFilter())}test(t){return this._test(t,this._testCache,!0)}},Bs=e=>new Ew(e),GF=e=>er(e&&er.convert(e),e,Sw);Bs.isPathValid=GF;Bs.default=Bs;Rw.exports=Bs;if(typeof process<"u"&&(process.env&&process.env.IGNORE_TEST_WIN32||process.platform==="win32")){let e=r=>/^\\\\\?\\/.test(r)||/["<>|\u0000-\u001F]+/u.test(r)?r:r.replace(/\\/g,"/");er.convert=e;let t=/^[a-z]:\//i;er.isNotRelative=r=>t.test(r)||ww(r)}});var Kf=_((ZU,Pw)=>{"use strict";Pw.exports=e=>{let t=/^\\\\\?\\/.test(e),r=/[^\u0000-\u0080]+/.test(e);return t||r?e:e.replace(/\\/g,"/")}});var Dw=_((JU,Xf)=>{"use strict";var{promisify:WF}=require("util"),Tw=require("fs"),tr=require("path"),Ow=jf(),jF=Aw(),pa=Kf(),xw=["**/node_modules/**","**/flow-typed/**","**/coverage/**","**/.git"],UF=WF(Tw.readFile),HF=e=>t=>t.startsWith("!")?"!"+tr.posix.join(e,t.slice(1)):tr.posix.join(e,t),zF=(e,t)=>{let r=pa(tr.relative(t.cwd,tr.dirname(t.fileName)));return e.split(/\r?\n/).filter(Boolean).filter(n=>!n.startsWith("#")).map(HF(r))},Cw=e=>{let t=jF();for(let r of e)t.add(zF(r.content,{cwd:r.cwd,fileName:r.filePath}));return t},YF=(e,t)=>{if(e=pa(e),tr.isAbsolute(t)){if(pa(t).startsWith(e))return t;throw new Error(`Path ${t} is not in cwd ${e}`)}return tr.join(e,t)},Iw=(e,t)=>r=>e.ignores(pa(tr.relative(t,YF(t,r.path||r)))),VF=async(e,t)=>{let r=tr.join(t,e),n=await UF(r,"utf8");return{cwd:t,filePath:r,content:n}},QF=(e,t)=>{let r=tr.join(t,e),n=Tw.readFileSync(r,"utf8");return{cwd:t,filePath:r,content:n}},kw=({ignore:e=[],cwd:t=pa(process.cwd())}={})=>({ignore:e,cwd:t});Xf.exports=async e=>{e=kw(e);let t=await Ow("**/.gitignore",{ignore:xw.concat(e.ignore),cwd:e.cwd}),r=await Promise.all(t.map(i=>VF(i,e.cwd))),n=Cw(r);return Iw(n,e.cwd)};Xf.exports.sync=e=>{e=kw(e);let r=Ow.sync("**/.gitignore",{ignore:xw.concat(e.ignore),cwd:e.cwd}).map(i=>QF(i,e.cwd)),n=Cw(r);return Iw(n,e.cwd)}});var qw=_((eH,Mw)=>{"use strict";var{Transform:KF}=require("stream"),Zf=class extends KF{constructor(){super({objectMode:!0})}},Lw=class extends Zf{constructor(t){super();this._filter=t}_transform(t,r,n){this._filter(t)&&this.push(t),n()}},Fw=class extends Zf{constructor(){super();this._pushed=new Set}_transform(t,r,n){this._pushed.has(t)||(this.push(t),this._pushed.add(t)),n()}};Mw.exports={FilterStream:Lw,UniqueStream:Fw}});var Ww=_((tH,fn)=>{"use strict";var Bw=require("fs"),$s=Jb(),XF=Cl(),Gs=jf(),Ws=pw(),Jf=Dw(),{FilterStream:ZF,UniqueStream:JF}=qw(),$w=()=>!1,Nw=e=>e[0]==="!",eM=e=>{if(!e.every(t=>typeof t=="string"))throw new TypeError("Patterns must be a string or an array of strings")},tM=(e={})=>{if(!e.cwd)return;let t;try{t=Bw.statSync(e.cwd)}catch{return}if(!t.isDirectory())throw new Error("The `cwd` option must be a path to a directory")},rM=e=>e.stats instanceof Bw.Stats?e.path:e,js=(e,t)=>{e=$s([].concat(e)),eM(e),tM(t);let r=[];t=j({ignore:[],expandDirectories:!0},t);for(let[n,i]of e.entries()){if(Nw(i))continue;let a=e.slice(n).filter(c=>Nw(c)).map(c=>c.slice(1)),s=ue(j({},t),{ignore:t.ignore.concat(a)});r.push({pattern:i,options:s})}return r},nM=(e,t)=>{let r={};return e.options.cwd&&(r.cwd=e.options.cwd),Array.isArray(e.options.expandDirectories)?r=ue(j({},r),{files:e.options.expandDirectories}):typeof e.options.expandDirectories=="object"&&(r=j(j({},r),e.options.expandDirectories)),t(e.pattern,r)},ed=(e,t)=>e.options.expandDirectories?nM(e,t):[e.pattern],Gw=e=>e&&e.gitignore?Jf.sync({cwd:e.cwd,ignore:e.ignore}):$w,td=e=>t=>{let{options:r}=e;return r.ignore&&Array.isArray(r.ignore)&&r.expandDirectories&&(r.ignore=Ws.sync(r.ignore)),{pattern:t,options:r}};fn.exports=async(e,t)=>{let r=js(e,t),n=async()=>t&&t.gitignore?Jf({cwd:t.cwd,ignore:t.ignore}):$w,i=async()=>{let l=await Promise.all(r.map(async f=>{let d=await ed(f,Ws);return Promise.all(d.map(td(f)))}));return $s(...l)},[a,s]=await Promise.all([n(),i()]),c=await Promise.all(s.map(l=>Gs(l.pattern,l.options)));return $s(...c).filter(l=>!a(rM(l)))};fn.exports.sync=(e,t)=>{let r=js(e,t),n=[];for(let s of r){let c=ed(s,Ws.sync).map(td(s));n.push(...c)}let i=Gw(t),a=[];for(let s of n)a=$s(a,Gs.sync(s.pattern,s.options));return a.filter(s=>!i(s))};fn.exports.stream=(e,t)=>{let r=js(e,t),n=[];for(let c of r){let l=ed(c,Ws.sync).map(td(c));n.push(...l)}let i=Gw(t),a=new ZF(c=>!i(c)),s=new JF;return XF(n.map(c=>Gs.stream(c.pattern,c.options))).pipe(a).pipe(s)};fn.exports.generateGlobTasks=js;fn.exports.hasMagic=(e,t)=>[].concat(e).some(r=>Gs.isDynamicPattern(r,t));fn.exports.gitignore=Jf});var Uw=_((rH,jw)=>{var Pr=require("constants"),iM=process.cwd,Us=null,aM=process.env.GRACEFUL_FS_PLATFORM||process.platform;process.cwd=function(){return Us||(Us=iM.call(process)),Us};try{process.cwd()}catch{}typeof process.chdir=="function"&&(rd=process.chdir,process.chdir=function(e){Us=null,rd.call(process,e)},Object.setPrototypeOf&&Object.setPrototypeOf(process.chdir,rd));var rd;jw.exports=oM;function oM(e){Pr.hasOwnProperty("O_SYMLINK")&&process.version.match(/^v0\.6\.[0-2]|^v0\.5\./)&&t(e),e.lutimes||r(e),e.chown=a(e.chown),e.fchown=a(e.fchown),e.lchown=a(e.lchown),e.chmod=n(e.chmod),e.fchmod=n(e.fchmod),e.lchmod=n(e.lchmod),e.chownSync=s(e.chownSync),e.fchownSync=s(e.fchownSync),e.lchownSync=s(e.lchownSync),e.chmodSync=i(e.chmodSync),e.fchmodSync=i(e.fchmodSync),e.lchmodSync=i(e.lchmodSync),e.stat=c(e.stat),e.fstat=c(e.fstat),e.lstat=c(e.lstat),e.statSync=l(e.statSync),e.fstatSync=l(e.fstatSync),e.lstatSync=l(e.lstatSync),e.lchmod||(e.lchmod=function(d,m,p){p&&process.nextTick(p)},e.lchmodSync=function(){}),e.lchown||(e.lchown=function(d,m,p,y){y&&process.nextTick(y)},e.lchownSync=function(){}),aM==="win32"&&(e.rename=function(d){return function(m,p,y){var g=Date.now(),S=0;d(m,p,function v(A){if(A&&(A.code==="EACCES"||A.code==="EPERM")&&Date.now()-g<6e4){setTimeout(function(){e.stat(p,function(O,F){O&&O.code==="ENOENT"?d(m,p,v):y(A)})},S),S<100&&(S+=10);return}y&&y(A)})}}(e.rename)),e.read=function(d){function m(p,y,g,S,v,A){var O;if(A&&typeof A=="function"){var F=0;O=function(k,I,M){if(k&&k.code==="EAGAIN"&&F<10)return F++,d.call(e,p,y,g,S,v,O);A.apply(this,arguments)}}return d.call(e,p,y,g,S,v,O)}return Object.setPrototypeOf&&Object.setPrototypeOf(m,d),m}(e.read),e.readSync=function(d){return function(m,p,y,g,S){for(var v=0;;)try{return d.call(e,m,p,y,g,S)}catch(A){if(A.code==="EAGAIN"&&v<10){v++;continue}throw A}}}(e.readSync);function t(d){d.lchmod=function(m,p,y){d.open(m,Pr.O_WRONLY|Pr.O_SYMLINK,p,function(g,S){if(g){y&&y(g);return}d.fchmod(S,p,function(v){d.close(S,function(A){y&&y(v||A)})})})},d.lchmodSync=function(m,p){var y=d.openSync(m,Pr.O_WRONLY|Pr.O_SYMLINK,p),g=!0,S;try{S=d.fchmodSync(y,p),g=!1}finally{if(g)try{d.closeSync(y)}catch{}else d.closeSync(y)}return S}}function r(d){Pr.hasOwnProperty("O_SYMLINK")?(d.lutimes=function(m,p,y,g){d.open(m,Pr.O_SYMLINK,function(S,v){if(S){g&&g(S);return}d.futimes(v,p,y,function(A){d.close(v,function(O){g&&g(A||O)})})})},d.lutimesSync=function(m,p,y){var g=d.openSync(m,Pr.O_SYMLINK),S,v=!0;try{S=d.futimesSync(g,p,y),v=!1}finally{if(v)try{d.closeSync(g)}catch{}else d.closeSync(g)}return S}):(d.lutimes=function(m,p,y,g){g&&process.nextTick(g)},d.lutimesSync=function(){})}function n(d){return d&&function(m,p,y){return d.call(e,m,p,function(g){f(g)&&(g=null),y&&y.apply(this,arguments)})}}function i(d){return d&&function(m,p){try{return d.call(e,m,p)}catch(y){if(!f(y))throw y}}}function a(d){return d&&function(m,p,y,g){return d.call(e,m,p,y,function(S){f(S)&&(S=null),g&&g.apply(this,arguments)})}}function s(d){return d&&function(m,p,y){try{return d.call(e,m,p,y)}catch(g){if(!f(g))throw g}}}function c(d){return d&&function(m,p,y){typeof p=="function"&&(y=p,p=null);function g(S,v){v&&(v.uid<0&&(v.uid+=4294967296),v.gid<0&&(v.gid+=4294967296)),y&&y.apply(this,arguments)}return p?d.call(e,m,p,g):d.call(e,m,g)}}function l(d){return d&&function(m,p){var y=p?d.call(e,m,p):d.call(e,m);return y&&(y.uid<0&&(y.uid+=4294967296),y.gid<0&&(y.gid+=4294967296)),y}}function f(d){if(!d||d.code==="ENOSYS")return!0;var m=!process.getuid||process.getuid()!==0;return!!(m&&(d.code==="EINVAL"||d.code==="EPERM"))}}});var Yw=_((nH,zw)=>{var Hw=require("stream").Stream;zw.exports=sM;function sM(e){return{ReadStream:t,WriteStream:r};function t(n,i){if(!(this instanceof t))return new t(n,i);Hw.call(this);var a=this;this.path=n,this.fd=null,this.readable=!0,this.paused=!1,this.flags="r",this.mode=438,this.bufferSize=64*1024,i=i||{};for(var s=Object.keys(i),c=0,l=s.length;c<l;c++){var f=s[c];this[f]=i[f]}if(this.encoding&&this.setEncoding(this.encoding),this.start!==void 0){if(typeof this.start!="number")throw TypeError("start must be a Number");if(this.end===void 0)this.end=1/0;else if(typeof this.end!="number")throw TypeError("end must be a Number");if(this.start>this.end)throw new Error("start must be <= end");this.pos=this.start}if(this.fd!==null){process.nextTick(function(){a._read()});return}e.open(this.path,this.flags,this.mode,function(d,m){if(d){a.emit("error",d),a.readable=!1;return}a.fd=m,a.emit("open",m),a._read()})}function r(n,i){if(!(this instanceof r))return new r(n,i);Hw.call(this),this.path=n,this.fd=null,this.writable=!0,this.flags="w",this.encoding="binary",this.mode=438,this.bytesWritten=0,i=i||{};for(var a=Object.keys(i),s=0,c=a.length;s<c;s++){var l=a[s];this[l]=i[l]}if(this.start!==void 0){if(typeof this.start!="number")throw TypeError("start must be a Number");if(this.start<0)throw new Error("start must be >= zero");this.pos=this.start}this.busy=!1,this._queue=[],this.fd===null&&(this._open=e.open,this._queue.push([this._open,this.path,this.flags,this.mode,void 0]),this.flush())}}});var Qw=_((iH,Vw)=>{"use strict";Vw.exports=cM;var uM=Object.getPrototypeOf||function(e){return e.__proto__};function cM(e){if(e===null||typeof e!="object")return e;if(e instanceof Object)var t={__proto__:uM(e)};else var t=Object.create(null);return Object.getOwnPropertyNames(e).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(e,r))}),t}});var Jw=_((aH,ad)=>{var be=require("fs"),lM=Uw(),fM=Yw(),dM=Qw(),Hs=require("util"),Me,Ys;typeof Symbol=="function"&&typeof Symbol.for=="function"?(Me=Symbol.for("graceful-fs.queue"),Ys=Symbol.for("graceful-fs.previous")):(Me="___graceful-fs.queue",Ys="___graceful-fs.previous");function hM(){}function Zw(e,t){Object.defineProperty(e,Me,{get:function(){return t}})}var dn=hM;Hs.debuglog?dn=Hs.debuglog("gfs4"):/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&(dn=function(){var e=Hs.format.apply(Hs,arguments);e="GFS4: "+e.split(/\n/).join(`
GFS4: `),console.error(e)});be[Me]||(Kw=global[Me]||[],Zw(be,Kw),be.close=function(e){function t(r,n){return e.call(be,r,function(i){i||Xw(),typeof n=="function"&&n.apply(this,arguments)})}return Object.defineProperty(t,Ys,{value:e}),t}(be.close),be.closeSync=function(e){function t(r){e.apply(be,arguments),Xw()}return Object.defineProperty(t,Ys,{value:e}),t}(be.closeSync),/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&process.on("exit",function(){dn(be[Me]),require("assert").equal(be[Me].length,0)}));var Kw;global[Me]||Zw(global,be[Me]);ad.exports=nd(dM(be));process.env.TEST_GRACEFUL_FS_GLOBAL_PATCH&&!be.__patched&&(ad.exports=nd(be),be.__patched=!0);function nd(e){lM(e),e.gracefulify=nd,e.createReadStream=k,e.createWriteStream=I;var t=e.readFile;e.readFile=r;function r(T,D,B){return typeof D=="function"&&(B=D,D=null),P(T,D,B);function P(G,N,H,R){return t(G,N,function(E){E&&(E.code==="EMFILE"||E.code==="ENFILE")?li([P,[G,N,H],E,R||Date.now(),Date.now()]):typeof H=="function"&&H.apply(this,arguments)})}}var n=e.writeFile;e.writeFile=i;function i(T,D,B,P){return typeof B=="function"&&(P=B,B=null),G(T,D,B,P);function G(N,H,R,E,K){return n(N,H,R,function(U){U&&(U.code==="EMFILE"||U.code==="ENFILE")?li([G,[N,H,R,E],U,K||Date.now(),Date.now()]):typeof E=="function"&&E.apply(this,arguments)})}}var a=e.appendFile;a&&(e.appendFile=s);function s(T,D,B,P){return typeof B=="function"&&(P=B,B=null),G(T,D,B,P);function G(N,H,R,E,K){return a(N,H,R,function(U){U&&(U.code==="EMFILE"||U.code==="ENFILE")?li([G,[N,H,R,E],U,K||Date.now(),Date.now()]):typeof E=="function"&&E.apply(this,arguments)})}}var c=e.copyFile;c&&(e.copyFile=l);function l(T,D,B,P){return typeof B=="function"&&(P=B,B=0),G(T,D,B,P);function G(N,H,R,E,K){return c(N,H,R,function(U){U&&(U.code==="EMFILE"||U.code==="ENFILE")?li([G,[N,H,R,E],U,K||Date.now(),Date.now()]):typeof E=="function"&&E.apply(this,arguments)})}}var f=e.readdir;e.readdir=d;function d(T,D,B){return typeof D=="function"&&(B=D,D=null),P(T,D,B);function P(G,N,H,R){return f(G,N,function(E,K){E&&(E.code==="EMFILE"||E.code==="ENFILE")?li([P,[G,N,H],E,R||Date.now(),Date.now()]):(K&&K.sort&&K.sort(),typeof H=="function"&&H.call(this,E,K))})}}if(process.version.substr(0,4)==="v0.8"){var m=fM(e);v=m.ReadStream,O=m.WriteStream}var p=e.ReadStream;p&&(v.prototype=Object.create(p.prototype),v.prototype.open=A);var y=e.WriteStream;y&&(O.prototype=Object.create(y.prototype),O.prototype.open=F),Object.defineProperty(e,"ReadStream",{get:function(){return v},set:function(T){v=T},enumerable:!0,configurable:!0}),Object.defineProperty(e,"WriteStream",{get:function(){return O},set:function(T){O=T},enumerable:!0,configurable:!0});var g=v;Object.defineProperty(e,"FileReadStream",{get:function(){return g},set:function(T){g=T},enumerable:!0,configurable:!0});var S=O;Object.defineProperty(e,"FileWriteStream",{get:function(){return S},set:function(T){S=T},enumerable:!0,configurable:!0});function v(T,D){return this instanceof v?(p.apply(this,arguments),this):v.apply(Object.create(v.prototype),arguments)}function A(){var T=this;q(T.path,T.flags,T.mode,function(D,B){D?(T.autoClose&&T.destroy(),T.emit("error",D)):(T.fd=B,T.emit("open",B),T.read())})}function O(T,D){return this instanceof O?(y.apply(this,arguments),this):O.apply(Object.create(O.prototype),arguments)}function F(){var T=this;q(T.path,T.flags,T.mode,function(D,B){D?(T.destroy(),T.emit("error",D)):(T.fd=B,T.emit("open",B))})}function k(T,D){return new e.ReadStream(T,D)}function I(T,D){return new e.WriteStream(T,D)}var M=e.open;e.open=q;function q(T,D,B,P){return typeof B=="function"&&(P=B,B=null),G(T,D,B,P);function G(N,H,R,E,K){return M(N,H,R,function(U,Oe){U&&(U.code==="EMFILE"||U.code==="ENFILE")?li([G,[N,H,R,E],U,K||Date.now(),Date.now()]):typeof E=="function"&&E.apply(this,arguments)})}}return e}function li(e){dn("ENQUEUE",e[0].name,e[1]),be[Me].push(e),id()}var zs;function Xw(){for(var e=Date.now(),t=0;t<be[Me].length;++t)be[Me][t].length>2&&(be[Me][t][3]=e,be[Me][t][4]=e);id()}function id(){if(clearTimeout(zs),zs=void 0,be[Me].length!==0){var e=be[Me].shift(),t=e[0],r=e[1],n=e[2],i=e[3],a=e[4];if(i===void 0)dn("RETRY",t.name,r),t.apply(null,r);else if(Date.now()-i>=6e4){dn("TIMEOUT",t.name,r);var s=r.pop();typeof s=="function"&&s.call(null,n)}else{var c=Date.now()-a,l=Math.max(a-i,1),f=Math.min(l*1.2,100);c>=f?(dn("RETRY",t.name,r),t.apply(null,r.concat([i]))):be[Me].push(e)}zs===void 0&&(zs=setTimeout(id,0))}}});var tE=_((oH,eE)=>{"use strict";var pM=require("path");eE.exports=e=>{let t=process.cwd();return e=pM.resolve(e),process.platform==="win32"&&(t=t.toLowerCase(),e=e.toLowerCase()),e===t}});var nE=_((sH,rE)=>{"use strict";var od=require("path");rE.exports=(e,t)=>{let r=od.relative(t,e);return Boolean(r&&r!==".."&&!r.startsWith(`..${od.sep}`)&&r!==od.resolve(e))}});var iE=_(sd=>{var hn=require("path"),Or=process.platform==="win32",Tr=require("fs"),mM=process.env.NODE_DEBUG&&/fs/.test(process.env.NODE_DEBUG);function gM(){var e;if(mM){var t=new Error;e=r}else e=n;return e;function r(i){i&&(t.message=i.message,i=t,n(i))}function n(i){if(i){if(process.throwDeprecation)throw i;if(!process.noDeprecation){var a="fs: missing callback "+(i.stack||i.message);process.traceDeprecation?console.trace(a):console.error(a)}}}}function yM(e){return typeof e=="function"?e:gM()}var uH=hn.normalize;Or?rr=/(.*?)(?:[\/\\]+|$)/g:rr=/(.*?)(?:[\/]+|$)/g;var rr;Or?ma=/^(?:[a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/][^\\\/]+)?[\\\/]*/:ma=/^[\/]*/;var ma;sd.realpathSync=function(t,r){if(t=hn.resolve(t),r&&Object.prototype.hasOwnProperty.call(r,t))return r[t];var n=t,i={},a={},s,c,l,f;d();function d(){var v=ma.exec(t);s=v[0].length,c=v[0],l=v[0],f="",Or&&!a[l]&&(Tr.lstatSync(l),a[l]=!0)}for(;s<t.length;){rr.lastIndex=s;var m=rr.exec(t);if(f=c,c+=m[0],l=f+m[1],s=rr.lastIndex,!(a[l]||r&&r[l]===l)){var p;if(r&&Object.prototype.hasOwnProperty.call(r,l))p=r[l];else{var y=Tr.lstatSync(l);if(!y.isSymbolicLink()){a[l]=!0,r&&(r[l]=l);continue}var g=null;if(!Or){var S=y.dev.toString(32)+":"+y.ino.toString(32);i.hasOwnProperty(S)&&(g=i[S])}g===null&&(Tr.statSync(l),g=Tr.readlinkSync(l)),p=hn.resolve(f,g),r&&(r[l]=p),Or||(i[S]=g)}t=hn.resolve(p,t.slice(s)),d()}}return r&&(r[n]=t),t};sd.realpath=function(t,r,n){if(typeof n!="function"&&(n=yM(r),r=null),t=hn.resolve(t),r&&Object.prototype.hasOwnProperty.call(r,t))return process.nextTick(n.bind(null,null,r[t]));var i=t,a={},s={},c,l,f,d;m();function m(){var v=ma.exec(t);c=v[0].length,l=v[0],f=v[0],d="",Or&&!s[f]?Tr.lstat(f,function(A){if(A)return n(A);s[f]=!0,p()}):process.nextTick(p)}function p(){if(c>=t.length)return r&&(r[i]=t),n(null,t);rr.lastIndex=c;var v=rr.exec(t);return d=l,l+=v[0],f=d+v[1],c=rr.lastIndex,s[f]||r&&r[f]===f?process.nextTick(p):r&&Object.prototype.hasOwnProperty.call(r,f)?S(r[f]):Tr.lstat(f,y)}function y(v,A){if(v)return n(v);if(!A.isSymbolicLink())return s[f]=!0,r&&(r[f]=f),process.nextTick(p);if(!Or){var O=A.dev.toString(32)+":"+A.ino.toString(32);if(a.hasOwnProperty(O))return g(null,a[O],f)}Tr.stat(f,function(F){if(F)return n(F);Tr.readlink(f,function(k,I){Or||(a[O]=I),g(k,I)})})}function g(v,A,O){if(v)return n(v);var F=hn.resolve(d,A);r&&(r[O]=F),S(F)}function S(v){t=hn.resolve(v,t.slice(c)),m()}}});var fd=_((lH,uE)=>{uE.exports=xr;xr.realpath=xr;xr.sync=ld;xr.realpathSync=ld;xr.monkeypatch=vM;xr.unmonkeypatch=SM;var fi=require("fs"),ud=fi.realpath,cd=fi.realpathSync,bM=process.version,aE=/^v[0-5]\./.test(bM),oE=iE();function sE(e){return e&&e.syscall==="realpath"&&(e.code==="ELOOP"||e.code==="ENOMEM"||e.code==="ENAMETOOLONG")}function xr(e,t,r){if(aE)return ud(e,t,r);typeof t=="function"&&(r=t,t=null),ud(e,t,function(n,i){sE(n)?oE.realpath(e,t,r):r(n,i)})}function ld(e,t){if(aE)return cd(e,t);try{return cd(e,t)}catch(r){if(sE(r))return oE.realpathSync(e,t);throw r}}function vM(){fi.realpath=xr,fi.realpathSync=ld}function SM(){fi.realpath=ud,fi.realpathSync=cd}});var lE=_((fH,cE)=>{cE.exports=function(e,t){for(var r=[],n=0;n<e.length;n++){var i=t(e[n],n);_M(i)?r.push.apply(r,i):r.push(i)}return r};var _M=Array.isArray||function(e){return Object.prototype.toString.call(e)==="[object Array]"}});var mE=_((dH,pE)=>{"use strict";pE.exports=dE;function dE(e,t,r){e instanceof RegExp&&(e=fE(e,r)),t instanceof RegExp&&(t=fE(t,r));var n=hE(e,t,r);return n&&{start:n[0],end:n[1],pre:r.slice(0,n[0]),body:r.slice(n[0]+e.length,n[1]),post:r.slice(n[1]+t.length)}}function fE(e,t){var r=t.match(e);return r?r[0]:null}dE.range=hE;function hE(e,t,r){var n,i,a,s,c,l=r.indexOf(e),f=r.indexOf(t,l+1),d=l;if(l>=0&&f>0){if(e===t)return[l,f];for(n=[],a=r.length;d>=0&&!c;)d==l?(n.push(d),l=r.indexOf(e,d+1)):n.length==1?c=[n.pop(),f]:(i=n.pop(),i<a&&(a=i,s=f),f=r.indexOf(t,d+1)),d=l<f&&l>=0?l:f;n.length&&(c=[a,s])}return c}});var EE=_((hH,wE)=>{var wM=lE(),gE=mE();wE.exports=AM;var yE="\0SLASH"+Math.random()+"\0",bE="\0OPEN"+Math.random()+"\0",hd="\0CLOSE"+Math.random()+"\0",vE="\0COMMA"+Math.random()+"\0",SE="\0PERIOD"+Math.random()+"\0";function dd(e){return parseInt(e,10)==e?parseInt(e,10):e.charCodeAt(0)}function EM(e){return e.split("\\\\").join(yE).split("\\{").join(bE).split("\\}").join(hd).split("\\,").join(vE).split("\\.").join(SE)}function RM(e){return e.split(yE).join("\\").split(bE).join("{").split(hd).join("}").split(vE).join(",").split(SE).join(".")}function _E(e){if(!e)return[""];var t=[],r=gE("{","}",e);if(!r)return e.split(",");var n=r.pre,i=r.body,a=r.post,s=n.split(",");s[s.length-1]+="{"+i+"}";var c=_E(a);return a.length&&(s[s.length-1]+=c.shift(),s.push.apply(s,c)),t.push.apply(t,s),t}function AM(e){return e?(e.substr(0,2)==="{}"&&(e="\\{\\}"+e.substr(2)),di(EM(e),!0).map(RM)):[]}function PM(e){return"{"+e+"}"}function TM(e){return/^-?0\d/.test(e)}function OM(e,t){return e<=t}function xM(e,t){return e>=t}function di(e,t){var r=[],n=gE("{","}",e);if(!n||/\$$/.test(n.pre))return[e];var i=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(n.body),a=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(n.body),s=i||a,c=n.body.indexOf(",")>=0;if(!s&&!c)return n.post.match(/,.*\}/)?(e=n.pre+"{"+n.body+hd+n.post,di(e)):[e];var l;if(s)l=n.body.split(/\.\./);else if(l=_E(n.body),l.length===1&&(l=di(l[0],!1).map(PM),l.length===1)){var d=n.post.length?di(n.post,!1):[""];return d.map(function(P){return n.pre+l[0]+P})}var f=n.pre,d=n.post.length?di(n.post,!1):[""],m;if(s){var p=dd(l[0]),y=dd(l[1]),g=Math.max(l[0].length,l[1].length),S=l.length==3?Math.abs(dd(l[2])):1,v=OM,A=y<p;A&&(S*=-1,v=xM);var O=l.some(TM);m=[];for(var F=p;v(F,y);F+=S){var k;if(a)k=String.fromCharCode(F),k==="\\"&&(k="");else if(k=String(F),O){var I=g-k.length;if(I>0){var M=new Array(I+1).join("0");F<0?k="-"+M+k.slice(1):k=M+k}}m.push(k)}}else m=wM(l,function(B){return di(B,!1)});for(var q=0;q<m.length;q++)for(var T=0;T<d.length;T++){var D=f+m[q]+d[T];(!t||s||D)&&r.push(D)}return r}});var Ks=_((pH,OE)=>{OE.exports=ot;ot.Minimatch=qe;var ga=function(){try{return require("path")}catch{}}()||{sep:"/"};ot.sep=ga.sep;var gd=ot.GLOBSTAR=qe.GLOBSTAR={},CM=EE(),RE={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}},pd="[^/]",md=pd+"*?",IM="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?",kM="(?:(?!(?:\\/|^)\\.).)*?",AE=DM("().*{}+?[]^$\\!");function DM(e){return e.split("").reduce(function(t,r){return t[r]=!0,t},{})}var PE=/\/+/;ot.filter=LM;function LM(e,t){return t=t||{},function(r,n,i){return ot(r,e,t)}}function Cr(e,t){t=t||{};var r={};return Object.keys(e).forEach(function(n){r[n]=e[n]}),Object.keys(t).forEach(function(n){r[n]=t[n]}),r}ot.defaults=function(e){if(!e||typeof e!="object"||!Object.keys(e).length)return ot;var t=ot,r=function(i,a,s){return t(i,a,Cr(e,s))};return r.Minimatch=function(i,a){return new t.Minimatch(i,Cr(e,a))},r.Minimatch.defaults=function(i){return t.defaults(Cr(e,i)).Minimatch},r.filter=function(i,a){return t.filter(i,Cr(e,a))},r.defaults=function(i){return t.defaults(Cr(e,i))},r.makeRe=function(i,a){return t.makeRe(i,Cr(e,a))},r.braceExpand=function(i,a){return t.braceExpand(i,Cr(e,a))},r.match=function(n,i,a){return t.match(n,i,Cr(e,a))},r};qe.defaults=function(e){return ot.defaults(e).Minimatch};function ot(e,t,r){return Qs(t),r||(r={}),!r.nocomment&&t.charAt(0)==="#"?!1:new qe(t,r).match(e)}function qe(e,t){if(!(this instanceof qe))return new qe(e,t);Qs(e),t||(t={}),e=e.trim(),!t.allowWindowsEscape&&ga.sep!=="/"&&(e=e.split(ga.sep).join("/")),this.options=t,this.set=[],this.pattern=e,this.regexp=null,this.negate=!1,this.comment=!1,this.empty=!1,this.partial=!!t.partial,this.make()}qe.prototype.debug=function(){};qe.prototype.make=FM;function FM(){var e=this.pattern,t=this.options;if(!t.nocomment&&e.charAt(0)==="#"){this.comment=!0;return}if(!e){this.empty=!0;return}this.parseNegate();var r=this.globSet=this.braceExpand();t.debug&&(this.debug=function(){console.error.apply(console,arguments)}),this.debug(this.pattern,r),r=this.globParts=r.map(function(n){return n.split(PE)}),this.debug(this.pattern,r),r=r.map(function(n,i,a){return n.map(this.parse,this)},this),this.debug(this.pattern,r),r=r.filter(function(n){return n.indexOf(!1)===-1}),this.debug(this.pattern,r),this.set=r}qe.prototype.parseNegate=MM;function MM(){var e=this.pattern,t=!1,r=this.options,n=0;if(!r.nonegate){for(var i=0,a=e.length;i<a&&e.charAt(i)==="!";i++)t=!t,n++;n&&(this.pattern=e.substr(n)),this.negate=t}}ot.braceExpand=function(e,t){return TE(e,t)};qe.prototype.braceExpand=TE;function TE(e,t){return t||(this instanceof qe?t=this.options:t={}),e=typeof e>"u"?this.pattern:e,Qs(e),t.nobrace||!/\{(?:(?!\{).)*\}/.test(e)?[e]:CM(e)}var qM=1024*64,Qs=function(e){if(typeof e!="string")throw new TypeError("invalid pattern");if(e.length>qM)throw new TypeError("pattern is too long")};qe.prototype.parse=NM;var Vs={};function NM(e,t){Qs(e);var r=this.options;if(e==="**")if(r.noglobstar)e="*";else return gd;if(e==="")return"";var n="",i=!!r.nocase,a=!1,s=[],c=[],l,f=!1,d=-1,m=-1,p=e.charAt(0)==="."?"":r.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",y=this;function g(){if(l){switch(l){case"*":n+=md,i=!0;break;case"?":n+=pd,i=!0;break;default:n+="\\"+l;break}y.debug("clearStateChar %j %j",l,n),l=!1}}for(var S=0,v=e.length,A;S<v&&(A=e.charAt(S));S++){if(this.debug("%s	%s %s %j",e,S,n,A),a&&AE[A]){n+="\\"+A,a=!1;continue}switch(A){case"/":return!1;case"\\":g(),a=!0;continue;case"?":case"*":case"+":case"@":case"!":if(this.debug("%s	%s %s %j <-- stateChar",e,S,n,A),f){this.debug("  in class"),A==="!"&&S===m+1&&(A="^"),n+=A;continue}y.debug("call clearStateChar %j",l),g(),l=A,r.noext&&g();continue;case"(":if(f){n+="(";continue}if(!l){n+="\\(";continue}s.push({type:l,start:S-1,reStart:n.length,open:RE[l].open,close:RE[l].close}),n+=l==="!"?"(?:(?!(?:":"(?:",this.debug("plType %j %j",l,n),l=!1;continue;case")":if(f||!s.length){n+="\\)";continue}g(),i=!0;var O=s.pop();n+=O.close,O.type==="!"&&c.push(O),O.reEnd=n.length;continue;case"|":if(f||!s.length||a){n+="\\|",a=!1;continue}g(),n+="|";continue;case"[":if(g(),f){n+="\\"+A;continue}f=!0,m=S,d=n.length,n+=A;continue;case"]":if(S===m+1||!f){n+="\\"+A,a=!1;continue}var F=e.substring(m+1,S);try{RegExp("["+F+"]")}catch{var k=this.parse(F,Vs);n=n.substr(0,d)+"\\["+k[0]+"\\]",i=i||k[1],f=!1;continue}i=!0,f=!1,n+=A;continue;default:g(),a?a=!1:AE[A]&&!(A==="^"&&f)&&(n+="\\"),n+=A}}for(f&&(F=e.substr(m+1),k=this.parse(F,Vs),n=n.substr(0,d)+"\\["+k[0],i=i||k[1]),O=s.pop();O;O=s.pop()){var I=n.slice(O.reStart+O.open.length);this.debug("setting tail",n,O),I=I.replace(/((?:\\{2}){0,64})(\\?)\|/g,function(Be,Ae,st){return st||(st="\\"),Ae+Ae+st+"|"}),this.debug(`tail=%j
   %s`,I,I,O,n);var M=O.type==="*"?md:O.type==="?"?pd:"\\"+O.type;i=!0,n=n.slice(0,O.reStart)+M+"\\("+I}g(),a&&(n+="\\\\");var q=!1;switch(n.charAt(0)){case"[":case".":case"(":q=!0}for(var T=c.length-1;T>-1;T--){var D=c[T],B=n.slice(0,D.reStart),P=n.slice(D.reStart,D.reEnd-8),G=n.slice(D.reEnd-8,D.reEnd),N=n.slice(D.reEnd);G+=N;var H=B.split("(").length-1,R=N;for(S=0;S<H;S++)R=R.replace(/\)[+*?]?/,"");N=R;var E="";N===""&&t!==Vs&&(E="$");var K=B+P+N+E+G;n=K}if(n!==""&&i&&(n="(?=.)"+n),q&&(n=p+n),t===Vs)return[n,i];if(!i)return $M(e);var U=r.nocase?"i":"";try{var Oe=new RegExp("^"+n+"$",U)}catch{return new RegExp("$.")}return Oe._glob=e,Oe._src=n,Oe}ot.makeRe=function(e,t){return new qe(e,t||{}).makeRe()};qe.prototype.makeRe=BM;function BM(){if(this.regexp||this.regexp===!1)return this.regexp;var e=this.set;if(!e.length)return this.regexp=!1,this.regexp;var t=this.options,r=t.noglobstar?md:t.dot?IM:kM,n=t.nocase?"i":"",i=e.map(function(a){return a.map(function(s){return s===gd?r:typeof s=="string"?GM(s):s._src}).join("\\/")}).join("|");i="^(?:"+i+")$",this.negate&&(i="^(?!"+i+").*$");try{this.regexp=new RegExp(i,n)}catch{this.regexp=!1}return this.regexp}ot.match=function(e,t,r){r=r||{};var n=new qe(t,r);return e=e.filter(function(i){return n.match(i)}),n.options.nonull&&!e.length&&e.push(t),e};qe.prototype.match=function(t,r){if(typeof r>"u"&&(r=this.partial),this.debug("match",t,this.pattern),this.comment)return!1;if(this.empty)return t==="";if(t==="/"&&r)return!0;var n=this.options;ga.sep!=="/"&&(t=t.split(ga.sep).join("/")),t=t.split(PE),this.debug(this.pattern,"split",t);var i=this.set;this.debug(this.pattern,"set",i);var a,s;for(s=t.length-1;s>=0&&(a=t[s],!a);s--);for(s=0;s<i.length;s++){var c=i[s],l=t;n.matchBase&&c.length===1&&(l=[a]);var f=this.matchOne(l,c,r);if(f)return n.flipNegate?!0:!this.negate}return n.flipNegate?!1:this.negate};qe.prototype.matchOne=function(e,t,r){var n=this.options;this.debug("matchOne",{this:this,file:e,pattern:t}),this.debug("matchOne",e.length,t.length);for(var i=0,a=0,s=e.length,c=t.length;i<s&&a<c;i++,a++){this.debug("matchOne loop");var l=t[a],f=e[i];if(this.debug(t,l,f),l===!1)return!1;if(l===gd){this.debug("GLOBSTAR",[t,l,f]);var d=i,m=a+1;if(m===c){for(this.debug("** at the end");i<s;i++)if(e[i]==="."||e[i]===".."||!n.dot&&e[i].charAt(0)===".")return!1;return!0}for(;d<s;){var p=e[d];if(this.debug(`
globstar while`,e,d,t,m,p),this.matchOne(e.slice(d),t.slice(m),r))return this.debug("globstar found match!",d,s,p),!0;if(p==="."||p===".."||!n.dot&&p.charAt(0)==="."){this.debug("dot detected!",e,d,t,m);break}this.debug("globstar swallow a segment, and continue"),d++}return!!(r&&(this.debug(`
>>> no match, partial?`,e,d,t,m),d===s))}var y;if(typeof l=="string"?(y=f===l,this.debug("string match",l,f,y)):(y=f.match(l),this.debug("pattern match",l,f,y)),!y)return!1}if(i===s&&a===c)return!0;if(i===s)return r;if(a===c)return i===s-1&&e[i]==="";throw new Error("wtf?")};function $M(e){return e.replace(/\\(.)/g,"$1")}function GM(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}});var xE=_((mH,yd)=>{typeof Object.create=="function"?yd.exports=function(t,r){r&&(t.super_=r,t.prototype=Object.create(r.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:yd.exports=function(t,r){if(r){t.super_=r;var n=function(){};n.prototype=r.prototype,t.prototype=new n,t.prototype.constructor=t}}});var CE=_((gH,vd)=>{try{if(bd=require("util"),typeof bd.inherits!="function")throw"";vd.exports=bd.inherits}catch{vd.exports=xE()}var bd});var Zs=_((yH,Xs)=>{"use strict";function IE(e){return e.charAt(0)==="/"}function kE(e){var t=/^([a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/]+[^\\\/]+)?([\\\/])?([\s\S]*?)$/,r=t.exec(e),n=r[1]||"",i=Boolean(n&&n.charAt(1)!==":");return Boolean(r[2]||i)}Xs.exports=process.platform==="win32"?kE:IE;Xs.exports.posix=IE;Xs.exports.win32=kE});var _d=_(Ir=>{Ir.setopts=YM;Ir.ownProp=DE;Ir.makeAbs=ya;Ir.finish=VM;Ir.mark=QM;Ir.isIgnored=FE;Ir.childrenIgnored=KM;function DE(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var WM=require("fs"),hi=require("path"),jM=Ks(),LE=Zs(),Sd=jM.Minimatch;function UM(e,t){return e.localeCompare(t,"en")}function HM(e,t){e.ignore=t.ignore||[],Array.isArray(e.ignore)||(e.ignore=[e.ignore]),e.ignore.length&&(e.ignore=e.ignore.map(zM))}function zM(e){var t=null;if(e.slice(-3)==="/**"){var r=e.replace(/(\/\*\*)+$/,"");t=new Sd(r,{dot:!0})}return{matcher:new Sd(e,{dot:!0}),gmatcher:t}}function YM(e,t,r){if(r||(r={}),r.matchBase&&t.indexOf("/")===-1){if(r.noglobstar)throw new Error("base matching requires globstar");t="**/"+t}e.silent=!!r.silent,e.pattern=t,e.strict=r.strict!==!1,e.realpath=!!r.realpath,e.realpathCache=r.realpathCache||Object.create(null),e.follow=!!r.follow,e.dot=!!r.dot,e.mark=!!r.mark,e.nodir=!!r.nodir,e.nodir&&(e.mark=!0),e.sync=!!r.sync,e.nounique=!!r.nounique,e.nonull=!!r.nonull,e.nosort=!!r.nosort,e.nocase=!!r.nocase,e.stat=!!r.stat,e.noprocess=!!r.noprocess,e.absolute=!!r.absolute,e.fs=r.fs||WM,e.maxLength=r.maxLength||1/0,e.cache=r.cache||Object.create(null),e.statCache=r.statCache||Object.create(null),e.symlinks=r.symlinks||Object.create(null),HM(e,r),e.changedCwd=!1;var n=process.cwd();DE(r,"cwd")?(e.cwd=hi.resolve(r.cwd),e.changedCwd=e.cwd!==n):e.cwd=n,e.root=r.root||hi.resolve(e.cwd,"/"),e.root=hi.resolve(e.root),process.platform==="win32"&&(e.root=e.root.replace(/\\/g,"/")),e.cwdAbs=LE(e.cwd)?e.cwd:ya(e,e.cwd),process.platform==="win32"&&(e.cwdAbs=e.cwdAbs.replace(/\\/g,"/")),e.nomount=!!r.nomount,r.nonegate=!0,r.nocomment=!0,e.minimatch=new Sd(t,r),e.options=e.minimatch.options}function VM(e){for(var t=e.nounique,r=t?[]:Object.create(null),n=0,i=e.matches.length;n<i;n++){var a=e.matches[n];if(!a||Object.keys(a).length===0){if(e.nonull){var s=e.minimatch.globSet[n];t?r.push(s):r[s]=!0}}else{var c=Object.keys(a);t?r.push.apply(r,c):c.forEach(function(l){r[l]=!0})}}if(t||(r=Object.keys(r)),e.nosort||(r=r.sort(UM)),e.mark){for(var n=0;n<r.length;n++)r[n]=e._mark(r[n]);e.nodir&&(r=r.filter(function(l){var f=!/\/$/.test(l),d=e.cache[l]||e.cache[ya(e,l)];return f&&d&&(f=d!=="DIR"&&!Array.isArray(d)),f}))}e.ignore.length&&(r=r.filter(function(l){return!FE(e,l)})),e.found=r}function QM(e,t){var r=ya(e,t),n=e.cache[r],i=t;if(n){var a=n==="DIR"||Array.isArray(n),s=t.slice(-1)==="/";if(a&&!s?i+="/":!a&&s&&(i=i.slice(0,-1)),i!==t){var c=ya(e,i);e.statCache[c]=e.statCache[r],e.cache[c]=e.cache[r]}}return i}function ya(e,t){var r=t;return t.charAt(0)==="/"?r=hi.join(e.root,t):LE(t)||t===""?r=t:e.changedCwd?r=hi.resolve(e.cwd,t):r=hi.resolve(t),process.platform==="win32"&&(r=r.replace(/\\/g,"/")),r}function FE(e,t){return e.ignore.length?e.ignore.some(function(r){return r.matcher.match(t)||!!(r.gmatcher&&r.gmatcher.match(t))}):!1}function KM(e,t){return e.ignore.length?e.ignore.some(function(r){return!!(r.gmatcher&&r.gmatcher.match(t))}):!1}});var $E=_((wH,BE)=>{BE.exports=NE;NE.GlobSync=Te;var XM=fd(),ME=Ks(),vH=ME.Minimatch,SH=Rd().Glob,_H=require("util"),wd=require("path"),qE=require("assert"),Js=Zs(),pn=_d(),ZM=pn.setopts,Ed=pn.ownProp,JM=pn.childrenIgnored,eq=pn.isIgnored;function NE(e,t){if(typeof t=="function"||arguments.length===3)throw new TypeError(`callback provided to sync glob
See: https://github.com/isaacs/node-glob/issues/167`);return new Te(e,t).found}function Te(e,t){if(!e)throw new Error("must provide pattern");if(typeof t=="function"||arguments.length===3)throw new TypeError(`callback provided to sync glob
See: https://github.com/isaacs/node-glob/issues/167`);if(!(this instanceof Te))return new Te(e,t);if(ZM(this,e,t),this.noprocess)return this;var r=this.minimatch.set.length;this.matches=new Array(r);for(var n=0;n<r;n++)this._process(this.minimatch.set[n],n,!1);this._finish()}Te.prototype._finish=function(){if(qE(this instanceof Te),this.realpath){var e=this;this.matches.forEach(function(t,r){var n=e.matches[r]=Object.create(null);for(var i in t)try{i=e._makeAbs(i);var a=XM.realpathSync(i,e.realpathCache);n[a]=!0}catch(s){if(s.syscall==="stat")n[e._makeAbs(i)]=!0;else throw s}})}pn.finish(this)};Te.prototype._process=function(e,t,r){qE(this instanceof Te);for(var n=0;typeof e[n]=="string";)n++;var i;switch(n){case e.length:this._processSimple(e.join("/"),t);return;case 0:i=null;break;default:i=e.slice(0,n).join("/");break}var a=e.slice(n),s;i===null?s=".":((Js(i)||Js(e.join("/")))&&(!i||!Js(i))&&(i="/"+i),s=i);var c=this._makeAbs(s);if(!JM(this,s)){var l=a[0]===ME.GLOBSTAR;l?this._processGlobStar(i,s,c,a,t,r):this._processReaddir(i,s,c,a,t,r)}};Te.prototype._processReaddir=function(e,t,r,n,i,a){var s=this._readdir(r,a);if(!!s){for(var c=n[0],l=!!this.minimatch.negate,f=c._glob,d=this.dot||f.charAt(0)===".",m=[],p=0;p<s.length;p++){var y=s[p];if(y.charAt(0)!=="."||d){var g;l&&!e?g=!y.match(c):g=y.match(c),g&&m.push(y)}}var S=m.length;if(S!==0){if(n.length===1&&!this.mark&&!this.stat){this.matches[i]||(this.matches[i]=Object.create(null));for(var p=0;p<S;p++){var y=m[p];e&&(e.slice(-1)!=="/"?y=e+"/"+y:y=e+y),y.charAt(0)==="/"&&!this.nomount&&(y=wd.join(this.root,y)),this._emitMatch(i,y)}return}n.shift();for(var p=0;p<S;p++){var y=m[p],v;e?v=[e,y]:v=[y],this._process(v.concat(n),i,a)}}}};Te.prototype._emitMatch=function(e,t){if(!eq(this,t)){var r=this._makeAbs(t);if(this.mark&&(t=this._mark(t)),this.absolute&&(t=r),!this.matches[e][t]){if(this.nodir){var n=this.cache[r];if(n==="DIR"||Array.isArray(n))return}this.matches[e][t]=!0,this.stat&&this._stat(t)}}};Te.prototype._readdirInGlobStar=function(e){if(this.follow)return this._readdir(e,!1);var t,r,n;try{r=this.fs.lstatSync(e)}catch(a){if(a.code==="ENOENT")return null}var i=r&&r.isSymbolicLink();return this.symlinks[e]=i,!i&&r&&!r.isDirectory()?this.cache[e]="FILE":t=this._readdir(e,!1),t};Te.prototype._readdir=function(e,t){var r;if(t&&!Ed(this.symlinks,e))return this._readdirInGlobStar(e);if(Ed(this.cache,e)){var n=this.cache[e];if(!n||n==="FILE")return null;if(Array.isArray(n))return n}try{return this._readdirEntries(e,this.fs.readdirSync(e))}catch(i){return this._readdirError(e,i),null}};Te.prototype._readdirEntries=function(e,t){if(!this.mark&&!this.stat)for(var r=0;r<t.length;r++){var n=t[r];e==="/"?n=e+n:n=e+"/"+n,this.cache[n]=!0}return this.cache[e]=t,t};Te.prototype._readdirError=function(e,t){switch(t.code){case"ENOTSUP":case"ENOTDIR":var r=this._makeAbs(e);if(this.cache[r]="FILE",r===this.cwdAbs){var n=new Error(t.code+" invalid cwd "+this.cwd);throw n.path=this.cwd,n.code=t.code,n}break;case"ENOENT":case"ELOOP":case"ENAMETOOLONG":case"UNKNOWN":this.cache[this._makeAbs(e)]=!1;break;default:if(this.cache[this._makeAbs(e)]=!1,this.strict)throw t;this.silent||console.error("glob error",t);break}};Te.prototype._processGlobStar=function(e,t,r,n,i,a){var s=this._readdir(r,a);if(!!s){var c=n.slice(1),l=e?[e]:[],f=l.concat(c);this._process(f,i,!1);var d=s.length,m=this.symlinks[r];if(!(m&&a))for(var p=0;p<d;p++){var y=s[p];if(!(y.charAt(0)==="."&&!this.dot)){var g=l.concat(s[p],c);this._process(g,i,!0);var S=l.concat(s[p],n);this._process(S,i,!0)}}}};Te.prototype._processSimple=function(e,t){var r=this._stat(e);if(this.matches[t]||(this.matches[t]=Object.create(null)),!!r){if(e&&Js(e)&&!this.nomount){var n=/[\/\\]$/.test(e);e.charAt(0)==="/"?e=wd.join(this.root,e):(e=wd.resolve(this.root,e),n&&(e+="/"))}process.platform==="win32"&&(e=e.replace(/\\/g,"/")),this._emitMatch(t,e)}};Te.prototype._stat=function(e){var t=this._makeAbs(e),r=e.slice(-1)==="/";if(e.length>this.maxLength)return!1;if(!this.stat&&Ed(this.cache,t)){var s=this.cache[t];if(Array.isArray(s)&&(s="DIR"),!r||s==="DIR")return s;if(r&&s==="FILE")return!1}var n,i=this.statCache[t];if(!i){var a;try{a=this.fs.lstatSync(t)}catch(c){if(c&&(c.code==="ENOENT"||c.code==="ENOTDIR"))return this.statCache[t]=!1,!1}if(a&&a.isSymbolicLink())try{i=this.fs.statSync(t)}catch{i=a}else i=a}this.statCache[t]=i;var s=!0;return i&&(s=i.isDirectory()?"DIR":"FILE"),this.cache[t]=this.cache[t]||s,r&&s==="FILE"?!1:s};Te.prototype._mark=function(e){return pn.mark(this,e)};Te.prototype._makeAbs=function(e){return pn.makeAbs(this,e)}});var Ad=_((EH,WE)=>{WE.exports=GE;function GE(e,t){if(e&&t)return GE(e)(t);if(typeof e!="function")throw new TypeError("need wrapper function");return Object.keys(e).forEach(function(n){r[n]=e[n]}),r;function r(){for(var n=new Array(arguments.length),i=0;i<n.length;i++)n[i]=arguments[i];var a=e.apply(this,n),s=n[n.length-1];return typeof a=="function"&&a!==s&&Object.keys(s).forEach(function(c){a[c]=s[c]}),a}}});var Td=_((RH,Pd)=>{var jE=Ad();Pd.exports=jE(eu);Pd.exports.strict=jE(UE);eu.proto=eu(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return eu(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return UE(this)},configurable:!0})});function eu(e){var t=function(){return t.called?t.value:(t.called=!0,t.value=e.apply(this,arguments))};return t.called=!1,t}function UE(e){var t=function(){if(t.called)throw new Error(t.onceError);return t.called=!0,t.value=e.apply(this,arguments)},r=e.name||"Function wrapped with `once`";return t.onceError=r+" shouldn't be called more than once",t.called=!1,t}});var zE=_((AH,HE)=>{var tq=Ad(),ba=Object.create(null),rq=Td();HE.exports=tq(nq);function nq(e,t){return ba[e]?(ba[e].push(t),null):(ba[e]=[t],iq(e))}function iq(e){return rq(function t(){var r=ba[e],n=r.length,i=aq(arguments);try{for(var a=0;a<n;a++)r[a].apply(null,i)}finally{r.length>n?(r.splice(0,n),process.nextTick(function(){t.apply(null,i)})):delete ba[e]}})}function aq(e){for(var t=e.length,r=[],n=0;n<t;n++)r[n]=e[n];return r}});var Rd=_((OH,VE)=>{VE.exports=mn;var oq=fd(),YE=Ks(),PH=YE.Minimatch,sq=CE(),uq=require("events").EventEmitter,Od=require("path"),xd=require("assert"),va=Zs(),Id=$E(),gn=_d(),cq=gn.setopts,Cd=gn.ownProp,kd=zE(),TH=require("util"),lq=gn.childrenIgnored,fq=gn.isIgnored,dq=Td();function mn(e,t,r){if(typeof t=="function"&&(r=t,t={}),t||(t={}),t.sync){if(r)throw new TypeError("callback provided to sync glob");return Id(e,t)}return new ce(e,t,r)}mn.sync=Id;var hq=mn.GlobSync=Id.GlobSync;mn.glob=mn;function pq(e,t){if(t===null||typeof t!="object")return e;for(var r=Object.keys(t),n=r.length;n--;)e[r[n]]=t[r[n]];return e}mn.hasMagic=function(e,t){var r=pq({},t);r.noprocess=!0;var n=new ce(e,r),i=n.minimatch.set;if(!e)return!1;if(i.length>1)return!0;for(var a=0;a<i[0].length;a++)if(typeof i[0][a]!="string")return!0;return!1};mn.Glob=ce;sq(ce,uq);function ce(e,t,r){if(typeof t=="function"&&(r=t,t=null),t&&t.sync){if(r)throw new TypeError("callback provided to sync glob");return new hq(e,t)}if(!(this instanceof ce))return new ce(e,t,r);cq(this,e,t),this._didRealPath=!1;var n=this.minimatch.set.length;this.matches=new Array(n),typeof r=="function"&&(r=dq(r),this.on("error",r),this.on("end",function(l){r(null,l)}));var i=this;if(this._processing=0,this._emitQueue=[],this._processQueue=[],this.paused=!1,this.noprocess)return this;if(n===0)return c();for(var a=!0,s=0;s<n;s++)this._process(this.minimatch.set[s],s,!1,c);a=!1;function c(){--i._processing,i._processing<=0&&(a?process.nextTick(function(){i._finish()}):i._finish())}}ce.prototype._finish=function(){if(xd(this instanceof ce),!this.aborted){if(this.realpath&&!this._didRealpath)return this._realpath();gn.finish(this),this.emit("end",this.found)}};ce.prototype._realpath=function(){if(this._didRealpath)return;this._didRealpath=!0;var e=this.matches.length;if(e===0)return this._finish();for(var t=this,r=0;r<this.matches.length;r++)this._realpathSet(r,n);function n(){--e===0&&t._finish()}};ce.prototype._realpathSet=function(e,t){var r=this.matches[e];if(!r)return t();var n=Object.keys(r),i=this,a=n.length;if(a===0)return t();var s=this.matches[e]=Object.create(null);n.forEach(function(c,l){c=i._makeAbs(c),oq.realpath(c,i.realpathCache,function(f,d){f?f.syscall==="stat"?s[c]=!0:i.emit("error",f):s[d]=!0,--a===0&&(i.matches[e]=s,t())})})};ce.prototype._mark=function(e){return gn.mark(this,e)};ce.prototype._makeAbs=function(e){return gn.makeAbs(this,e)};ce.prototype.abort=function(){this.aborted=!0,this.emit("abort")};ce.prototype.pause=function(){this.paused||(this.paused=!0,this.emit("pause"))};ce.prototype.resume=function(){if(this.paused){if(this.emit("resume"),this.paused=!1,this._emitQueue.length){var e=this._emitQueue.slice(0);this._emitQueue.length=0;for(var t=0;t<e.length;t++){var r=e[t];this._emitMatch(r[0],r[1])}}if(this._processQueue.length){var n=this._processQueue.slice(0);this._processQueue.length=0;for(var t=0;t<n.length;t++){var i=n[t];this._processing--,this._process(i[0],i[1],i[2],i[3])}}}};ce.prototype._process=function(e,t,r,n){if(xd(this instanceof ce),xd(typeof n=="function"),!this.aborted){if(this._processing++,this.paused){this._processQueue.push([e,t,r,n]);return}for(var i=0;typeof e[i]=="string";)i++;var a;switch(i){case e.length:this._processSimple(e.join("/"),t,n);return;case 0:a=null;break;default:a=e.slice(0,i).join("/");break}var s=e.slice(i),c;a===null?c=".":((va(a)||va(e.join("/")))&&(!a||!va(a))&&(a="/"+a),c=a);var l=this._makeAbs(c);if(lq(this,c))return n();var f=s[0]===YE.GLOBSTAR;f?this._processGlobStar(a,c,l,s,t,r,n):this._processReaddir(a,c,l,s,t,r,n)}};ce.prototype._processReaddir=function(e,t,r,n,i,a,s){var c=this;this._readdir(r,a,function(l,f){return c._processReaddir2(e,t,r,n,i,a,f,s)})};ce.prototype._processReaddir2=function(e,t,r,n,i,a,s,c){if(!s)return c();for(var l=n[0],f=!!this.minimatch.negate,d=l._glob,m=this.dot||d.charAt(0)===".",p=[],y=0;y<s.length;y++){var g=s[y];if(g.charAt(0)!=="."||m){var S;f&&!e?S=!g.match(l):S=g.match(l),S&&p.push(g)}}var v=p.length;if(v===0)return c();if(n.length===1&&!this.mark&&!this.stat){this.matches[i]||(this.matches[i]=Object.create(null));for(var y=0;y<v;y++){var g=p[y];e&&(e!=="/"?g=e+"/"+g:g=e+g),g.charAt(0)==="/"&&!this.nomount&&(g=Od.join(this.root,g)),this._emitMatch(i,g)}return c()}n.shift();for(var y=0;y<v;y++){var g=p[y],A;e&&(e!=="/"?g=e+"/"+g:g=e+g),this._process([g].concat(n),i,a,c)}c()};ce.prototype._emitMatch=function(e,t){if(!this.aborted&&!fq(this,t)){if(this.paused){this._emitQueue.push([e,t]);return}var r=va(t)?t:this._makeAbs(t);if(this.mark&&(t=this._mark(t)),this.absolute&&(t=r),!this.matches[e][t]){if(this.nodir){var n=this.cache[r];if(n==="DIR"||Array.isArray(n))return}this.matches[e][t]=!0;var i=this.statCache[r];i&&this.emit("stat",t,i),this.emit("match",t)}}};ce.prototype._readdirInGlobStar=function(e,t){if(this.aborted)return;if(this.follow)return this._readdir(e,!1,t);var r="lstat\0"+e,n=this,i=kd(r,a);i&&n.fs.lstat(e,i);function a(s,c){if(s&&s.code==="ENOENT")return t();var l=c&&c.isSymbolicLink();n.symlinks[e]=l,!l&&c&&!c.isDirectory()?(n.cache[e]="FILE",t()):n._readdir(e,!1,t)}};ce.prototype._readdir=function(e,t,r){if(!this.aborted&&(r=kd("readdir\0"+e+"\0"+t,r),!!r)){if(t&&!Cd(this.symlinks,e))return this._readdirInGlobStar(e,r);if(Cd(this.cache,e)){var n=this.cache[e];if(!n||n==="FILE")return r();if(Array.isArray(n))return r(null,n)}var i=this;i.fs.readdir(e,mq(this,e,r))}};function mq(e,t,r){return function(n,i){n?e._readdirError(t,n,r):e._readdirEntries(t,i,r)}}ce.prototype._readdirEntries=function(e,t,r){if(!this.aborted){if(!this.mark&&!this.stat)for(var n=0;n<t.length;n++){var i=t[n];e==="/"?i=e+i:i=e+"/"+i,this.cache[i]=!0}return this.cache[e]=t,r(null,t)}};ce.prototype._readdirError=function(e,t,r){if(!this.aborted){switch(t.code){case"ENOTSUP":case"ENOTDIR":var n=this._makeAbs(e);if(this.cache[n]="FILE",n===this.cwdAbs){var i=new Error(t.code+" invalid cwd "+this.cwd);i.path=this.cwd,i.code=t.code,this.emit("error",i),this.abort()}break;case"ENOENT":case"ELOOP":case"ENAMETOOLONG":case"UNKNOWN":this.cache[this._makeAbs(e)]=!1;break;default:this.cache[this._makeAbs(e)]=!1,this.strict&&(this.emit("error",t),this.abort()),this.silent||console.error("glob error",t);break}return r()}};ce.prototype._processGlobStar=function(e,t,r,n,i,a,s){var c=this;this._readdir(r,a,function(l,f){c._processGlobStar2(e,t,r,n,i,a,f,s)})};ce.prototype._processGlobStar2=function(e,t,r,n,i,a,s,c){if(!s)return c();var l=n.slice(1),f=e?[e]:[],d=f.concat(l);this._process(d,i,!1,c);var m=this.symlinks[r],p=s.length;if(m&&a)return c();for(var y=0;y<p;y++){var g=s[y];if(!(g.charAt(0)==="."&&!this.dot)){var S=f.concat(s[y],l);this._process(S,i,!0,c);var v=f.concat(s[y],n);this._process(v,i,!0,c)}}c()};ce.prototype._processSimple=function(e,t,r){var n=this;this._stat(e,function(i,a){n._processSimple2(e,t,i,a,r)})};ce.prototype._processSimple2=function(e,t,r,n,i){if(this.matches[t]||(this.matches[t]=Object.create(null)),!n)return i();if(e&&va(e)&&!this.nomount){var a=/[\/\\]$/.test(e);e.charAt(0)==="/"?e=Od.join(this.root,e):(e=Od.resolve(this.root,e),a&&(e+="/"))}process.platform==="win32"&&(e=e.replace(/\\/g,"/")),this._emitMatch(t,e),i()};ce.prototype._stat=function(e,t){var r=this._makeAbs(e),n=e.slice(-1)==="/";if(e.length>this.maxLength)return t();if(!this.stat&&Cd(this.cache,r)){var i=this.cache[r];if(Array.isArray(i)&&(i="DIR"),!n||i==="DIR")return t(null,i);if(n&&i==="FILE")return t()}var a,s=this.statCache[r];if(s!==void 0){if(s===!1)return t(null,s);var c=s.isDirectory()?"DIR":"FILE";return n&&c==="FILE"?t():t(null,c,s)}var l=this,f=kd("stat\0"+r,d);f&&l.fs.lstat(r,f);function d(m,p){if(p&&p.isSymbolicLink())return l.fs.stat(r,function(y,g){y?l._stat2(e,r,null,p,t):l._stat2(e,r,y,g,t)});l._stat2(e,r,m,p,t)}};ce.prototype._stat2=function(e,t,r,n,i){if(r&&(r.code==="ENOENT"||r.code==="ENOTDIR"))return this.statCache[t]=!1,i();var a=e.slice(-1)==="/";if(this.statCache[t]=n,t.slice(-1)==="/"&&n&&!n.isDirectory())return i(null,!1,n);var s=!0;return n&&(s=n.isDirectory()?"DIR":"FILE"),this.cache[t]=this.cache[t]||s,a&&s==="FILE"?i():i(null,s,n)}});var r0=_((xH,t0)=>{var de=require("assert"),ZE=require("path"),QE=require("fs"),pi;try{pi=Rd()}catch{}var gq={nosort:!0,silent:!0},Dd=0,Sa=process.platform==="win32",JE=e=>{if(["unlink","chmod","stat","lstat","rmdir","readdir"].forEach(r=>{e[r]=e[r]||QE[r],r=r+"Sync",e[r]=e[r]||QE[r]}),e.maxBusyTries=e.maxBusyTries||3,e.emfileWait=e.emfileWait||1e3,e.glob===!1&&(e.disableGlob=!0),e.disableGlob!==!0&&pi===void 0)throw Error("glob dependency not found, set `options.disableGlob = true` if intentional");e.disableGlob=e.disableGlob||!1,e.glob=e.glob||gq},Fd=(e,t,r)=>{typeof t=="function"&&(r=t,t={}),de(e,"rimraf: missing path"),de.equal(typeof e,"string","rimraf: path should be a string"),de.equal(typeof r,"function","rimraf: callback function required"),de(t,"rimraf: invalid options argument provided"),de.equal(typeof t,"object","rimraf: options should be object"),JE(t);let n=0,i=null,a=0,s=l=>{i=i||l,--a===0&&r(i)},c=(l,f)=>{if(l)return r(l);if(a=f.length,a===0)return r();f.forEach(d=>{let m=p=>{if(p){if((p.code==="EBUSY"||p.code==="ENOTEMPTY"||p.code==="EPERM")&&n<t.maxBusyTries)return n++,setTimeout(()=>Ld(d,t,m),n*100);if(p.code==="EMFILE"&&Dd<t.emfileWait)return setTimeout(()=>Ld(d,t,m),Dd++);p.code==="ENOENT"&&(p=null)}Dd=0,s(p)};Ld(d,t,m)})};if(t.disableGlob||!pi.hasMagic(e))return c(null,[e]);t.lstat(e,(l,f)=>{if(!l)return c(null,[e]);pi(e,t.glob,c)})},Ld=(e,t,r)=>{de(e),de(t),de(typeof r=="function"),t.lstat(e,(n,i)=>{if(n&&n.code==="ENOENT")return r(null);if(n&&n.code==="EPERM"&&Sa&&KE(e,t,n,r),i&&i.isDirectory())return tu(e,t,n,r);t.unlink(e,a=>{if(a){if(a.code==="ENOENT")return r(null);if(a.code==="EPERM")return Sa?KE(e,t,a,r):tu(e,t,a,r);if(a.code==="EISDIR")return tu(e,t,a,r)}return r(a)})})},KE=(e,t,r,n)=>{de(e),de(t),de(typeof n=="function"),t.chmod(e,438,i=>{i?n(i.code==="ENOENT"?null:r):t.stat(e,(a,s)=>{a?n(a.code==="ENOENT"?null:r):s.isDirectory()?tu(e,t,r,n):t.unlink(e,n)})})},XE=(e,t,r)=>{de(e),de(t);try{t.chmodSync(e,438)}catch(i){if(i.code==="ENOENT")return;throw r}let n;try{n=t.statSync(e)}catch(i){if(i.code==="ENOENT")return;throw r}n.isDirectory()?ru(e,t,r):t.unlinkSync(e)},tu=(e,t,r,n)=>{de(e),de(t),de(typeof n=="function"),t.rmdir(e,i=>{i&&(i.code==="ENOTEMPTY"||i.code==="EEXIST"||i.code==="EPERM")?yq(e,t,n):i&&i.code==="ENOTDIR"?n(r):n(i)})},yq=(e,t,r)=>{de(e),de(t),de(typeof r=="function"),t.readdir(e,(n,i)=>{if(n)return r(n);let a=i.length;if(a===0)return t.rmdir(e,r);let s;i.forEach(c=>{Fd(ZE.join(e,c),t,l=>{if(!s){if(l)return r(s=l);--a===0&&t.rmdir(e,r)}})})})},e0=(e,t)=>{t=t||{},JE(t),de(e,"rimraf: missing path"),de.equal(typeof e,"string","rimraf: path should be a string"),de(t,"rimraf: missing options"),de.equal(typeof t,"object","rimraf: options should be object");let r;if(t.disableGlob||!pi.hasMagic(e))r=[e];else try{t.lstatSync(e),r=[e]}catch{r=pi.sync(e,t.glob)}if(!!r.length)for(let n=0;n<r.length;n++){let i=r[n],a;try{a=t.lstatSync(i)}catch(s){if(s.code==="ENOENT")return;s.code==="EPERM"&&Sa&&XE(i,t,s)}try{a&&a.isDirectory()?ru(i,t,null):t.unlinkSync(i)}catch(s){if(s.code==="ENOENT")return;if(s.code==="EPERM")return Sa?XE(i,t,s):ru(i,t,s);if(s.code!=="EISDIR")throw s;ru(i,t,s)}}},ru=(e,t,r)=>{de(e),de(t);try{t.rmdirSync(e)}catch(n){if(n.code==="ENOENT")return;if(n.code==="ENOTDIR")throw r;(n.code==="ENOTEMPTY"||n.code==="EEXIST"||n.code==="EPERM")&&bq(e,t)}},bq=(e,t)=>{de(e),de(t),t.readdirSync(e).forEach(i=>e0(ZE.join(e,i),t));let r=Sa?100:1,n=0;do{let i=!0;try{let a=t.rmdirSync(e,t);return i=!1,a}finally{if(++n<r&&i)continue}}while(!0)};t0.exports=Fd;Fd.sync=e0});var i0=_((CH,n0)=>{"use strict";n0.exports=(e,t=1,r)=>{if(r=j({indent:" ",includeEmptyLines:!1},r),typeof e!="string")throw new TypeError(`Expected \`input\` to be a \`string\`, got \`${typeof e}\``);if(typeof t!="number")throw new TypeError(`Expected \`count\` to be a \`number\`, got \`${typeof t}\``);if(typeof r.indent!="string")throw new TypeError(`Expected \`options.indent\` to be a \`string\`, got \`${typeof r.indent}\``);if(t===0)return e;let n=r.includeEmptyLines?/^/gm:/^(?!\s*$)/gm;return e.replace(n,r.indent.repeat(t))}});var u0=_((IH,s0)=>{"use strict";var a0=require("os"),o0=/\s+at.*(?:\(|\s)(.*)\)?/,vq=/^(?:(?:(?:node|(?:internal\/[\w/]*|.*node_modules\/(?:babel-polyfill|pirates)\/.*)?\w+)\.js:\d+:\d+)|native)/,Sq=typeof a0.homedir>"u"?"":a0.homedir();s0.exports=(e,t)=>(t=Object.assign({pretty:!1},t),e.replace(/\\/g,"/").split(`
`).filter(r=>{let n=r.match(o0);if(n===null||!n[1])return!0;let i=n[1];return i.includes(".app/Contents/Resources/electron.asar")||i.includes(".app/Contents/Resources/default_app.asar")?!1:!vq.test(i)}).filter(r=>r.trim()!=="").map(r=>t.pretty?r.replace(o0,(n,i)=>n.replace(i,i.replace(Sq,"~"))):r).join(`
`))});var f0=_((kH,l0)=>{"use strict";var _q=i0(),wq=u0(),Eq=e=>e.replace(/\s+at .*aggregate-error\/index.js:\d+:\d+\)?/g,""),c0=class extends Error{constructor(t){if(!Array.isArray(t))throw new TypeError(`Expected input to be an Array, got ${typeof t}`);t=[...t].map(n=>n instanceof Error?n:n!==null&&typeof n=="object"?Object.assign(new Error(n.message),n):new Error(n));let r=t.map(n=>typeof n.stack=="string"?Eq(wq(n.stack)):String(n)).join(`
`);r=`
`+_q(r,4);super(r);this.name="AggregateError",Object.defineProperty(this,"_errors",{value:t})}*[Symbol.iterator](){for(let t of this._errors)yield t}};l0.exports=c0});var h0=_((DH,d0)=>{"use strict";var Rq=f0();d0.exports=async(e,t,{concurrency:r=1/0,stopOnError:n=!0}={})=>new Promise((i,a)=>{if(typeof t!="function")throw new TypeError("Mapper function is required");if(!((Number.isSafeInteger(r)||r===1/0)&&r>=1))throw new TypeError(`Expected \`concurrency\` to be an integer from 1 and up or \`Infinity\`, got \`${r}\` (${typeof r})`);let s=[],c=[],l=e[Symbol.iterator](),f=!1,d=!1,m=0,p=0,y=()=>{if(f)return;let g=l.next(),S=p;if(p++,g.done){d=!0,m===0&&(!n&&c.length!==0?a(new Rq(c)):i(s));return}m++,(async()=>{try{let v=await g.value;s[S]=await t(v,S),m--,y()}catch(v){n?(f=!0,a(v)):(c.push(v),m--,y())}})()};for(let g=0;g<r&&(y(),!d);g++);})});var S0=_((LH,Md)=>{"use strict";var{promisify:Aq}=require("util"),p0=require("path"),m0=Ww(),Pq=Il(),Tq=Kf(),ht=Jw(),Oq=tE(),xq=nE(),g0=r0(),Cq=h0(),Iq=Aq(g0),y0={glob:!1,unlink:ht.unlink,unlinkSync:ht.unlinkSync,chmod:ht.chmod,chmodSync:ht.chmodSync,stat:ht.stat,statSync:ht.statSync,lstat:ht.lstat,lstatSync:ht.lstatSync,rmdir:ht.rmdir,rmdirSync:ht.rmdirSync,readdir:ht.readdir,readdirSync:ht.readdirSync};function b0(e,t){if(Oq(e))throw new Error("Cannot delete the current working directory. Can be overridden with the `force` option.");if(!xq(e,t))throw new Error("Cannot delete files/directories outside the current working directory. Can be overridden with the `force` option.")}function v0(e){return e=Array.isArray(e)?e:[e],e=e.map(t=>process.platform==="win32"&&Pq(t)===!1?Tq(t):t),e}Md.exports=async(e,a={})=>{var s=a,{force:t,dryRun:r,cwd:n=process.cwd()}=s,i=ku(s,["force","dryRun","cwd"]);i=j({expandDirectories:!1,onlyFiles:!1,followSymbolicLinks:!1,cwd:n},i),e=v0(e);let c=(await m0(e,i)).sort((d,m)=>m.localeCompare(d)),f=await Cq(c,async d=>(d=p0.resolve(n,d),t||b0(d,n),r||await Iq(d,y0),d),i);return f.sort((d,m)=>d.localeCompare(m)),f};Md.exports.sync=(e,a={})=>{var s=a,{force:t,dryRun:r,cwd:n=process.cwd()}=s,i=ku(s,["force","dryRun","cwd"]);i=j({expandDirectories:!1,onlyFiles:!1,followSymbolicLinks:!1,cwd:n},i),e=v0(e);let l=m0.sync(e,i).sort((f,d)=>d.localeCompare(f)).map(f=>(f=p0.resolve(n,f),t||b0(f,n),r||g0.sync(f,y0),f));return l.sort((f,d)=>f.localeCompare(d)),l}});var Fq={};Kh(Fq,{default:()=>D0});var Et=require("react"),pt=require("@raycast/api");var ho=Se(require("fs"));var Cp=Se(require("node:http"),1),Ip=Se(require("node:https"),1),Wr=Se(require("node:zlib"),1),nt=Se(require("node:stream"),1),$i=require("node:buffer");function oA(e){if(!/^data:/i.test(e))throw new TypeError('`uri` does not appear to be a Data URI (must begin with "data:")');e=e.replace(/\r?\n/g,"");let t=e.indexOf(",");if(t===-1||t<=4)throw new TypeError("malformed data: URI");let r=e.substring(5,t).split(";"),n="",i=!1,a=r[0]||"text/plain",s=a;for(let d=1;d<r.length;d++)r[d]==="base64"?i=!0:(s+=`;${r[d]}`,r[d].indexOf("charset=")===0&&(n=r[d].substring(8)));!r[0]&&!n.length&&(s+=";charset=US-ASCII",n="US-ASCII");let c=i?"base64":"ascii",l=unescape(e.substring(t+1)),f=Buffer.from(l,c);return f.type=a,f.typeFull=s,f.charset=n,f}var Zh=oA;var ct=Se(require("node:stream"),1),Ut=require("node:util"),rt=require("node:buffer");Li();ro();var lr=class extends Error{constructor(t,r){super(t);Error.captureStackTrace(this,this.constructor),this.type=r}get name(){return this.constructor.name}get[Symbol.toStringTag](){return this.constructor.name}};var tt=class extends lr{constructor(t,r,n){super(t,r);n&&(this.code=this.errno=n.code,this.erroredSysCall=n.syscall)}};var no=Symbol.toStringTag,qu=e=>typeof e=="object"&&typeof e.append=="function"&&typeof e.delete=="function"&&typeof e.get=="function"&&typeof e.getAll=="function"&&typeof e.has=="function"&&typeof e.set=="function"&&typeof e.sort=="function"&&e[no]==="URLSearchParams",Mi=e=>e&&typeof e=="object"&&typeof e.arrayBuffer=="function"&&typeof e.type=="string"&&typeof e.stream=="function"&&typeof e.constructor=="function"&&/^(Blob|File)$/.test(e[no]),sp=e=>typeof e=="object"&&(e[no]==="AbortSignal"||e[no]==="EventTarget"),up=(e,t)=>{let r=new URL(t).hostname,n=new URL(e).hostname;return r===n||r.endsWith(`.${n}`)};var _A=(0,Ut.promisify)(ct.default.pipeline),Xe=Symbol("Body internals"),jt=class{constructor(t,{size:r=0}={}){let n=null;t===null?t=null:qu(t)?t=rt.Buffer.from(t.toString()):Mi(t)||rt.Buffer.isBuffer(t)||(Ut.types.isAnyArrayBuffer(t)?t=rt.Buffer.from(t):ArrayBuffer.isView(t)?t=rt.Buffer.from(t.buffer,t.byteOffset,t.byteLength):t instanceof ct.default||(t instanceof $r?(t=op(t),n=t.type.split("=")[1]):t=rt.Buffer.from(String(t))));let i=t;rt.Buffer.isBuffer(t)?i=ct.default.Readable.from(t):Mi(t)&&(i=ct.default.Readable.from(t.stream())),this[Xe]={body:t,stream:i,boundary:n,disturbed:!1,error:null},this.size=r,t instanceof ct.default&&t.on("error",a=>{let s=a instanceof lr?a:new tt(`Invalid response body while trying to fetch ${this.url}: ${a.message}`,"system",a);this[Xe].error=s})}get body(){return this[Xe].stream}get bodyUsed(){return this[Xe].disturbed}async arrayBuffer(){let{buffer:t,byteOffset:r,byteLength:n}=await oo(this);return t.slice(r,r+n)}async formData(){let t=this.headers.get("content-type");if(t.startsWith("application/x-www-form-urlencoded")){let n=new $r,i=new URLSearchParams(await this.text());for(let[a,s]of i)n.append(a,s);return n}let{toFormData:r}=await Promise.resolve().then(()=>(mp(),pp));return r(this.body,t)}async blob(){let t=this.headers&&this.headers.get("content-type")||this[Xe].body&&this[Xe].body.type||"",r=await this.arrayBuffer();return new Wt([r],{type:t})}async json(){let t=await oo(this);return JSON.parse(t.toString())}async text(){return(await oo(this)).toString()}buffer(){return oo(this)}};jt.prototype.buffer=(0,Ut.deprecate)(jt.prototype.buffer,"Please use 'response.arrayBuffer()' instead of 'response.buffer()'","node-fetch#buffer");Object.defineProperties(jt.prototype,{body:{enumerable:!0},bodyUsed:{enumerable:!0},arrayBuffer:{enumerable:!0},blob:{enumerable:!0},json:{enumerable:!0},text:{enumerable:!0},data:{get:(0,Ut.deprecate)(()=>{},"data doesn't exist, use json(), text(), arrayBuffer(), or body instead","https://github.com/node-fetch/node-fetch/issues/1000 (response)")}});async function oo(e){if(e[Xe].disturbed)throw new TypeError(`body used already for: ${e.url}`);if(e[Xe].disturbed=!0,e[Xe].error)throw e[Xe].error;let{body:t}=e;if(t===null)return rt.Buffer.alloc(0);if(!(t instanceof ct.default))return rt.Buffer.alloc(0);let r=[],n=0;try{for await(let i of t){if(e.size>0&&n+i.length>e.size){let a=new tt(`content size at ${e.url} over limit: ${e.size}`,"max-size");throw t.destroy(a),a}n+=i.length,r.push(i)}}catch(i){throw i instanceof lr?i:new tt(`Invalid response body while trying to fetch ${e.url}: ${i.message}`,"system",i)}if(t.readableEnded===!0||t._readableState.ended===!0)try{return r.every(i=>typeof i=="string")?rt.Buffer.from(r.join("")):rt.Buffer.concat(r,n)}catch(i){throw new tt(`Could not create Buffer from response body for ${e.url}: ${i.message}`,"system",i)}else throw new tt(`Premature close of server response while trying to fetch ${e.url}`)}var Cn=(e,t)=>{let r,n,{body:i}=e[Xe];if(e.bodyUsed)throw new Error("cannot clone body after it is used");return i instanceof ct.default&&typeof i.getBoundary!="function"&&(r=new ct.PassThrough({highWaterMark:t}),n=new ct.PassThrough({highWaterMark:t}),i.pipe(r),i.pipe(n),e[Xe].stream=r,i=n),i},wA=(0,Ut.deprecate)(e=>e.getBoundary(),"form-data doesn't follow the spec and requires special treatment. Use alternative package","https://github.com/node-fetch/node-fetch/issues/1167"),so=(e,t)=>e===null?null:typeof e=="string"?"text/plain;charset=UTF-8":qu(e)?"application/x-www-form-urlencoded;charset=UTF-8":Mi(e)?e.type||null:rt.Buffer.isBuffer(e)||Ut.types.isAnyArrayBuffer(e)||ArrayBuffer.isView(e)?null:e instanceof $r?`multipart/form-data; boundary=${t[Xe].boundary}`:e&&typeof e.getBoundary=="function"?`multipart/form-data;boundary=${wA(e)}`:e instanceof ct.default?null:"text/plain;charset=UTF-8",gp=e=>{let{body:t}=e[Xe];return t===null?0:Mi(t)?t.size:rt.Buffer.isBuffer(t)?t.length:t&&typeof t.getLengthSync=="function"&&t.hasKnownLength&&t.hasKnownLength()?t.getLengthSync():null},yp=async(e,{body:t})=>{t===null?e.end():await _A(t,e)};var $u=require("node:util"),Bi=Se(require("node:http"),1),uo=typeof Bi.default.validateHeaderName=="function"?Bi.default.validateHeaderName:e=>{if(!/^[\^`\-\w!#$%&'*+.|~]+$/.test(e)){let t=new TypeError(`Header name must be a valid HTTP token [${e}]`);throw Object.defineProperty(t,"code",{value:"ERR_INVALID_HTTP_TOKEN"}),t}},Gu=typeof Bi.default.validateHeaderValue=="function"?Bi.default.validateHeaderValue:(e,t)=>{if(/[^\t\u0020-\u007E\u0080-\u00FF]/.test(t)){let r=new TypeError(`Invalid character in header content ["${e}"]`);throw Object.defineProperty(r,"code",{value:"ERR_INVALID_CHAR"}),r}},ze=class extends URLSearchParams{constructor(t){let r=[];if(t instanceof ze){let n=t.raw();for(let[i,a]of Object.entries(n))r.push(...a.map(s=>[i,s]))}else if(t!=null)if(typeof t=="object"&&!$u.types.isBoxedPrimitive(t)){let n=t[Symbol.iterator];if(n==null)r.push(...Object.entries(t));else{if(typeof n!="function")throw new TypeError("Header pairs must be iterable");r=[...t].map(i=>{if(typeof i!="object"||$u.types.isBoxedPrimitive(i))throw new TypeError("Each header pair must be an iterable object");return[...i]}).map(i=>{if(i.length!==2)throw new TypeError("Each header pair must be a name/value tuple");return[...i]})}}else throw new TypeError("Failed to construct 'Headers': The provided value is not of type '(sequence<sequence<ByteString>> or record<ByteString, ByteString>)");r=r.length>0?r.map(([n,i])=>(uo(n),Gu(n,String(i)),[String(n).toLowerCase(),String(i)])):void 0;super(r);return new Proxy(this,{get(n,i,a){switch(i){case"append":case"set":return(s,c)=>(uo(s),Gu(s,String(c)),URLSearchParams.prototype[i].call(n,String(s).toLowerCase(),String(c)));case"delete":case"has":case"getAll":return s=>(uo(s),URLSearchParams.prototype[i].call(n,String(s).toLowerCase()));case"keys":return()=>(n.sort(),new Set(URLSearchParams.prototype.keys.call(n)).keys());default:return Reflect.get(n,i,a)}}})}get[Symbol.toStringTag](){return this.constructor.name}toString(){return Object.prototype.toString.call(this)}get(t){let r=this.getAll(t);if(r.length===0)return null;let n=r.join(", ");return/^content-encoding$/i.test(t)&&(n=n.toLowerCase()),n}forEach(t,r=void 0){for(let n of this.keys())Reflect.apply(t,r,[this.get(n),n,this])}*values(){for(let t of this.keys())yield this.get(t)}*entries(){for(let t of this.keys())yield[t,this.get(t)]}[Symbol.iterator](){return this.entries()}raw(){return[...this.keys()].reduce((t,r)=>(t[r]=this.getAll(r),t),{})}[Symbol.for("nodejs.util.inspect.custom")](){return[...this.keys()].reduce((t,r)=>{let n=this.getAll(r);return r==="host"?t[r]=n[0]:t[r]=n.length>1?n:n[0],t},{})}};Object.defineProperties(ze.prototype,["get","entries","forEach","values"].reduce((e,t)=>(e[t]={enumerable:!0},e),{}));function bp(e=[]){return new ze(e.reduce((t,r,n,i)=>(n%2===0&&t.push(i.slice(n,n+2)),t),[]).filter(([t,r])=>{try{return uo(t),Gu(t,String(r)),!0}catch{return!1}}))}var EA=new Set([301,302,303,307,308]),co=e=>EA.has(e);var vt=Symbol("Response internals"),De=class extends jt{constructor(t=null,r={}){super(t,r);let n=r.status!=null?r.status:200,i=new ze(r.headers);if(t!==null&&!i.has("Content-Type")){let a=so(t,this);a&&i.append("Content-Type",a)}this[vt]={type:"default",url:r.url,status:n,statusText:r.statusText||"",headers:i,counter:r.counter,highWaterMark:r.highWaterMark}}get type(){return this[vt].type}get url(){return this[vt].url||""}get status(){return this[vt].status}get ok(){return this[vt].status>=200&&this[vt].status<300}get redirected(){return this[vt].counter>0}get statusText(){return this[vt].statusText}get headers(){return this[vt].headers}get highWaterMark(){return this[vt].highWaterMark}clone(){return new De(Cn(this,this.highWaterMark),{type:this.type,url:this.url,status:this.status,statusText:this.statusText,headers:this.headers,ok:this.ok,redirected:this.redirected,size:this.size,highWaterMark:this.highWaterMark})}static redirect(t,r=302){if(!co(r))throw new RangeError('Failed to execute "redirect" on "response": Invalid status code');return new De(null,{headers:{location:new URL(t).toString()},status:r})}static error(){let t=new De(null,{status:0,statusText:""});return t[vt].type="error",t}get[Symbol.toStringTag](){return"Response"}};Object.defineProperties(De.prototype,{type:{enumerable:!0},url:{enumerable:!0},status:{enumerable:!0},ok:{enumerable:!0},redirected:{enumerable:!0},statusText:{enumerable:!0},headers:{enumerable:!0},clone:{enumerable:!0}});var Tp=require("node:url"),Op=require("node:util");var vp=e=>{if(e.search)return e.search;let t=e.href.length-1,r=e.hash||(e.href[t]==="#"?"#":"");return e.href[t-r.length]==="?"?"?":""};var _p=require("node:net");function Sp(e,t=!1){return e==null||(e=new URL(e),/^(about|blob|data):$/.test(e.protocol))?"no-referrer":(e.username="",e.password="",e.hash="",t&&(e.pathname="",e.search=""),e)}var wp=new Set(["","no-referrer","no-referrer-when-downgrade","same-origin","origin","strict-origin","origin-when-cross-origin","strict-origin-when-cross-origin","unsafe-url"]),Ep="strict-origin-when-cross-origin";function Rp(e){if(!wp.has(e))throw new TypeError(`Invalid referrerPolicy: ${e}`);return e}function RA(e){if(/^(http|ws)s:$/.test(e.protocol))return!0;let t=e.host.replace(/(^\[)|(]$)/g,""),r=(0,_p.isIP)(t);return r===4&&/^127\./.test(t)||r===6&&/^(((0+:){7})|(::(0+:){0,6}))0*1$/.test(t)?!0:/^(.+\.)*localhost$/.test(e.host)?!1:e.protocol==="file:"}function In(e){return/^about:(blank|srcdoc)$/.test(e)||e.protocol==="data:"||/^(blob|filesystem):$/.test(e.protocol)?!0:RA(e)}function Ap(e,{referrerURLCallback:t,referrerOriginCallback:r}={}){if(e.referrer==="no-referrer"||e.referrerPolicy==="")return null;let n=e.referrerPolicy;if(e.referrer==="about:client")return"no-referrer";let i=e.referrer,a=Sp(i),s=Sp(i,!0);a.toString().length>4096&&(a=s),t&&(a=t(a)),r&&(s=r(s));let c=new URL(e.url);switch(n){case"no-referrer":return"no-referrer";case"origin":return s;case"unsafe-url":return a;case"strict-origin":return In(a)&&!In(c)?"no-referrer":s.toString();case"strict-origin-when-cross-origin":return a.origin===c.origin?a:In(a)&&!In(c)?"no-referrer":s;case"same-origin":return a.origin===c.origin?a:"no-referrer";case"origin-when-cross-origin":return a.origin===c.origin?a:s;case"no-referrer-when-downgrade":return In(a)&&!In(c)?"no-referrer":a;default:throw new TypeError(`Invalid referrerPolicy: ${n}`)}}function Pp(e){let t=(e.get("referrer-policy")||"").split(/[,\s]+/),r="";for(let n of t)n&&wp.has(n)&&(r=n);return r}var xe=Symbol("Request internals"),lo=e=>typeof e=="object"&&typeof e[xe]=="object",AA=(0,Op.deprecate)(()=>{},".data is not a valid RequestInit property, use .body instead","https://github.com/node-fetch/node-fetch/issues/1000 (request)"),Pt=class extends jt{constructor(t,r={}){let n;if(lo(t)?n=new URL(t.url):(n=new URL(t),t={}),n.username!==""||n.password!=="")throw new TypeError(`${n} is an url with embedded credentials.`);let i=r.method||t.method||"GET";if(i=i.toUpperCase(),"data"in r&&AA(),(r.body!=null||lo(t)&&t.body!==null)&&(i==="GET"||i==="HEAD"))throw new TypeError("Request with GET/HEAD method cannot have body");let a=r.body?r.body:lo(t)&&t.body!==null?Cn(t):null;super(a,{size:r.size||t.size||0});let s=new ze(r.headers||t.headers||{});if(a!==null&&!s.has("Content-Type")){let f=so(a,this);f&&s.set("Content-Type",f)}let c=lo(t)?t.signal:null;if("signal"in r&&(c=r.signal),c!=null&&!sp(c))throw new TypeError("Expected signal to be an instanceof AbortSignal or EventTarget");let l=r.referrer==null?t.referrer:r.referrer;if(l==="")l="no-referrer";else if(l){let f=new URL(l);l=/^about:(\/\/)?client$/.test(f)?"client":f}else l=void 0;this[xe]={method:i,redirect:r.redirect||t.redirect||"follow",headers:s,parsedURL:n,signal:c,referrer:l},this.follow=r.follow===void 0?t.follow===void 0?20:t.follow:r.follow,this.compress=r.compress===void 0?t.compress===void 0?!0:t.compress:r.compress,this.counter=r.counter||t.counter||0,this.agent=r.agent||t.agent,this.highWaterMark=r.highWaterMark||t.highWaterMark||16384,this.insecureHTTPParser=r.insecureHTTPParser||t.insecureHTTPParser||!1,this.referrerPolicy=r.referrerPolicy||t.referrerPolicy||""}get method(){return this[xe].method}get url(){return(0,Tp.format)(this[xe].parsedURL)}get headers(){return this[xe].headers}get redirect(){return this[xe].redirect}get signal(){return this[xe].signal}get referrer(){if(this[xe].referrer==="no-referrer")return"";if(this[xe].referrer==="client")return"about:client";if(this[xe].referrer)return this[xe].referrer.toString()}get referrerPolicy(){return this[xe].referrerPolicy}set referrerPolicy(t){this[xe].referrerPolicy=Rp(t)}clone(){return new Pt(this)}get[Symbol.toStringTag](){return"Request"}};Object.defineProperties(Pt.prototype,{method:{enumerable:!0},url:{enumerable:!0},headers:{enumerable:!0},redirect:{enumerable:!0},clone:{enumerable:!0},signal:{enumerable:!0},referrer:{enumerable:!0},referrerPolicy:{enumerable:!0}});var xp=e=>{let{parsedURL:t}=e[xe],r=new ze(e[xe].headers);r.has("Accept")||r.set("Accept","*/*");let n=null;if(e.body===null&&/^(post|put)$/i.test(e.method)&&(n="0"),e.body!==null){let c=gp(e);typeof c=="number"&&!Number.isNaN(c)&&(n=String(c))}n&&r.set("Content-Length",n),e.referrerPolicy===""&&(e.referrerPolicy=Ep),e.referrer&&e.referrer!=="no-referrer"?e[xe].referrer=Ap(e):e[xe].referrer="no-referrer",e[xe].referrer instanceof URL&&r.set("Referer",e.referrer),r.has("User-Agent")||r.set("User-Agent","node-fetch"),e.compress&&!r.has("Accept-Encoding")&&r.set("Accept-Encoding","gzip,deflate,br");let{agent:i}=e;typeof i=="function"&&(i=i(t)),!r.has("Connection")&&!i&&r.set("Connection","close");let a=vp(t),s={path:t.pathname+a,method:e.method,headers:r[Symbol.for("nodejs.util.inspect.custom")](),insecureHTTPParser:e.insecureHTTPParser,agent:i};return{parsedURL:t,options:s}};var dr=class extends lr{constructor(t,r="aborted"){super(t,r)}};ro();Bu();var PA=new Set(["data:","http:","https:"]);async function Ye(e,t){return new Promise((r,n)=>{let i=new Pt(e,t),{parsedURL:a,options:s}=xp(i);if(!PA.has(a.protocol))throw new TypeError(`node-fetch cannot load ${e}. URL scheme "${a.protocol.replace(/:$/,"")}" is not supported.`);if(a.protocol==="data:"){let g=Zh(i.url),S=new De(g,{headers:{"Content-Type":g.typeFull}});r(S);return}let c=(a.protocol==="https:"?Ip.default:Cp.default).request,{signal:l}=i,f=null,d=()=>{let g=new dr("The operation was aborted.");n(g),i.body&&i.body instanceof nt.default.Readable&&i.body.destroy(g),!(!f||!f.body)&&f.body.emit("error",g)};if(l&&l.aborted){d();return}let m=()=>{d(),y()},p=c(a.toString(),s);l&&l.addEventListener("abort",m);let y=()=>{p.abort(),l&&l.removeEventListener("abort",m)};p.on("error",g=>{n(new tt(`request to ${i.url} failed, reason: ${g.message}`,"system",g)),y()}),TA(p,g=>{f.body.destroy(g)}),process.version<"v14"&&p.on("socket",g=>{let S;g.prependListener("end",()=>{S=g._eventsCount}),g.prependListener("close",v=>{if(f&&S<g._eventsCount&&!v){let A=new Error("Premature close");A.code="ERR_STREAM_PREMATURE_CLOSE",f.body.emit("error",A)}})}),p.on("response",g=>{p.setTimeout(0);let S=bp(g.rawHeaders);if(co(g.statusCode)){let k=S.get("Location"),I=null;try{I=k===null?null:new URL(k,i.url)}catch{if(i.redirect!=="manual"){n(new tt(`uri requested responds with an invalid redirect URL: ${k}`,"invalid-redirect")),y();return}}switch(i.redirect){case"error":n(new tt(`uri requested responds with a redirect, redirect mode is set to error: ${i.url}`,"no-redirect")),y();return;case"manual":break;case"follow":{if(I===null)break;if(i.counter>=i.follow){n(new tt(`maximum redirect reached at: ${i.url}`,"max-redirect")),y();return}let M={headers:new ze(i.headers),follow:i.follow,counter:i.counter+1,agent:i.agent,compress:i.compress,method:i.method,body:Cn(i),signal:i.signal,size:i.size,referrer:i.referrer,referrerPolicy:i.referrerPolicy};if(!up(i.url,I))for(let T of["authorization","www-authenticate","cookie","cookie2"])M.headers.delete(T);if(g.statusCode!==303&&i.body&&t.body instanceof nt.default.Readable){n(new tt("Cannot follow redirect with body being a readable stream","unsupported-redirect")),y();return}(g.statusCode===303||(g.statusCode===301||g.statusCode===302)&&i.method==="POST")&&(M.method="GET",M.body=void 0,M.headers.delete("content-length"));let q=Pp(S);q&&(M.referrerPolicy=q),r(Ye(new Pt(I,M))),y();return}default:return n(new TypeError(`Redirect option '${i.redirect}' is not a valid value of RequestRedirect`))}}l&&g.once("end",()=>{l.removeEventListener("abort",m)});let v=(0,nt.pipeline)(g,new nt.PassThrough,k=>{k&&n(k)});process.version<"v12.10"&&g.on("aborted",m);let A={url:i.url,status:g.statusCode,statusText:g.statusMessage,headers:S,size:i.size,counter:i.counter,highWaterMark:i.highWaterMark},O=S.get("Content-Encoding");if(!i.compress||i.method==="HEAD"||O===null||g.statusCode===204||g.statusCode===304){f=new De(v,A),r(f);return}let F={flush:Wr.default.Z_SYNC_FLUSH,finishFlush:Wr.default.Z_SYNC_FLUSH};if(O==="gzip"||O==="x-gzip"){v=(0,nt.pipeline)(v,Wr.default.createGunzip(F),k=>{k&&n(k)}),f=new De(v,A),r(f);return}if(O==="deflate"||O==="x-deflate"){let k=(0,nt.pipeline)(g,new nt.PassThrough,I=>{I&&n(I)});k.once("data",I=>{(I[0]&15)===8?v=(0,nt.pipeline)(v,Wr.default.createInflate(),M=>{M&&n(M)}):v=(0,nt.pipeline)(v,Wr.default.createInflateRaw(),M=>{M&&n(M)}),f=new De(v,A),r(f)}),k.once("end",()=>{f||(f=new De(v,A),r(f))});return}if(O==="br"){v=(0,nt.pipeline)(v,Wr.default.createBrotliDecompress(),k=>{k&&n(k)}),f=new De(v,A),r(f);return}f=new De(v,A),r(f)}),yp(p,i).catch(n)})}function TA(e,t){let r=$i.Buffer.from(`0\r
\r
`),n=!1,i=!1,a;e.on("response",s=>{let{headers:c}=s;n=c["transfer-encoding"]==="chunked"&&!c["content-length"]}),e.on("socket",s=>{let c=()=>{if(n&&!i){let l=new Error("Premature close");l.code="ERR_STREAM_PREMATURE_CLOSE",t(l)}};s.prependListener("close",c),e.on("abort",()=>{s.removeListener("close",c)}),s.on("data",l=>{i=$i.Buffer.compare(l.slice(-5),r)===0,!i&&a&&(i=$i.Buffer.compare(a.slice(-3),r.slice(0,3))===0&&$i.Buffer.compare(l.slice(-2),r.slice(3))===0),a=l})})}var Dp=Se(require("path"));function X(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function se(e){X(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new Date(e.getTime()):typeof e=="number"||t==="[object Number]"?new Date(e):((typeof e=="string"||t==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://git.io/fjule"),console.warn(new Error().stack)),new Date(NaN))}function Ht(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}function fo(e){X(1,arguments);var t=se(e);return t.setHours(0,0,0,0),t}var OA=864e5;function Gi(e,t){X(2,arguments);var r=fo(e),n=fo(t),i=r.getTime()-Ht(r),a=n.getTime()-Ht(n);return Math.round((i-a)/OA)}function kp(e,t){var r=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return r<0?-1:r>0?1:r}function Wu(e,t){X(2,arguments);var r=se(e),n=se(t),i=kp(r,n),a=Math.abs(Gi(r,n));r.setDate(r.getDate()-i*a);var s=Number(kp(r,n)===-i),c=i*(a-s);return c===0?0:c}var po=require("@raycast/api"),xA="apiKey",CA="showGifPreview",IA="maxResults",kA="defaultAction",DA="https://cdn.joe.sh/gif-search/config.json",le={GIPHY:"giphy",TENOR:"tenor",FINER_GIFS:"finergifs",FAVORITES:"favorites",RECENTS:"recents"};function Lp(){return Object.values(le).filter(e=>e!=le.FAVORITES&&e!=le.RECENTS)}function mo(e){switch(e){case le.GIPHY:return"Giphy";case le.TENOR:return"Tenor";case le.FINER_GIFS:return"Finer Gifs Club"}return""}var ju;function go(){return ju||(ju=(0,po.getPreferenceValues)()),ju}async function yo(e,t){let r=go()[`${e}-${xA}`];return r||(r=(await LA(t)).apiKeys[e]),r}function bo(){return go()[CA]}function Fp(){return go()[kA]}function Mp(){return parseInt(go()[IA],10)??10}var Uu=Dp.default.resolve(po.environment.supportPath,"config.json");async function LA(e){let t;try{if(e)throw new Error("Forcibly fetching config from server");t=JSON.parse(ho.default.readFileSync(Uu,"utf-8"));let{mtime:r}=ho.default.statSync(Uu),n=Wu(new Date,new Date(r));if(n>7)throw new Error(`Config out of date, ${n} days old`)}catch{t=await(await Ye(DA)).json(),ho.default.writeFileSync(Uu,JSON.stringify(t,null,2),"utf-8")}return t}var $p=Se(require("react"));var kn=require("@raycast/api");function Wi(e,t){return`${e}-${t}`}function Hu(e,t,r){return kn.LocalStorage.setItem(Wi(t,r),JSON.stringify([...e||[]]))}async function ji(e,t){return await kn.LocalStorage.removeItem(Wi(e,t))}async function qp(e){for(let t of(await zu(e)).keys())await kn.LocalStorage.removeItem(Wi(t,e))}async function Np(e,t){let r=await kn.LocalStorage.getItem(Wi(e,t)),n=JSON.parse(r||"[]");return new Set(n)}async function zu(e){let t=new Map;for(let r of Lp()){let n=await kn.LocalStorage.getItem(Wi(r,e)),i=JSON.parse(n||"[]");t.set(r,new Set(i))}return t}function Bp(e=new Map){return Object.values(le).reduce((t,r)=>(r!==le.FAVORITES&&r!==le.RECENTS&&t.set(r,new Set),t),e)}var Yu={favIds:Bp(),recentIds:Bp()},FA=$p.default.createContext({state:Yu}),Dn=FA;function Gp(e,t){let{type:r,favIds:n,recentIds:i}=t,a=t.service,s=n?.get(a);if(s)switch(r){case"replace":e.favIds?.get(a)?.clear(),s.forEach(d=>e.favIds?.get(a)?.add(d));break;case"add":s.forEach(d=>{e.favIds?.get(a)?.add(d),e.recentIds?.get(a)?.delete(d)});break;case"remove":s.forEach(d=>e.favIds?.get(a)?.delete(d));break}else(n&&r=="replace"||r=="clear")&&(e.favIds=n);let c=i?.get(a);if(c)switch(r){case"replace":e.recentIds?.get(a)?.clear(),c.forEach(d=>!e.favIds?.get(a)?.has(d)&&e.recentIds?.get(a)?.add(d));break;case"add":c.forEach(d=>!e.favIds?.get(a)?.has(d)&&e.recentIds?.get(a)?.add(d));break;case"remove":c.forEach(d=>e.recentIds?.get(a)?.delete(d));break}else(i&&r=="replace"||r=="clear")&&(e.recentIds=i);let l=e.favIds?.get(a),f=e.recentIds?.get(a);return t.save&&a&&(l&&Hu(l,a,"favs"),f&&Hu(f,a,"recent")),ue(j({},e),{favIds:e.favIds,recentIds:e.recentIds})}var Ln=require("react");function vo(e){let[t,r]=(0,Ln.useState)(!0),[n,i]=(0,Ln.useState)(),a=(0,Ln.useCallback)(async function(l,f){let{offset:d=0}=f||{};if(!!l){r(!0);try{let m=await Np(l,e);i({ids:new Map([[l,m]])})}catch(m){console.error(m);let p=m;await ji(l,e),i({error:p})}finally{r(!1)}}},[i,r]),s=(0,Ln.useCallback)(async function(l){let{offset:f=0}=l||{};r(!0);try{let d=await zu(e);i({ids:d})}catch(d){console.error(d);let m=d;await qp(e),i({error:m})}finally{r(!1)}},[i]);return[n,t,a,s]}var vr=require("react");function Vu(e){return X(1,arguments),e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function Qu(e){if(X(1,arguments),!Vu(e)&&typeof e!="number")return!1;var t=se(e);return!isNaN(Number(t))}var MA={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},qA=function(e,t,r){var n,i=MA[e];return typeof i=="string"?n=i:t===1?n=i.one:n=i.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n},Wp=qA;function Ui(e){return function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.width?String(t.width):e.defaultWidth,n=e.formats[r]||e.formats[e.defaultWidth];return n}}var NA={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},BA={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},$A={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},GA={date:Ui({formats:NA,defaultWidth:"full"}),time:Ui({formats:BA,defaultWidth:"full"}),dateTime:Ui({formats:$A,defaultWidth:"full"})},jp=GA;var WA={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},jA=function(e,t,r,n){return WA[e]},Up=jA;function jr(e){return function(t,r){var n=r||{},i=n.context?String(n.context):"standalone",a;if(i==="formatting"&&e.formattingValues){var s=e.defaultFormattingWidth||e.defaultWidth,c=n.width?String(n.width):s;a=e.formattingValues[c]||e.formattingValues[s]}else{var l=e.defaultWidth,f=n.width?String(n.width):e.defaultWidth;a=e.values[f]||e.values[l]}var d=e.argumentCallback?e.argumentCallback(t):t;return a[d]}}var UA={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},HA={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},zA={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},YA={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},VA={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},QA={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},KA=function(e,t){var r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},XA={ordinalNumber:KA,era:jr({values:UA,defaultWidth:"wide"}),quarter:jr({values:HA,defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:jr({values:zA,defaultWidth:"wide"}),day:jr({values:YA,defaultWidth:"wide"}),dayPeriod:jr({values:VA,defaultWidth:"wide",formattingValues:QA,defaultFormattingWidth:"wide"})},Hp=XA;function Ur(e){return function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=r.width,i=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],a=t.match(i);if(!a)return null;var s=a[0],c=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(c)?JA(c,function(m){return m.test(s)}):ZA(c,function(m){return m.test(s)}),f;f=e.valueCallback?e.valueCallback(l):l,f=r.valueCallback?r.valueCallback(f):f;var d=t.slice(s.length);return{value:f,rest:d}}}function ZA(e,t){for(var r in e)if(e.hasOwnProperty(r)&&t(e[r]))return r}function JA(e,t){for(var r=0;r<e.length;r++)if(t(e[r]))return r}function Ku(e){return function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=t.match(e.matchPattern);if(!n)return null;var i=n[0],a=t.match(e.parsePattern);if(!a)return null;var s=e.valueCallback?e.valueCallback(a[0]):a[0];s=r.valueCallback?r.valueCallback(s):s;var c=t.slice(i.length);return{value:s,rest:c}}}var eP=/^(\d+)(th|st|nd|rd)?/i,tP=/\d+/i,rP={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},nP={any:[/^b/i,/^(a|c)/i]},iP={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},aP={any:[/1/i,/2/i,/3/i,/4/i]},oP={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},sP={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},uP={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},cP={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},lP={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},fP={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},dP={ordinalNumber:Ku({matchPattern:eP,parsePattern:tP,valueCallback:function(e){return parseInt(e,10)}}),era:Ur({matchPatterns:rP,defaultMatchWidth:"wide",parsePatterns:nP,defaultParseWidth:"any"}),quarter:Ur({matchPatterns:iP,defaultMatchWidth:"wide",parsePatterns:aP,defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:Ur({matchPatterns:oP,defaultMatchWidth:"wide",parsePatterns:sP,defaultParseWidth:"any"}),day:Ur({matchPatterns:uP,defaultMatchWidth:"wide",parsePatterns:cP,defaultParseWidth:"any"}),dayPeriod:Ur({matchPatterns:lP,defaultMatchWidth:"any",parsePatterns:fP,defaultParseWidth:"any"})},zp=dP;var hP={code:"en-US",formatDistance:Wp,formatLong:jp,formatRelative:Up,localize:Hp,match:zp,options:{weekStartsOn:0,firstWeekContainsDate:1}},So=hP;function _e(e){if(e===null||e===!0||e===!1)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function Xu(e,t){X(2,arguments);var r=se(e).getTime(),n=_e(t);return new Date(r+n)}function Fn(e,t){X(2,arguments);var r=_e(t);return Xu(e,-r)}var pP=864e5;function Zu(e){X(1,arguments);var t=se(e),r=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var n=t.getTime(),i=r-n;return Math.floor(i/pP)+1}function hr(e){X(1,arguments);var t=1,r=se(e),n=r.getUTCDay(),i=(n<t?7:0)+n-t;return r.setUTCDate(r.getUTCDate()-i),r.setUTCHours(0,0,0,0),r}function Hi(e){X(1,arguments);var t=se(e),r=t.getUTCFullYear(),n=new Date(0);n.setUTCFullYear(r+1,0,4),n.setUTCHours(0,0,0,0);var i=hr(n),a=new Date(0);a.setUTCFullYear(r,0,4),a.setUTCHours(0,0,0,0);var s=hr(a);return t.getTime()>=i.getTime()?r+1:t.getTime()>=s.getTime()?r:r-1}function Ju(e){X(1,arguments);var t=Hi(e),r=new Date(0);r.setUTCFullYear(t,0,4),r.setUTCHours(0,0,0,0);var n=hr(r);return n}var mP=6048e5;function ec(e){X(1,arguments);var t=se(e),r=hr(t).getTime()-Ju(t).getTime();return Math.round(r/mP)+1}function pr(e,t){X(1,arguments);var r=t||{},n=r.locale,i=n&&n.options&&n.options.weekStartsOn,a=i==null?0:_e(i),s=r.weekStartsOn==null?a:_e(r.weekStartsOn);if(!(s>=0&&s<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var c=se(e),l=c.getUTCDay(),f=(l<s?7:0)+l-s;return c.setUTCDate(c.getUTCDate()-f),c.setUTCHours(0,0,0,0),c}function zi(e,t){X(1,arguments);var r=se(e),n=r.getUTCFullYear(),i=t||{},a=i.locale,s=a&&a.options&&a.options.firstWeekContainsDate,c=s==null?1:_e(s),l=i.firstWeekContainsDate==null?c:_e(i.firstWeekContainsDate);if(!(l>=1&&l<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var f=new Date(0);f.setUTCFullYear(n+1,0,l),f.setUTCHours(0,0,0,0);var d=pr(f,t),m=new Date(0);m.setUTCFullYear(n,0,l),m.setUTCHours(0,0,0,0);var p=pr(m,t);return r.getTime()>=d.getTime()?n+1:r.getTime()>=p.getTime()?n:n-1}function tc(e,t){X(1,arguments);var r=t||{},n=r.locale,i=n&&n.options&&n.options.firstWeekContainsDate,a=i==null?1:_e(i),s=r.firstWeekContainsDate==null?a:_e(r.firstWeekContainsDate),c=zi(e,t),l=new Date(0);l.setUTCFullYear(c,0,s),l.setUTCHours(0,0,0,0);var f=pr(l,t);return f}var gP=6048e5;function rc(e,t){X(1,arguments);var r=se(e),n=pr(r,t).getTime()-tc(r,t).getTime();return Math.round(n/gP)+1}function oe(e,t){for(var r=e<0?"-":"",n=Math.abs(e).toString();n.length<t;)n="0"+n;return r+n}var yP={y:function(e,t){var r=e.getUTCFullYear(),n=r>0?r:1-r;return oe(t==="yy"?n%100:n,t.length)},M:function(e,t){var r=e.getUTCMonth();return t==="M"?String(r+1):oe(r+1,2)},d:function(e,t){return oe(e.getUTCDate(),t.length)},a:function(e,t){var r=e.getUTCHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h:function(e,t){return oe(e.getUTCHours()%12||12,t.length)},H:function(e,t){return oe(e.getUTCHours(),t.length)},m:function(e,t){return oe(e.getUTCMinutes(),t.length)},s:function(e,t){return oe(e.getUTCSeconds(),t.length)},S:function(e,t){var r=t.length,n=e.getUTCMilliseconds(),i=Math.floor(n*Math.pow(10,r-3));return oe(i,t.length)}},zt=yP;var Mn={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},bP={G:function(e,t,r){var n=e.getUTCFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){var n=e.getUTCFullYear(),i=n>0?n:1-n;return r.ordinalNumber(i,{unit:"year"})}return zt.y(e,t)},Y:function(e,t,r,n){var i=zi(e,n),a=i>0?i:1-i;if(t==="YY"){var s=a%100;return oe(s,2)}return t==="Yo"?r.ordinalNumber(a,{unit:"year"}):oe(a,t.length)},R:function(e,t){var r=Hi(e);return oe(r,t.length)},u:function(e,t){var r=e.getUTCFullYear();return oe(r,t.length)},Q:function(e,t,r){var n=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return oe(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){var n=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return oe(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){var n=e.getUTCMonth();switch(t){case"M":case"MM":return zt.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){var n=e.getUTCMonth();switch(t){case"L":return String(n+1);case"LL":return oe(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){var i=rc(e,n);return t==="wo"?r.ordinalNumber(i,{unit:"week"}):oe(i,t.length)},I:function(e,t,r){var n=ec(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):oe(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getUTCDate(),{unit:"date"}):zt.d(e,t)},D:function(e,t,r){var n=Zu(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):oe(n,t.length)},E:function(e,t,r){var n=e.getUTCDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){var i=e.getUTCDay(),a=(i-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(a);case"ee":return oe(a,2);case"eo":return r.ordinalNumber(a,{unit:"day"});case"eee":return r.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(i,{width:"short",context:"formatting"});case"eeee":default:return r.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){var i=e.getUTCDay(),a=(i-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(a);case"cc":return oe(a,t.length);case"co":return r.ordinalNumber(a,{unit:"day"});case"ccc":return r.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(i,{width:"narrow",context:"standalone"});case"cccccc":return r.day(i,{width:"short",context:"standalone"});case"cccc":default:return r.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,r){var n=e.getUTCDay(),i=n===0?7:n;switch(t){case"i":return String(i);case"ii":return oe(i,t.length);case"io":return r.ordinalNumber(i,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){var n=e.getUTCHours(),i=n/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,t,r){var n=e.getUTCHours(),i;switch(n===12?i=Mn.noon:n===0?i=Mn.midnight:i=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,t,r){var n=e.getUTCHours(),i;switch(n>=17?i=Mn.evening:n>=12?i=Mn.afternoon:n>=4?i=Mn.morning:i=Mn.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){var n=e.getUTCHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return zt.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getUTCHours(),{unit:"hour"}):zt.H(e,t)},K:function(e,t,r){var n=e.getUTCHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):oe(n,t.length)},k:function(e,t,r){var n=e.getUTCHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):oe(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):zt.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):zt.s(e,t)},S:function(e,t){return zt.S(e,t)},X:function(e,t,r,n){var i=n._originalDate||e,a=i.getTimezoneOffset();if(a===0)return"Z";switch(t){case"X":return Vp(a);case"XXXX":case"XX":return Hr(a);case"XXXXX":case"XXX":default:return Hr(a,":")}},x:function(e,t,r,n){var i=n._originalDate||e,a=i.getTimezoneOffset();switch(t){case"x":return Vp(a);case"xxxx":case"xx":return Hr(a);case"xxxxx":case"xxx":default:return Hr(a,":")}},O:function(e,t,r,n){var i=n._originalDate||e,a=i.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+Yp(a,":");case"OOOO":default:return"GMT"+Hr(a,":")}},z:function(e,t,r,n){var i=n._originalDate||e,a=i.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+Yp(a,":");case"zzzz":default:return"GMT"+Hr(a,":")}},t:function(e,t,r,n){var i=n._originalDate||e,a=Math.floor(i.getTime()/1e3);return oe(a,t.length)},T:function(e,t,r,n){var i=n._originalDate||e,a=i.getTime();return oe(a,t.length)}};function Yp(e,t){var r=e>0?"-":"+",n=Math.abs(e),i=Math.floor(n/60),a=n%60;if(a===0)return r+String(i);var s=t||"";return r+String(i)+s+oe(a,2)}function Vp(e,t){if(e%60===0){var r=e>0?"-":"+";return r+oe(Math.abs(e)/60,2)}return Hr(e,t)}function Hr(e,t){var r=t||"",n=e>0?"-":"+",i=Math.abs(e),a=oe(Math.floor(i/60),2),s=oe(i%60,2);return n+a+r+s}var Qp=bP;function Kp(e,t){switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}}function Xp(e,t){switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}}function vP(e,t){var r=e.match(/(P+)(p+)?/)||[],n=r[1],i=r[2];if(!i)return Kp(e,t);var a;switch(n){case"P":a=t.dateTime({width:"short"});break;case"PP":a=t.dateTime({width:"medium"});break;case"PPP":a=t.dateTime({width:"long"});break;case"PPPP":default:a=t.dateTime({width:"full"});break}return a.replace("{{date}}",Kp(n,t)).replace("{{time}}",Xp(i,t))}var SP={p:Xp,P:vP},Zp=SP;var _P=["D","DD"],wP=["YY","YYYY"];function Jp(e){return _P.indexOf(e)!==-1}function em(e){return wP.indexOf(e)!==-1}function nc(e,t,r){if(e==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(r,"`; see: https://git.io/fxCyr"));if(e==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(r,"`; see: https://git.io/fxCyr"));if(e==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(r,"`; see: https://git.io/fxCyr"));if(e==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(r,"`; see: https://git.io/fxCyr"))}var EP=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,RP=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,AP=/^'([^]*?)'?$/,PP=/''/g,TP=/[a-zA-Z]/;function ic(e,t,r){X(2,arguments);var n=String(t),i=r||{},a=i.locale||So,s=a.options&&a.options.firstWeekContainsDate,c=s==null?1:_e(s),l=i.firstWeekContainsDate==null?c:_e(i.firstWeekContainsDate);if(!(l>=1&&l<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var f=a.options&&a.options.weekStartsOn,d=f==null?0:_e(f),m=i.weekStartsOn==null?d:_e(i.weekStartsOn);if(!(m>=0&&m<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!a.localize)throw new RangeError("locale must contain localize property");if(!a.formatLong)throw new RangeError("locale must contain formatLong property");var p=se(e);if(!Qu(p))throw new RangeError("Invalid time value");var y=Ht(p),g=Fn(p,y),S={firstWeekContainsDate:l,weekStartsOn:m,locale:a,_originalDate:p},v=n.match(RP).map(function(A){var O=A[0];if(O==="p"||O==="P"){var F=Zp[O];return F(A,a.formatLong,S)}return A}).join("").match(EP).map(function(A){if(A==="''")return"'";var O=A[0];if(O==="'")return OP(A);var F=Qp[O];if(F)return!i.useAdditionalWeekYearTokens&&em(A)&&nc(A,t,e),!i.useAdditionalDayOfYearTokens&&Jp(A)&&nc(A,t,e),F(g,A,a.localize,S);if(O.match(TP))throw new RangeError("Format string contains an unescaped latin alphabet character `"+O+"`");return A}).join("");return v}function OP(e){return e.match(AP)[1].replace(PP,"'")}function Yi(e,t,r){X(2,arguments);var n=se(e),i=se(t),a=r||{},s=a.locale,c=s===void 0?So:s,l=a.weekStartsOn,f=l===void 0?0:l;if(!c.localize)throw new RangeError("locale must contain localize property");if(!c.formatLong)throw new RangeError("locale must contain formatLong property");if(!c.formatRelative)throw new RangeError("locale must contain formatRelative property");var d=Gi(n,i);if(isNaN(d))throw new RangeError("Invalid time value");var m;d<-6?m="other":d<-1?m="lastWeek":d<0?m="yesterday":d<1?m="today":d<2?m="tomorrow":d<7?m="nextWeek":m="other";var p=Fn(n,Ht(n)),y=Fn(i,Ht(i)),g=c.formatRelative(m,p,y,{locale:c,weekStartsOn:f});return ic(n,g,{locale:c,weekStartsOn:f})}var Qg=Se(Vg()),Kg=require("@raycast/api");var Xc;async function gC(e){return(!Xc||e)&&(Xc=new Qg.GiphyFetch(await yo(le.GIPHY,e))),Xc}async function Jc(e){let t=await gC(e);return{async search(r,n){let{offset:i=0,limit:a}=n||{};return(await t.search(r,{offset:i,limit:a})).data.map(Zc)},async trending(r){let{offset:n=0,limit:i=10}=r||{};return(await t.trending({offset:n,limit:i})).data.map(Zc)},async gifs(r){if(!r.length)return[];let{data:n}=await t.gifs(r);return n.map(Zc)}}}function Zc(e){return{id:e.id,title:e.title||e.slug,url:e.url,slug:e.slug,preview_gif_url:e.images.preview_gif.url,gif_url:e.images.fixed_height.url,metadata:{width:e.images.original.width,height:e.images.original.height,size:parseInt(e.images.original.size??"",10)??0,labels:[{title:"Created",text:Yi(new Date(e.import_datetime),new Date)},e.username&&{title:"User",text:e.username}],links:[e.source&&{title:"Source",text:e.source_tld,target:e.source}],tags:e.tags},attribution:Kg.environment.theme==="light"?"Poweredby_100px-White_VertLogo.png":"Poweredby_100px-Black_VertLogo.png"}}function el(e){X(1,arguments);var t=_e(e);return se(t*1e3)}var Xg=Se(require("path")),Zg=require("@raycast/api");var tl;async function yC(e){return(!tl||e)&&(tl=new Xo(await yo(le.TENOR,e))),tl}async function il(e){let t=await yC(e);return{async search(r,n){let{offset:i=0,limit:a,abort:s}=n||{};return(await t.search(r,{offset:i,limit:a,abort:s})).results?.map(nl)??[]},async trending(r){let{offset:n=0,limit:i=10,abort:a}=r||{};return(await t.trending({offset:n,limit:i,abort:a})).results?.map(nl)??[]},async gifs(r,n){if(!r.length)return[];let{abort:i}=n||{};return(await t.gifs(r,{abort:i})).results?.map(nl)??[]}}}var rl="https://g.tenor.com/",Hn=class{constructor(t){this.apiKey=t}async trending(t){let r=new URL("/v1/trending",rl);r.searchParams.set("key",this.apiKey),r.searchParams.set("locale",Hn.locale),r.searchParams.set("media_filter",Hn.mediaFilter),r.searchParams.set("limit",t?.limit?.toString()??"10"),r.searchParams.set("media_filter","minimal"),t?.offset&&r.searchParams.set("pos",t.offset.toString());let n=await Ye(r.toString(),{signal:t.abort?.signal});if(!n.ok)throw new Error(n.statusText);return await n.json()}async search(t,r){let n=new URL("/v1/search",rl);n.searchParams.set("key",this.apiKey),n.searchParams.set("q",t),n.searchParams.set("locale",Hn.locale),n.searchParams.set("media_filter",Hn.mediaFilter),n.searchParams.set("limit",r?.limit?.toString()??"10"),n.searchParams.set("media_filter","minimal"),r?.offset&&n.searchParams.set("pos",r.offset.toString());let i=await Ye(n.toString(),{signal:r.abort?.signal});if(!i.ok)throw new Error(i.statusText);return await i.json()}async gifs(t,r){let n=new URL("/v1/gifs",rl);n.searchParams.set("key",this.apiKey),n.searchParams.set("ids",t.join(",")),n.searchParams.set("limit",r?.limit?.toString()??"10"),n.searchParams.set("media_filter","minimal");let i=await Ye(n.toString(),{signal:r.abort?.signal});if(!i.ok)throw new Error(i.statusText);return await i.json()}},Xo=Hn;Xo.locale="en_US",Xo.mediaFilter="basic";function nl(e){let t=e.media[0];return{id:e.id,title:e.title||e.h1_title||e.content_description,url:e.itemurl,slug:Xg.default.basename(e.itemurl),preview_gif_url:t.tinygif.preview,gif_url:t.tinygif.url,metadata:{width:t.gif.dims[0],height:t.gif.dims[1],size:t.gif.size,labels:[{title:"Created",text:Yi(el(e.created),new Date)}],tags:e.tags},attribution:Zg.environment.theme==="light"?"PB_tenor_logo_grey_vertical.png":"PB_tenor_logo_blue_vertical.png"}}function bC(){return new ty}function al(){let e=bC();return{async search(t,r){let{offset:n=0,limit:i,abort:a}=r||{};return(await e.search(t,{offset:n,limit:i,abort:a})).results.map(ey)},async trending(t){return[]},async gifs(t,r){if(!t.length)return[];let{abort:n}=r||{};return(await e.gifs(t,{abort:n})).results.map(ey)}}}var Jg="https://api.thefinergifs.club/",ty=class{async search(t,r){let n=new URL("/search",Jg);n.searchParams.set("q",t),n.searchParams.set("q.parser","simple"),n.searchParams.set("sort","_score desc"),n.searchParams.set("size",r?.limit?.toString()??"10"),r?.offset&&n.searchParams.set("start",r.offset.toString());let i=await Ye(n.toString(),{signal:r.abort?.signal});if(!i.ok)throw new Error(i.statusText);return await i.json()}async gifs(t,r){let n=new URL("/search",Jg);n.searchParams.set("q",t.join("|")),n.searchParams.set("q.parser","simple"),n.searchParams.set("q.options",JSON.stringify({fields:["fileid"]})),n.searchParams.set("size",r?.limit?.toString()??"10");let i=await Ye(n.toString(),{signal:r.abort?.signal});if(!i.ok)throw new Error(i.statusText);return await i.json()}},vC=/^(\d{2})x(\d{2})-.+/i;function ey(e){let t=new URL(e.fields.fileid+".gif","https://media.thefinergifs.club"),[,r,n]=e.fields.fileid.match(vC)||new Array(2),i=parseInt(r,10);return{id:e.fields.fileid,title:e.fields.text,slug:e.fields.fileid,preview_gif_url:t.toString(),gif_url:t.toString(),metadata:r||n?{labels:[r&&{title:"Season",text:r},n&&{title:"Episode",text:n}],links:[i&&{title:"The TVDB",text:`Season ${i}`,target:`https://thetvdb.com/series/the-office-us/seasons/official/${i}`}]}:void 0}}function Jr(e){return Array.from(e.reduce((t,r)=>(t.get(r.id.toString())||t.set(r.id.toString(),r),t),new Map).values())}async function en(e,t){switch(e){case le.GIPHY:return await Jc(t);case le.TENOR:return await il(t);case le.FINER_GIFS:return al();case le.FAVORITES:case le.RECENTS:return null}throw new Error(`Unable to find API for service "${e}"`)}function ol({offset:e=0,limit:t}){let[r,n]=(0,vr.useState)(!0),[i,a]=(0,vr.useState)(),[s,c]=(0,vr.useState)(""),l=(0,vr.useRef)(null),f=(0,vr.useCallback)(async function(m,p){l.current?.abort(),l.current=new AbortController,n(!0);let y;try{let g=await en(p);if(g===null){a({items:[]}),n(!1);return}m?y=Jr(await g.search(m,{offset:e,limit:t})):y=Jr(await g.trending({offset:e,limit:t})),a({items:y,term:m})}catch(g){console.error(g);let S=g;if(g instanceof dr)return;S.message.toLowerCase().includes("invalid authentication credentials")&&(S.message="Invalid credentials, please try again.",await en(p,!0)),a({error:S})}finally{n(!1)}return()=>{l.current?.abort()}},[l,n,a,s,i]);return[i,r,c,s,f]}var Ne=require("@raycast/api");var C0=require("@raycast/api");var O0=require("react"),yn=require("@raycast/api");var T0=require("react"),fe=require("@raycast/api");var kt=require("@raycast/api");var sl=class{static iec(e,t){let r=this.optionsInit(t),n=1024,i={1:r.byte,2:"KiB",3:"MiB",4:"GiB",5:"TiB",6:"PiB",7:"EiB",8:"ZiB",9:"YiB"};return typeof e=="number"?this.formatNumber(e,n,i,r):this.formatBigInt(e,BigInt(n),i,r)}static si(e,t){let r=this.optionsInit(t),n=1e3,i={1:r.byte,2:"kB",3:"MB",4:"GB",5:"TB",6:"PB",7:"EB",8:"ZB",9:"YB"};return typeof e=="number"?this.formatNumber(e,n,i,r):this.formatBigInt(e,BigInt(n),i,r)}static optionsInit(e){if(e!==void 0){let t=e.digits;if(t!==void 0&&(!Number.isInteger(t)||t<0))throw new RangeError("The options `digits` must be an integer greater than or equal to 0.")}return{space:e?.space??!1,byte:e?.byte??"byte",digits:e?.digits??0}}static formatNumber(e,t,r,n){if(Number.isNaN(e)||!Number.isFinite(e)||e<0)throw new RangeError("The file size must be a number greater than or equal to 0.");if(!Number.isSafeInteger(e))throw new RangeError(`\`BigInt\` should be used when specifying huge numbers (Value greater than ${Number.MAX_SAFE_INTEGER}).`);let i=n.space?" ":"",a=10**n.digits,s="";for(let[c,l]of Object.entries(r)){let f=Number(c);if(e<t**f){s=`${Math.round(e/t**(f-1)*a)/a}${i}${l}`;break}}return s}static formatBigInt(e,t,r,n){if(e<0)throw new RangeError("The file size must be a number greater than or equal to 0.");let i=n.space?" ":"";for(let[c,l]of Object.entries(r)){let f=BigInt(c);if(e<t**f){let d=t**(f-1n);return`${(e+d/2n)/d}${i}${l}`}}let a=Object.keys(r),s=Object.values(r);return`${e/t**(BigInt(a[a.length-1])-1n)}${i}${s[s.length-1]}`}};var ry=require("@raycast/api");function Zo(e){let t=`
### ${e.title}

<img alt="${e.title}" src="${e.gif_url}" height="200" />

  `;return e.attribution&&(t+=`<img height="36" alt="Powered by" src="file:${ry.environment.assetsPath}/${e.attribution}" />`),t}function ny(e){let{metadata:t}=e.item,r=[];t?.tags?.length&&r.push(_jsx(kt.Detail.Metadata.TagList,{title:"tags"},t.tags.map((a,s)=>_jsx(kt.Detail.Metadata.TagList.Item,{text:a,key:s}))));let n=t?.labels?.filter(Boolean).map(({title:a,text:s},c)=>_jsx(kt.Detail.Metadata.Label,{title:a,text:s,key:c})),i=t?.links?.filter(Boolean).map(({title:a,text:s,target:c},l)=>_jsx(kt.Detail.Metadata.Link,{title:a,text:s,target:c,key:l}));return _jsx(kt.Detail,{markdown:Zo(e.item),actions:_jsx(Jo,{item:e.item,showViewDetails:!1}),metadata:t?_jsx(kt.Detail.Metadata,null,t?.width?_jsx(kt.Detail.Metadata.Label,{title:"Width",text:t.width.toString()}):void 0,t?.height?_jsx(kt.Detail.Metadata.Label,{title:"Height",text:t.height.toString()}):void 0,t?.size&&_jsx(kt.Detail.Metadata.Label,{title:"Size",text:sl.si(t?.size)}),n,i,r):void 0})}var P0=Se(require("path"));var Gb=Se(require("node:process"),1),Wb=Se($b(),1);async function jb(e){if(Gb.default.platform!=="darwin")throw new Error("macOS only");let{stdout:t}=await(0,Wb.default)("osascript",["-e",e]);return t}var mi=Se(require("node:fs"),1),qd=Se(require("node:path"),1),_0=Se(require("node:stream"),1),w0=require("node:util");var Ub=require("util"),ds=Se(require("crypto"),1),Hb=(0,Ub.promisify)(ds.default.randomBytes),hk="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789-._~".split(""),pk="0123456789".split(""),mk="CDEHKMPRTUWXY012458".split(""),gk="!\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~".split(""),yk="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),bk=(e,t)=>{let r=t.length,n=Math.floor(65536/r)*r-1,i=2*Math.ceil(1.1*e),a="",s=0;for(;s<e;){let c=ds.default.randomBytes(i),l=0;for(;l<i&&s<e;){let f=c.readUInt16LE(l);l+=2,!(f>n)&&(a+=t[f%r],s++)}}return a},vk=async(e,t)=>{let r=t.length,n=Math.floor(65536/r)*r-1,i=2*Math.ceil(1.1*e),a="",s=0;for(;s<e;){let c=await Hb(i),l=0;for(;l<i&&s<e;){let f=c.readUInt16LE(l);l+=2,!(f>n)&&(a+=t[f%r],s++)}}return a},Sk=(e,t,r)=>ds.default.randomBytes(e).toString(t).slice(0,r),_k=async(e,t,r)=>(await Hb(e)).toString(t).slice(0,r),wk=new Set([void 0,"hex","base64","url-safe","numeric","distinguishable","ascii-printable","alphanumeric"]),zb=(e,t)=>({length:r,type:n,characters:i})=>{if(!(r>=0&&Number.isFinite(r)))throw new TypeError("Expected a `length` to be a non-negative finite number");if(n!==void 0&&i!==void 0)throw new TypeError("Expected either `type` or `characters`");if(i!==void 0&&typeof i!="string")throw new TypeError("Expected `characters` to be string");if(!wk.has(n))throw new TypeError(`Unknown type: ${n}`);if(n===void 0&&i===void 0&&(n="hex"),n==="hex"||n===void 0&&i===void 0)return t(Math.ceil(r*.5),"hex",r);if(n==="base64")return t(Math.ceil(r*.75),"base64",r);if(n==="url-safe")return e(r,hk);if(n==="numeric")return e(r,pk);if(n==="distinguishable")return e(r,mk);if(n==="ascii-printable")return e(r,gk);if(n==="alphanumeric")return e(r,yk);if(i.length===0)throw new TypeError("Expected `characters` string length to be greater than or equal to 1");if(i.length>65536)throw new TypeError("Expected `characters` string length to be less or equal to 65536");return e(r,i.split(""))},Yb=zb(bk,Sk);Yb.async=zb(vk,_k);var Vb=Yb;function Ol(){return Vb({length:32})}var Nd=Se(Kb(),1);function Xb(e){return e!==null&&typeof e=="object"&&typeof e.pipe=="function"}var E0=Se(S0(),1),kq=(0,w0.promisify)(_0.default.pipeline),R0=(e="")=>qd.default.join(Nd.default,e+Ol()),Dq=async(e,t)=>kq(t,mi.default.createWriteStream(e)),Bd=(e,{extraArguments:t=0}={})=>async(...r)=>{let[n,i]=r.slice(t),a=await e(...r.slice(0,t),i);try{return await n(a)}finally{await(0,E0.default)(a,{force:!0})}},Qe={};Qe.file=e=>{if(e=j({},e),e.name){if(e.extension!==void 0&&e.extension!==null)throw new Error("The `name` and `extension` options are mutually exclusive");return qd.default.join(Qe.directory(),e.name)}return R0()+(e.extension===void 0||e.extension===null?"":"."+e.extension.replace(/^\./,""))};Qe.file.task=Bd(Qe.file);Qe.directory=({prefix:e=""}={})=>{let t=R0(e);return mi.default.mkdirSync(t),t};Qe.directory.task=Bd(Qe.directory);Qe.write=async(e,t)=>{let r=Qe.file(t);return await(Xb(e)?Dq:mi.promises.writeFile)(r,e),r};Qe.write.task=Bd(Qe.write,{extraArguments:1});Qe.writeSync=(e,t)=>{let r=Qe.file(t);return mi.default.writeFileSync(r,e),r};Object.defineProperty(Qe,"root",{get(){return Nd.default}});var A0=Qe;async function $d(e,t){let r=await Ye(e);if(r.status!==200)throw new Error(`GIF file download failed. Server responded with ${r.status}`);if(r.body===null)throw new Error("Unable to read GIF response");let n;t?n={name:t}:n={extension:".gif"};let i;try{i=await A0.write(await r.body,n)}catch(a){let s=a;throw new Error(`Failed to download GIF: "${s.message}"`)}try{await jb(`tell app "Finder" to set the clipboard to ( POSIX file "${i}" )`)}catch(a){let s=a;throw new Error(`Failed to copy GIF: "${s.message}"`)}return P0.default.basename(i)}function nu(e){let t=new URL(e);return t.search="",t.toString()}function Jo(e){let t=Lq(e.item,e.showViewDetails,e.service);return _jsx(fe.ActionPanel,{title:e.item.title},t.map((r,n)=>_jsx(fe.ActionPanel.Section,{key:n},r)))}function Lq(e,t,r){let{id:n,url:i,gif_url:a,slug:s}=e,{state:c,dispatch:l}=(0,T0.useContext)(Dn),{favIds:f,recentIds:d}=c,m=new Map([[r,new Set([n.toString()])]]),p=()=>l({type:"add",save:!0,recentIds:m,service:r}),y=()=>l({type:"remove",save:!0,recentIds:m,service:r}),g=()=>l({type:"add",save:!0,favIds:m,service:r}),S=()=>l({type:"remove",save:!0,favIds:m,service:r}),v=()=>(0,fe.showToast)({style:fe.Toast.Style.Animated,title:"Copying..."}).then(H=>$d(a,`${s}.gif`).then(R=>{H.hide(),(0,fe.showHUD)(`Copied GIF "${R}" to clipboard`)})).catch(H=>(0,fe.showToast)({style:fe.Toast.Style.Failure,title:"Error, please try again",message:H?.message,primaryAction:{title:"Copy Error Message",onAction:R=>fe.Clipboard.copy(R.message??""),shortcut:{modifiers:["cmd"],key:"c"}}})),A=i?_jsx(fe.Action.OpenInBrowser,{key:"openUrlInBrowser",url:i,shortcut:{modifiers:["cmd","shift"],key:"b"}}):void 0,O=_jsx(fe.Action.CopyToClipboard,{key:"copyGifUrl",title:"Copy GIF Link",content:nu(a)}),F=_jsx(fe.Action.CopyToClipboard,{key:"copyGifMarkdown",title:"Copy GIF Markdown",shortcut:{modifiers:["cmd","shift"],key:"enter"},content:`![${e.title}](${nu(a)})`}),k=i?_jsx(fe.Action.CopyToClipboard,{key:"copyPageUrl",title:"Copy Page Link",content:i,shortcut:{modifiers:["cmd","shift"],key:"c"},onCopy:p}):void 0,I=_jsx(fe.Action,{icon:fe.Icon.Clipboard,key:"copyFile",title:"Copy GIF",onAction:()=>v().then(p),shortcut:{modifiers:["cmd","opt"],key:"c"}}),M=_jsx(fe.Action.Push,{icon:fe.Icon.Eye,key:"viewDetails",title:"View GIF Details",target:_jsx(ny,{item:e}),shortcut:{modifiers:["cmd","shift"],key:"d"},onPush:p}),q,T=f?.get(r)?.has(n.toString());f&&(q=T?_jsx(fe.Action,{icon:fe.Icon.Star,key:"toggleFav",title:"Remove from Favorites",onAction:S,shortcut:{modifiers:["cmd","shift"],key:"f"}}):_jsx(fe.Action,{icon:fe.Icon.Star,key:"toggleFav",title:"Add to Favorites",onAction:g,shortcut:{modifiers:["cmd","shift"],key:"f"}}));let B=d?.get(r)?.has(n.toString())?_jsx(fe.Action,{icon:fe.Icon.Clock,key:"removeRecent",title:"Remove from Recents",onAction:y}):void 0,P=[[I,O,F],[q,B,t?M:void 0],[k,A]],G=P[0]?.[0],N=Fp();for(let H=0;H<P.length;H++){let R=P[H];for(let E=0;E<R.length;E++){let K=R[E];K?.key!==G?.key&&K?.key==N&&(R.splice(E,1),H===0?R.unshift(K):P.unshift([K]))}}return P}function x0(e){let{preview_gif_url:t,title:r,id:n}=e.item,{state:i}=(0,O0.useContext)(Dn),a=i.favIds?.get(e.service)?.has(n.toString()),s=bo(),c=[];return a&&c.push({icon:{source:yn.Icon.Star,tintColor:yn.Color.Yellow}}),_jsx(yn.List.Item,{title:r,icon:{source:t},detail:s&&_jsx(yn.List.Item.Detail,{markdown:Zo(e.item)}),actions:_jsx(Jo,{item:e.item,showViewDetails:!0,service:e.service}),accessories:c})}function I0(e){let{title:t}=e;return e.term&&(t=`GIF results for "${e.term}"`),e.hide?null:_jsx(C0.List.Section,{title:t,key:e.title},e.results?.map((r,n)=>_jsx(x0,{key:r.id,item:r,index:n,service:e.service})))}function iu(e){return _jsx(Ne.List,{searchBarAccessory:e.showDropdown&&_jsx(Ne.List.Dropdown,{tooltip:"",storeValue:!0,onChange:e.onDropdownChange},_jsx(Ne.List.Dropdown.Section,null,_jsx(Ne.List.Dropdown.Item,{title:"Giphy",value:le.GIPHY,icon:{source:"giphy-logo-square-180.png"}}),_jsx(Ne.List.Dropdown.Item,{title:"Tenor",value:le.TENOR,icon:{source:"tenor-logo-square-180.png"}}),_jsx(Ne.List.Dropdown.Item,{title:"Finer Gifs Club",value:le.FINER_GIFS,icon:{source:"finergifs-logo.svg",tintColor:Ne.Color.PrimaryText}})),_jsx(Ne.List.Dropdown.Section,null,_jsx(Ne.List.Dropdown.Item,{title:"Favorites",value:le.FAVORITES,icon:{source:Ne.Icon.Star,tintColor:Ne.Color.Yellow}}),_jsx(Ne.List.Dropdown.Item,{title:"Recent",value:le.RECENTS,icon:{source:Ne.Icon.Clock}}))),enableFiltering:e.enableFiltering,isLoading:e.isLoading,throttle:!0,searchBarPlaceholder:e.searchBarPlaceholder,onSearchTextChange:e.onSearchTextChange,isShowingDetail:e.showDetail},e.showEmpty?_jsx(Ne.List.EmptyView,{title:e.emptyStateText,icon:e.emptyStateIcon}):e.sections.map(t=>_jsx(I0,{key:t.title,title:t.title,results:t.results,term:t.term,hide:t.hide,service:t.service})))}var gi=require("react");function au(){let[e,t]=(0,gi.useState)(!0),[r,n]=(0,gi.useState)(),i=(0,gi.useCallback)(async function(c,l,f){let{offset:d=0,limit:m,reverse:p}=f||{};if(!l||!c.size){t(!1),n({items:new Map});return}t(!0);let y=await en(l);if(!y){n({items:new Map}),t(!1);return}let g;try{let S=[...c];p&&S.reverse(),m&&(S=S.slice(0,m-1)),g=Jr(await y.gifs(S)),g.length&&n({items:new Map([[l,g]])})}catch(S){let v=S;if(S instanceof dr){t(!1);return}else v.message.toLowerCase().includes("invalid authentication credentials")?(v.message="Invalid credentials, please try again.",await en(l,!0)):await ji(l,"favs");n({errors:[v]})}t(!1)},[t,n]),a=(0,gi.useCallback)(async function(c,l){let{offset:f=0,limit:d,reverse:m}=l||{};if(!c.size){t(!1),n({items:new Map});return}t(!0);let p=new Map,y=[];for(let g of c.keys()){let S=await en(g);if(!S)continue;let v;try{let A=[...c.get(g)||new Set];m&&A.reverse(),d&&(A=A.slice(0,d-1)),v=Jr(await S.gifs(A)),v.length&&p.set(g,v)}catch(A){let O=A;if(A instanceof dr)break;O.message.toLowerCase().includes("invalid authentication credentials")?(O.message="Invalid credentials, please try again.",await en(g,!0)):await ji(g,"favs"),y.push(O);break}}y.length?n({errors:y}):n({items:p}),t(!1)},[t,n]);return[r,e,i,a]}function k0(){let e=bo(),t=Mp(),[r,n]=(0,Et.useState)(),[i,a,s,c,l]=ol({limit:t}),f=R=>{n(R),s(c)};(0,Et.useEffect)(()=>{!r||l(c,r)},[c,r]),(0,Et.useEffect)(()=>{i?.error&&(0,pt.showToast)({style:pt.Toast.Style.Failure,title:"Failed loading gifs",message:i?.error.message})},[i?.error]);let[d,m]=(0,Et.useReducer)(Gp,Yu),[p,y,g,S]=vo("favs"),[v,A,O,F]=au(),[k,I,M,q]=vo("recent"),[T,D,B,P]=au(),G=()=>r===le.FAVORITES,N=()=>r===le.RECENTS;(0,Et.useEffect)(()=>{!r||(G()?S():g(r),N()?q():M(r))},[g,S,M,q,r]),(0,Et.useEffect)(()=>{y||m({type:"replace",favIds:p?.ids,service:r}),I||m({type:"replace",recentIds:k?.ids,service:r})},[y,I,m]),(0,Et.useEffect)(()=>{G()?F(d.favIds||new Map,{reverse:!0}):O(d.favIds?.get(r)||new Set,r,{limit:t/2,reverse:!0}),N()?P(d.recentIds||new Map,{reverse:!0}):B(d.recentIds?.get(r)||new Set,r,{limit:t/2,reverse:!0})},[d]),(0,Et.useEffect)(()=>{if(p?.error||v?.errors){let R=v?.errors?.map(({message:E})=>E).join(". ");(0,pt.showToast)({style:pt.Toast.Style.Failure,title:"Failed loading favorites",message:p?.error?.message||R})}if(k?.error||T?.errors){let R=T?.errors?.map(({message:E})=>E).join(". ");(0,pt.showToast)({style:pt.Toast.Style.Failure,title:"Failed loading recent",message:k?.error?.message||R})}},[p?.error,v?.errors,k?.error,T?.errors]);let H;return G()?H=_jsx(iu,{isLoading:y||A,showDropdown:!0,showDetail:e&&(v?.items?.size??0)!==0,showEmpty:!v?.items?.size&&!i?.term,onDropdownChange:f,enableFiltering:!0,searchBarPlaceholder:"Search favorites...",emptyStateText:"Add some GIFs to your Favorites first!",emptyStateIcon:pt.Icon.Star,sections:Array.from(v?.items||[]).map(([R,E])=>({title:mo(R),results:E,service:R}))}):N()?H=_jsx(iu,{isLoading:I||D,showDropdown:!0,showDetail:e&&(T?.items?.size??0)!==0,showEmpty:!T?.items?.size&&!i?.term,onDropdownChange:f,enableFiltering:!0,searchBarPlaceholder:"Search recents...",emptyStateText:"Work with some GIFs first...",emptyStateIcon:pt.Icon.Clock,sections:Array.from(T?.items||[]).map(([R,E])=>({title:mo(R),results:E,service:R}))}):H=_jsx(iu,{isLoading:a||y||A||D,showDropdown:!0,showDetail:e&&(i?.items?.length??0)+(v?.items?.size??0)!=0,showEmpty:!v?.items?.size&&!i?.term&&!i?.items?.length,searchBarPlaceholder:`Search for GIFs${r?` on ${mo(r)}`:""}...`,emptyStateText:"Enter a search above to get started...",emptyStateIcon:pt.Icon.MagnifyingGlass,onDropdownChange:f,onSearchTextChange:s,sections:[{title:"Favorites",results:v?.items?.get(r),service:r,hide:!v?.items||!!i?.term},{title:"Recent",results:T?.items?.get(r),service:r,hide:!T?.items||!!i?.term},{title:"Trending",term:i?.term,results:i?.items,service:r}]}),_jsx(Dn.Provider,{value:{state:d,dispatch:m}},H)}globalThis.fetch||(globalThis.fetch=Ye,globalThis.Headers=ze,globalThis.Request=Pt,globalThis.Response=De);function D0(){return _jsx(k0,null)}module.exports=aA(Fq);0&&(module.exports={});
/*!
 * fill-range <https://github.com/jonschlinkert/fill-range>
 *
 * Copyright (c) 2014-present, Jon Schlinkert.
 * Licensed under the MIT License.
 */
/*!
 * is-extglob <https://github.com/jonschlinkert/is-extglob>
 *
 * Copyright (c) 2014-2016, Jon Schlinkert.
 * Licensed under the MIT License.
 */
/*!
 * is-glob <https://github.com/jonschlinkert/is-glob>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */
/*!
 * is-number <https://github.com/jonschlinkert/is-number>
 *
 * Copyright (c) 2014-present, Jon Schlinkert.
 * Released under the MIT License.
 */
/*!
 * to-regex-range <https://github.com/micromatch/to-regex-range>
 *
 * Copyright (c) 2015-present, Jon Schlinkert.
 * Released under the MIT License.
 */
/*! fetch-blob. MIT License. Jimmy Wärting <https://jimmy.warting.se/opensource> */
/*! formdata-polyfill. MIT License. Jimmy Wärting <https://jimmy.warting.se/opensource> */
/*! node-domexception. MIT License. Jimmy Wärting <https://jimmy.warting.se/opensource> */
/*! queue-microtask. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */
/*! run-parallel. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */
